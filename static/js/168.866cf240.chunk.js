(this.webpackJsonparcgis=this.webpackJsonparcgis||[]).push([[168],{1046:function(e,t,a){"use strict";a.r(t),a.d(t,"previewCIMSymbol",(function(){return p}));var n=a(8),i=a.n(n),r=a(16),l=a(28),c=a(987),s=a(609),o=new c.CIMSymbolRasterizer(null,!0),u=120;function p(e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(i.a.mark((function e(t){var a,n,r,c,p,h,d,m,y,b,g,w,f,v,M,C,I,O,D,S=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S.length>1&&void 0!==S[1]?S[1]:{},n=a.size,r=a.maxSize,c=a.node,p=a.opacity,h=a.cimOptions||a,d=h.feature,m=h.fieldMap,y=h.geometryType,b=h.style,g=Object(s.b)(t),(w=Math.min(null!=n?n:g,null!=r?r:Object(l.h)(u)))!==g&&(t=t.clone(),Object(s.d)(t,w,{preserveOutlineWidth:!0})),f=3,t&&t.data&&t.data.symbol&&"CIMPointSymbol"!==t.data.symbol.type&&(f=1),e.next=7,o.rasterizeCIMSymbolAsync(t,d,m,y,{scaleFactor:f,style:b});case 7:return v=e.sent,(M=document.createElement("canvas")).width=v.imageData.width,M.height=v.imageData.height,M.getContext("2d").putImageData(v.imageData,0,0),C=M.width/f,I=M.height/f,null==n||null!=(null==a?void 0:a.scale)&&!(null==a?void 0:a.scale)||(C=(O=C/I)<=1?Math.ceil(w*O):w,I=O<=1?w:Math.ceil(w/O)),D=new Image(C,I),e.abrupt("return",(D.src=M.toDataURL(),null!=p&&(D.style.opacity="".concat(p)),c&&c.appendChild(D),D));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=168.866cf240.chunk.js.map