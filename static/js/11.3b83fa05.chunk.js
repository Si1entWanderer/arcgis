(this.webpackJsonparcgis=this.webpackJsonparcgis||[]).push([[11],{715:function(e,t,r){"use strict";r.d(t,"a",(function(){return de})),r.d(t,"b",(function(){return ie})),r.d(t,"c",(function(){return oe})),r.d(t,"d",(function(){return ae})),r.d(t,"e",(function(){return ne})),r.d(t,"f",(function(){return te})),r.d(t,"g",(function(){return re})),r.d(t,"h",(function(){return pe})),r.d(t,"i",(function(){return L})),r.d(t,"j",(function(){return B})),r.d(t,"k",(function(){return G})),r.d(t,"l",(function(){return R})),r.d(t,"m",(function(){return ee})),r.d(t,"n",(function(){return N})),r.d(t,"o",(function(){return E})),r.d(t,"p",(function(){return Q})),r.d(t,"q",(function(){return fe})),r.d(t,"r",(function(){return $})),r.d(t,"s",(function(){return V})),r.d(t,"t",(function(){return q})),r.d(t,"u",(function(){return ue})),r.d(t,"v",(function(){return be})),r.d(t,"w",(function(){return se})),r.d(t,"x",(function(){return W}));var n=r(8),a=r.n(n),o=r(2),i=r(16),c=r(13),u=r(99),s=r(101),l=r(22),f=r(17),d=r(3),b=r(23),h=r(94),v=r(26),p=r(31),y=r(193),g=r(554),w=r(4),O=r(43),m=r(51),j=r(68),M=r(55),x=r(34),U=r(40),C=r(61),S=r(152),A=r(749),I=r(784),k=r(380),T=r(424),F=r(414);function z(e){return e&&parseInt(e.substring(e.lastIndexOf("/")+1,e.length),10)}function L(e){if(Object(f.a)("disable-feature:i3s-draco")||!e)return!1;var t,r=Object(c.a)(e);try{for(r.s();!(t=r.n()).done;){var n,a=t.value,o=Object(c.a)(a.geometryBuffers);try{for(o.s();!(n=o.n()).done;){if("draco"===n.value.compressedAttributes.encoding)return!0}}catch(i){o.e(i)}finally{o.f()}}}catch(i){r.e(i)}finally{r.f()}return!1}function R(e,t,r,n,a,o){a.traverse(r,(function(r){var a=r.mbs;t!==n&&(a=D,Object(m.p)(r.mbs,n,a,t));var i=function(e,t){var r=t[0],n=t[1],a=t[3],o=e[0]-r,i=r-e[2],c=e[1]-n,u=n-e[3],s=Math.max(o,i,0),l=Math.max(c,u,0),f=s*s+l*l;return f>a*a?0:f>0?1:-Math.max(o,i,c,u)>a?3:2}(e,a);return 0!==i&&(o(r,i),!0)}))}function B(e,t,r){for(var n=0,a=0,o=0;o<t.length&&n<e.length;o++)e[n]===t[o]&&(r(o)&&(e[a]=e[n],a++),n++);e.length=a}function q(e,t,r){for(var n=0,a=0;n<r.length;)Object(s.b)(e,r[n])>=0===t&&(r[a]=r[n],a++),n++;r.length=a}var P=Object(x.h)();function E(e,t){if(0===t.rotationScale[1]&&0===t.rotationScale[2]&&0===t.rotationScale[3]&&0===t.rotationScale[5]&&0===t.rotationScale[6]&&0===t.rotationScale[7])return P[0]=(e[0]-t.position[0])/t.rotationScale[0],P[1]=(e[1]-t.position[1])/t.rotationScale[4],P[2]=(e[2]-t.position[2])/t.rotationScale[8],P[3]=(e[3]-t.position[0])/t.rotationScale[0],P[4]=(e[4]-t.position[1])/t.rotationScale[4],P[5]=(e[5]-t.position[2])/t.rotationScale[8],P}var D=Object(O.e)();function V(e,t){var r=t[0],n=t[1],a=t[2],o=t[3],i=e[0]-r,c=r-e[3],u=e[1]-n,s=n-e[4],l=e[2]-a,f=a-e[5],d=Math.max(i,c,0),b=Math.max(u,s,0),h=Math.max(l,f,0),v=d*d+b*b+h*h;return v>o*o?0:v>0?1:-Math.max(i,c,u,s,l,f)>o?3:2}function G(e,t,r){var n,a=[],o=r&&r.missingFields,i=r&&r.originalFields,u=Object(c.a)(e);try{for(u.s();!(n=u.n()).done;){var s,l=n.value,f=l.toLowerCase(),d=!1,b=Object(c.a)(t);try{for(b.s();!(s=b.n()).done;){var h=s.value;if(f===h.name.toLowerCase()){a.push(h.name),d=!0,i&&i.push(l);break}}}catch(v){b.e(v)}finally{b.f()}!d&&o&&o.push(l)}}catch(v){u.e(v)}finally{u.f()}return a}function W(e,t,r,n,a){return Y.apply(this,arguments)}function Y(){return(Y=Object(i.a)(a.a.mark((function e(t,r,n,o,i){var c,u,f,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return",[]);case 2:if(c=t.attributeStorageInfo,!Object(d.j)(t.associatedLayer)){e.next=14;break}return e.prev=4,e.next=7,K(t.associatedLayer,r,n,o);case 7:return e.abrupt("return",e.sent);case 10:if(e.prev=10,e.t0=e.catch(4),!t.associatedLayer.loaded){e.next=14;break}throw e.t0;case 14:if(!c){e.next=23;break}if(u=Z(r,n,i),!Object(d.i)(u)){e.next=18;break}throw new l.a("scenelayer:features-not-loaded","Tried to query attributes for unloaded features");case 18:return f=t.parsedUrl.path,e.next=21,Promise.all(u.map((function(e){return _(f,c,e.node,e.indices,o).then((function(t){for(var r=0;r<e.graphics.length;r++){var n=e.graphics[r],a=t[r];if(n.attributes)for(var o in n.attributes)o in a||(a[o]=n.attributes[o]);n.attributes=a}return e.graphics}))})));case 21:return b=e.sent,e.abrupt("return",Object(s.f)(b));case 23:throw new l.a("scenelayer:no-attribute-source","This scene layer does not have a source for attributes available");case 24:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function Z(e,t,r){var n,a=new Map,o=[],i=r(),u=Object(c.a)(e);try{for(u.s();!(n=u.n()).done;)for(var s=n.value,l=s.attributes[t],f=0;f<i.length;f++){var d=i[f],b=d.featureIds.indexOf(l);if(b>=0){var h=a.get(d.node);h||(h={node:d.node,indices:[],graphics:[]},o.push(h),a.set(d.node,h)),h.indices.push(b),h.graphics.push(s);for(var v=f;v>0;v--)i[v]=i[v-1];i[0]=d;break}}}catch(p){u.e(p)}finally{u.f()}return o}function K(e,t,r,n){return X.apply(this,arguments)}function X(){return(X=Object(i.a)(a.a.mark((function e(t,r,n,o){var i,c,u,s,l,f,d,b,h,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.sort((function(e,t){return e.attributes[n]-t.attributes[n]})),i=r.map((function(e){return e.attributes[n]})),c=[],u=G(o,t.fields,{originalFields:c}),e.next=6,H(t,i,u);case 6:for(s=e.sent,l=0;l<r.length;l++){if(f=r[l],d=s[l],b={},f.attributes)for(h in f.attributes)b[h]=f.attributes[h];for(v=0;v<c.length;v++)b[c[v]]=d[u[v]];f.attributes=b}return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,r){var n=e.capabilities.query.maxRecordCount;if(null!=n&&t.length>n){var a=Object(s.n)(t,n);return Promise.all(a.map((function(t){return H(e,t,r)}))).then(s.f)}var o=new S.a({objectIds:t,outFields:r,orderByFields:[e.objectIdField]});return e.queryFeatures(o).then((function(e){if(e&&e.features&&e.features.length===t.length)return e.features.map((function(e){return e.attributes}));throw new l.a("scenelayer:feature-not-in-associated-layer","Feature not found in associated feature layer")}))}function _(e,t,r,n,a){var o,i=[],s=Object(c.a)(t);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l&&-1!==a.indexOf(l.name)){var f="".concat(e,"/nodes/").concat(r.resources.attributes,"/attributes/").concat(l.key,"/0");i.push({url:f,storageInfo:l})}}}catch(d){s.e(d)}finally{s.f()}return Object(b.k)(i.map((function(e){return Object(u.default)(e.url,{responseType:"array-buffer"}).then((function(t){return Object(A.d)(e.storageInfo,t.data)}))}))).then((function(e){var t,r=[],a=Object(c.a)(n);try{for(a.s();!(t=a.n()).done;){for(var o=t.value,u={},s=0;s<e.length;s++)null!=e[s].value&&(u[i[s].storageInfo.name]=N(e[s].value,o));r.push(u)}}catch(d){a.e(d)}finally{a.f()}return r}))}var J=-Math.pow(2,31);function N(e,t){if(!e)return null;var r=e[t];return Object(h.f)(e)?-32768===r?null:r:Object(h.g)(e)?r===J?null:r:r!=r?null:r}function Q(e){var t=e.store.indexCRS||e.store.geographicCRS,r=void 0===t?e.store.indexWKT:void 0;if(r){if(!e.spatialReference)throw new l.a("layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference","Found indeWKT in the scene layer store but no layer spatial reference",{});if(r!==e.spatialReference.wkt)throw new l.a("layerview:store-spatial-reference-wkt-index-incompatible","The indeWKT of the scene layer store does not match the WKT of the layer spatial reference",{})}var n=t?new M.a(z(t)):e.spatialReference;return n.equals(e.spatialReference)?e.spatialReference:n}function $(e){var t=e.store.vertexCRS||e.store.projectedCRS,r=void 0===t?e.store.vertexWKT:void 0;if(r){if(!e.spatialReference)throw new l.a("layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference","Found vertexWKT in the scene layer store but no layer spatial reference",{});if(r!==e.spatialReference.wkt)throw new l.a("layerview:store-spatial-reference-wkt-vertex-incompatible","The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference",{})}var n=t?new M.a(z(t)):e.spatialReference;return n.equals(e.spatialReference)?e.spatialReference:n}function ee(e,t){return Object(d.i)(t)?"@null":t===Object(j.g)(t)?"@ECEF":e.equals(t)?"":null!=t.wkid?"@"+t.wkid:null}function te(e,t,r){if(!Object(C.a)(e,t))throw new l.a("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{});if("local"===r&&e.isGeographic)throw new l.a("layerview:local-gcs-not-supported","Geographic coordinate systems are not supported in local scenes",{})}function re(e,t,r){var n=Q(e),a=$(e);te(n,t,r),te(a,t,r)}function ne(e){if(null==e.store||null==e.store.defaultGeometrySchema||!function(e){return(null==e.geometryType||"triangles"===e.geometryType)&&(null==e.topology||"PerAttributeArray"===e.topology)&&null!=e.vertexAttributes&&null!=e.vertexAttributes.position}(e.store.defaultGeometrySchema))throw new l.a("scenelayer:unsupported-geometry-schema","The geometry schema of this scene layer is not supported.",{url:e.parsedUrl.path})}function ae(e,t){re(e,t.spatialReference,t.viewingMode)}function oe(e){if(null==e.store||null==e.store.defaultGeometrySchema||!function(e){return null!=e.geometryType&&"points"===e.geometryType&&(null==e.topology||"PerAttributeArray"===e.topology)&&(null==e.encoding||""===e.encoding||"lepcc-xyz"===e.encoding)&&null!=e.vertexAttributes&&null!=e.vertexAttributes.position}(e.store.defaultGeometrySchema))throw new l.a("pointcloud:unsupported-geometry-schema","The geometry schema of this point cloud scene layer is not supported.",{})}function ie(e,t){te(e.spatialReference,t.spatialReference,t.viewingMode)}function ce(e){return"mesh-3d"===e.type}function ue(e){if(null==e||!function(e){return"simple"===e.type||"class-breaks"===e.type||"unique-value"===e.type}(e))return!0;if(("unique-value"===e.type||"class-breaks"===e.type)&&null==e.defaultSymbol)return!0;var t=e.getSymbols();if(0===t.length)return!0;var r,n=Object(c.a)(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(!ce(a)||0===a.symbolLayers.length)return!0;var o,i=Object(c.a)(a.symbolLayers.items);try{for(i.s();!(o=i.n()).done;){var u=o.value;if("fill"!==u.type||Object(d.i)(u.material)||Object(d.i)(u.material.color)||"replace"!==u.material.colorMixMode)return!0}}catch(s){i.e(s)}finally{i.f()}}}catch(s){n.e(s)}finally{n.f()}return!1}var se=Object(k.c)({color:[0,0,0,0],opacity:0}),le=function e(){Object(o.a)(this,e),this.edgeMaterial=null,this.material=null,this.castShadows=!0};function fe(e){var t,r=new le,n=!1,a=!1,o=Object(c.a)(e.symbolLayers.items);try{for(o.s();!(t=o.n()).done;){var i=t.value;if("fill"===i.type&&i.enabled){var u=i.material,s=i.edges;if(Object(d.j)(u)&&!n){var l=u.color,f=Object(T.b)(u.colorMixMode);Object(d.j)(l)?r.material={color:[l.r/255,l.g/255,l.b/255],alpha:l.a,colorMixMode:f}:r.material={color:[1,1,1],alpha:1,colorMixMode:1},r.castShadows=i.castShadows,n=!0}Object(d.j)(s)&&!a&&(r.edgeMaterial=Object(k.b)(s,{}),a=!0)}}}catch(b){o.e(b)}finally{o.f()}return r.material||(r.material={color:[1,1,1],alpha:1,colorMixMode:1}),r}function de(e,t){return(0|e)+(0|t)|0}function be(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;n===Object(j.g)(n)?t.isGeographic?ve(e,r,t,a):he(e,r,t,a):e===r?(r.center[2]+=a,Object(m.q)(r.center,t,0,r.center,n,0,1)):(Object(w.y)(r.center,e.center[0],e.center[1],e.center[2]+a),Object(m.q)(r.center,t,0,r.center,n,0,1),Object(y.a)(r.quaternion,e.quaternion),Object(w.m)(r.halfSize,e.halfSize))}function he(e,t,r,n){Object(F.d)(e,we),Object(w.y)(t.center,e.center[0],e.center[1],e.center[2]+n),Object(m.d)(r,t.center,ye,Object(j.g)(r)),Object(w.y)(t.center,ye[12],ye[13],ye[14]);var a=2*Math.sqrt(1+ye[0]+ye[5]+ye[10]);ge[0]=(ye[6]-ye[9])/a,ge[1]=(ye[8]-ye[2])/a,ge[2]=(ye[1]-ye[4])/a,ge[3]=.25*a,Object(y.f)(t.quaternion,ge,e.quaternion),Object(y.b)(ge,t.quaternion);var o,i=0,u=0,s=0,l=Object(c.a)(we);try{for(l.s();!(o=l.n()).done;){var f=o.value;f[2]+=n,Object(m.q)(f,r,0,f,Object(j.g)(r),0,1),Object(w.C)(Me,f,t.center),Object(w.w)(Me,Me,ge),i=Math.max(i,Math.abs(Me[0])),u=Math.max(u,Math.abs(Me[1])),s=Math.max(s,Math.abs(Me[2]))}}catch(d){l.e(d)}finally{l.f()}Object(w.y)(t.halfSize,i,u,s)}function ve(e,t,r,n){var a=Object(j.e)(r),o=1+Math.max(0,n)/(a.radius+e.center[2]);Object(w.y)(t.center,e.center[0],e.center[1],e.center[2]+n),Object(m.q)(t.center,r,0,t.center,Object(j.g)(r),0,1),Object(y.a)(t.quaternion,e.quaternion),Object(y.b)(ge,e.quaternion),Object(w.y)(Me,0,0,1),Object(w.w)(Me,Me,ge),Object(w.y)(Me,e.halfSize[0]*Math.abs(Me[0]),e.halfSize[1]*Math.abs(Me[1]),e.halfSize[2]*Math.abs(Me[2])),Object(w.g)(Me,Me,a.inverseFlattening),Object(w.h)(t.halfSize,e.halfSize,Me),Object(w.g)(t.halfSize,t.halfSize,o)}function pe(e,t,r,n,a,o){if(!o||0===o.length||Object(d.i)(t))return null;var i,u=Object(I.a)(e.mbs,a,r,t);Object(v.a)(Ue,u);var s=function(){if(!i)if(i=we,Object(U.m)(me),Object(d.j)(e.serviceObb)){be(e.serviceObb,r,je,t,a),Object(F.d)(je,i);var n,o=Object(c.a)(i);try{for(o.s();!(n=o.n()).done;){var u=n.value;Object(w.s)(u,u,Ue),Object(U.p)(me,u)}}catch(y){o.e(y)}finally{o.f()}}else{var s=e.mbs,l=s[3];Object(m.z)(s,r,Me,t),Object(w.s)(Me,Me,Ue),Me[2]+=a;for(var f=0;f<8;++f){var b=1&f?l:-l,h=2&f?l:-l,v=4&f?l:-l,p=i[f];Object(w.m)(p,[Me[0]+b,Me[1]+h,Me[2]+v]),Object(U.p)(me,p)}}},l=1/0,f=-1/0;if(o.forEach((function(e){return function(e){if("replace"===e.type){var r=e.geometry;if(r.hasZ){Object(U.m)(Oe);var a=r.spatialReference||n,o=r.rings.reduce((function(e,r){return r.reduce((function(e,r){return Object(m.z)(r,a,Me,t),Object(w.s)(Me,Me,Ue),Object(U.p)(Oe,Me),Math.min(Me[2],e)}),e)}),1/0);s(),Object(U.v)(me,Oe)&&(l=Math.min(l,o),f=Math.max(f,o))}}}(e)})),l===1/0)return null;for(var b=function(e,t,r){Object(w.s)(Me,r,u),e[t+0]=Me[0],e[t+1]=Me[1],e[t+2]=Me[2],t+=24,r[2]=l,Object(w.s)(Me,r,u),e[t+0]=Me[0],e[t+1]=Me[1],e[t+2]=Me[2],t+=24,r[2]=f,Object(w.s)(Me,r,u),e[t+0]=Me[0],e[t+1]=Me[1],e[t+2]=Me[2]},h=0;h<8;++h)b(xe.data,3*h,i[h]);return Object(F.c)(xe)}var ye=Object(p.d)(),ge=Object(g.b)(),we=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Oe=Object(U.k)(),me=Object(U.k)(),je=Object(F.e)(),Me=[0,0,0],xe={data:new Array(72),size:3},Ue=Object(p.d)()},749:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return w}));var n=r(14),a=r(13),o=r(22),i=r(25),c=r(15),u=r(780),s=c.a.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function l(e,t,r){for(var n="",a=0;a<r;){var i=e[t+a];if(i<128)n+=String.fromCharCode(i),a++;else if(i>=192&&i<224){if(a+1>=r)throw new o.a("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var c=(31&i)<<6|63&e[t+a+1];n+=String.fromCharCode(c),a+=2}else if(i>=224&&i<240){if(a+2>=r)throw new o.a("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var u=(15&i)<<12|(63&e[t+a+1])<<6|63&e[t+a+2];n+=String.fromCharCode(u),a+=3}else{if(!(i>=240&&i<248))throw new o.a("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");if(a+3>=r)throw new o.a("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var s=(7&i)<<18|(63&e[t+a+1])<<12|(63&e[t+a+2])<<6|63&e[t+a+3];if(s>=65536){var l=55296+(s-65536>>10),f=56320+(1023&s);n+=String.fromCharCode(l,f)}else n+=String.fromCharCode(s);a+=4}}return n}function f(e,t){for(var r={byteOffset:0,byteCount:0,fields:Object.create(null)},n=0,a=0;a<t.length;a++){var o=t[a],i=o.valueType||o.type,c=m[i];r.fields[o.property]=c(e,n),n+=O[i].BYTES_PER_ELEMENT}return r.byteCount=n,r}function d(e,t,r){var n,a,i=[],c=0;for(a=0;a<e;a+=1){if((n=t[a])>0){if(i.push(l(r,c,n-1)),0!==r[c+n-1])throw new o.a("string-array-error","Invalid string array: missing null termination.")}else i.push(null);c+=n}return i}function b(e,t){return new(0,O[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function h(e,t,r){for(var n=null!=t.header?f(e,t.header):{byteOffset:0,byteCount:0,fields:{count:r}},a={header:n,byteOffset:n.byteCount,byteCount:0,entries:Object.create(null)},c=n.byteCount,u=0;u<t.ordering.length;u++){var s=t.ordering[u],l=Object(i.a)(t[s]);if(l.count=n.fields.count,"String"===l.valueType){if(l.byteOffset=c,l.byteCount=n.fields[s+"ByteCount"],"UTF-8"!==l.encoding)throw new o.a("unsupported-encoding","Unsupported String encoding.",{encoding:l.encoding})}else{if(!j(l.valueType))throw new o.a("unsupported-value-type","Unsupported binary valueType",{valueType:l.valueType});var d=M(l.valueType);c+=c%d!=0?d-c%d:0,l.byteOffset=c,l.byteCount=d*l.valuesPerElement*l.count}c+=l.byteCount,a.entries[s]=l}return a.byteCount=c-a.byteOffset,a}function v(e,t,r){if(t!==e&&s.error("Invalid ".concat(r," buffer size\n expected: ").concat(e,", actual: ").concat(t,")")),t<e)throw new o.a("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function p(e,t){var r,o=f(e,t&&t.header),i=o.byteCount,c={isDraco:!1,header:o,byteOffset:o.byteCount,byteCount:0,vertexAttributes:{}},u=o.fields,s=null!=u.vertexCount?u.vertexCount:u.count,l=Object(a.a)(t.ordering);try{for(l.s();!(r=l.n()).done;){var d=r.value;if(t.vertexAttributes[d]){var b=Object(n.a)(Object(n.a)({},t.vertexAttributes[d]),{},{byteOffset:i,count:s}),h=g[d]?g[d]:"_"+d;c.vertexAttributes[h]=b,i+=M(b.valueType)*b.valuesPerElement*s}}}catch(A){l.e(A)}finally{l.f()}var p=u.faceCount;if(t.faces&&p){c.faces={};var y,w=Object(a.a)(t.ordering);try{for(w.s();!(y=w.n()).done;){var O=y.value;if(t.faces[O]){var m=Object(n.a)(Object(n.a)({},t.faces[O]),{},{byteOffset:i,count:p});c.faces[O]=m,i+=M(m.valueType)*m.valuesPerElement*p}}}catch(A){w.e(A)}finally{w.f()}}var j=u.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&j){c.featureAttributes={};var x,U=Object(a.a)(t.featureAttributeOrder);try{for(U.s();!(x=U.n()).done;){var C=x.value;if(t.featureAttributes[C]){var S=Object(n.a)(Object(n.a)({},t.featureAttributes[C]),{},{byteOffset:i,count:j});c.featureAttributes[C]=S,i+=("UInt64"===S.valueType?8:M(S.valueType))*S.valuesPerElement*j}}}catch(A){U.e(A)}finally{U.f()}}return v(i,e.byteLength,"geometry"),c.byteCount=i-c.byteOffset,c}function y(e,t){return e&&e.compressedAttributes&&"draco"===e.compressedAttributes.encoding?function(e){var t,r={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){switch(t.value){case"position":break;case"normal":r.normal=!0;break;case"uv0":r.uv0=!0;break;case"color":r.color=!0;break;case"uv-region":r.uvRegion=!0;break;case"feature-index":r.featureIndex=!0}}}catch(o){n.e(o)}finally{n.f()}return r}(e.compressedAttributes.attributes):e?function(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}(e):function(e){var t,r={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},n=Object(a.a)(e.ordering);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(e.vertexAttributes[o])switch(o){case"position":break;case"normal":r.normal=!0;break;case"color":r.color=!0;break;case"uv0":r.uv0=!0;break;case"region":r.uvRegion=!0}}}catch(i){n.e(i)}finally{n.f()}return e.featureAttributes&&e.featureAttributeOrder&&(r.featureIndex=!0),r}(t)}var g={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};function w(e,t,r){if("lepcc-rgb"===e.encoding)return Object(u.b)(t);if("lepcc-intensity"===e.encoding)return Object(u.a)(t);if(null!=e.encoding&&""!==e.encoding)throw new o.a("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(s.warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(s.warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");var n=h(t,e,r);v(n.byteOffset+n.byteCount,t.byteLength,"attribute");var a=n.entries.attributeValues||n.entries.objectIds;if(a){if("String"===a.valueType){var i=n.entries.attributeByteCounts,c=b(t,i),l=function(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}(t,a);return d(i.count,c,l)}return b(t,a)}throw new o.a("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}var O={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},m={Float32:function(e,t){return new DataView(e,0).getFloat32(t,!0)},Float64:function(e,t){return new DataView(e,0).getFloat64(t,!0)},UInt8:function(e,t){return new DataView(e,0).getUint8(t)},Int8:function(e,t){return new DataView(e,0).getInt8(t)},UInt16:function(e,t){return new DataView(e,0).getUint16(t,!0)},Int16:function(e,t){return new DataView(e,0).getInt16(t,!0)},UInt32:function(e,t){return new DataView(e,0).getUint32(t,!0)},Int32:function(e,t){return new DataView(e,0).getInt32(t,!0)}};function j(e){return O.hasOwnProperty(e)}function M(e){return j(e)?O[e].BYTES_PER_ELEMENT:0}},780:function(e,t,r){"use strict";r.d(t,"a",(function(){return K})),r.d(t,"b",(function(){return q})),r.d(t,"c",(function(){return C}));var n=r(22),a=!0,o=0,i=10,c=10,u=12,s=16;function l(e,t,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,r+o,i)),version:t.getUint16(r+c,a),checksum:t.getUint32(r+u,a)}}var f=0,d=4,b=8,h=16,v=24,p=32,y=40,g=48,w=56,O=64,m=72,j=80,M=84,x=88;function U(e,t){return{sizeLo:e.getUint32(t+f,a),sizeHi:e.getUint32(t+d,a),minX:e.getFloat64(t+b,a),minY:e.getFloat64(t+h,a),minZ:e.getFloat64(t+v,a),maxX:e.getFloat64(t+p,a),maxY:e.getFloat64(t+y,a),maxZ:e.getFloat64(t+g,a),errorX:e.getFloat64(t+w,a),errorY:e.getFloat64(t+O,a),errorZ:e.getFloat64(t+m,a),count:e.getUint32(t+j,a),reserved:e.getUint32(t+M,a)}}function C(e){var t=new DataView(e,0),r=0,a=l(e,t,r),o=a.identifier,i=a.version;if(r+=s,"LEPCC     "!==o)throw new n.a("lepcc-decode-error","Bad identifier");if(i>1)throw new n.a("lepcc-decode-error","Unknown version");var c=U(t,r);if(r+=x,c.sizeHi*Math.pow(2,32)+c.sizeLo!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");var u=new Float64Array(3*c.count),f=[],d=[],b=[],h=[];if(r=S(e,r,f),r=S(e,r,d),r=S(e,r,b),(r=S(e,r,h))!==e.byteLength)throw new n.a("lepcc-decode-error","Bad length");for(var v=0,p=0,y=0;y<f.length;y++){p+=f[y];for(var g=0,w=0;w<d[y];w++){g+=b[v];var O=h[v];u[3*v]=Math.min(c.maxX,c.minX+2*c.errorX*g),u[3*v+1]=Math.min(c.maxY,c.minY+2*c.errorY*p),u[3*v+2]=Math.min(c.maxZ,c.minZ+2*c.errorZ*O),v++}}return{errorX:c.errorX,errorY:c.errorY,errorZ:c.errorZ,result:u}}function S(e,t,r){var n=[];t=A(e,t,n);for(var a=[],o=0;o<n.length;o++){a.length=0,t=A(e,t,a);for(var i=0;i<a.length;i++)r.push(a[i]+n[o])}return t}function A(e,t,r){var o=new DataView(e,t),i=o.getUint8(0),c=31&i,u=!!(32&i),s=(192&i)>>6,l=0;if(0===s)l=o.getUint32(1,a),t+=5;else if(1===s)l=o.getUint16(1,a),t+=3;else{if(2!==s)throw new n.a("lepcc-decode-error","Bad count type");l=o.getUint8(1),t+=2}if(u)throw new n.a("lepcc-decode-error","LUT not implemented");for(var f=Math.ceil(l*c/8),d=new Uint8Array(e,t,f),b=0,h=0,v=0,p=-1>>>32-c,y=0;y<l;y++){for(;h<c;)b|=d[v]<<h,h+=8,v+=1;r[y]=b&p,b>>>=c,(h-=c)+c>32&&(b|=d[v-1]>>8-h)}return t+v}var I=0,k=4,T=8,F=12,z=14,L=15,R=16;function B(e,t){return{sizeLo:e.getUint32(t+I,a),sizeHi:e.getUint32(t+k,a),count:e.getUint32(t+T,a),colorMapCount:e.getUint16(t+F,a),lookupMethod:e.getUint8(t+z),compressionMethod:e.getUint8(t+L)}}function q(e){var t=new DataView(e,0),r=0,a=l(e,t,r),o=a.identifier,i=a.version;if(r+=s,"ClusterRGB"!==o)throw new n.a("lepcc-decode-error","Bad identifier");if(i>1)throw new n.a("lepcc-decode-error","Unknown version");var c=B(t,r);if(r+=R,c.sizeHi*Math.pow(2,32)+c.sizeLo!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");if((2===c.lookupMethod||1===c.lookupMethod)&&0===c.compressionMethod){if(3*c.colorMapCount+c.count+r!==e.byteLength||c.colorMapCount>256)throw new n.a("lepcc-decode-error","Bad count");for(var u=new Uint8Array(e,r,3*c.colorMapCount),f=new Uint8Array(e,r+3*c.colorMapCount,c.count),d=new Uint8Array(3*c.count),b=0;b<c.count;b++){var h=f[b];d[3*b]=u[3*h],d[3*b+1]=u[3*h+1],d[3*b+2]=u[3*h+2]}return d}if(0===c.lookupMethod&&0===c.compressionMethod){if(3*c.count+r!==e.byteLength||0!==c.colorMapCount)throw new n.a("lepcc-decode-error","Bad count");return new Uint8Array(e,r).slice()}if(c.lookupMethod<=2&&1===c.compressionMethod){if(r+3!==e.byteLength||1!==c.colorMapCount)throw new n.a("lepcc-decode-error","Bad count");for(var v=t.getUint8(r),p=t.getUint8(r+1),y=t.getUint8(r+2),g=new Uint8Array(3*c.count),w=0;w<c.count;w++)g[3*w]=v,g[3*w+1]=p,g[3*w+2]=y;return g}throw new n.a("lepcc-decode-error","Bad method "+c.lookupMethod+","+c.compressionMethod)}var P=0,E=4,D=8,V=12,G=14,W=15,Y=16;function Z(e,t){return{sizeLo:e.getUint32(t+P,a),sizeHi:e.getUint32(t+E,a),count:e.getUint32(t+D,a),scaleFactor:e.getUint16(t+V,a),bitsPerPoint:e.getUint8(t+G),reserved:e.getUint8(t+W)}}function K(e){var t=new DataView(e,0),r=0,a=l(e,t,r),o=a.identifier,i=a.version;if(r+=s,"Intensity "!==o)throw new n.a("lepcc-decode-error","Bad identifier");if(i>1)throw new n.a("lepcc-decode-error","Unknown version");var c=Z(t,r);if(r+=Y,c.sizeHi*Math.pow(2,32)+c.sizeLo!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");var u=new Uint16Array(c.count);if(8===c.bitsPerPoint){if(c.count+r!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");for(var f=new Uint8Array(e,r,c.count),d=0;d<c.count;d++)u[d]=f[d]*c.scaleFactor}else if(16===c.bitsPerPoint){if(2*c.count+r!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");for(var b=new Uint16Array(e,r,c.count),h=0;h<c.count;h++)u[h]=b[h]*c.scaleFactor}else{var v=[];if(A(e,r,v)!==e.byteLength)throw new n.a("lepcc-decode-error","Bad size");for(var p=0;p<c.count;p++)u[p]=v[p]*c.scaleFactor}return u}},784:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u}));var n=r(31),a=r(9),o=r(51),i=r(68);function c(e,t,r,a){var i=u(e,t,r),c=Object(n.d)();return Object(o.d)(r,i,c,a),c}function u(e,t,r){var n=Object(a.e)(),o=e[3],c=Math.pow(2,4*Math.ceil(Math.log(o)*Math.LOG2E/4)+1);if(r.isGeographic){var u=c/Object(i.e)(r).radius*180/Math.PI,s=Math.round(e[1]/u),l=Math.max(-90,Math.min(90,s*u)),f=u/Math.cos((Math.abs(l)-u/2)/180*Math.PI),d=Math.round(e[0]/f)*f;n[0]=d,n[1]=l}else{var b=Math.round(e[0]/c),h=Math.round(e[1]/c);n[0]=b*c,n[1]=h*c}var v=e[2]+t,p=Math.round(v/c);return n[2]=p*c,n}}}]);
//# sourceMappingURL=11.3b83fa05.chunk.js.map