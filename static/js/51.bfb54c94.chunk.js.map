{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/layers/IntegratedMeshLayerView3D.js","../node_modules/@arcgis/core/layers/graphics/centroid.js","../node_modules/@arcgis/core/chunks/quickselect.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/layers/support/SceneModification.js","../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js","../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js","../node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js"],"names":["g","arguments","type","lodFactor","_elevationContext","_isIntegratedMesh","_supportsLabeling","drapeTargetType","_overlayTexOffset","s","_overlayTexScale","l","_overlayColor","_overlayHighlight","_overlayNormal","this","e","t","index","o","extent","i","needsColorWithoutRasterImage","getValidTarget","hasDrapedFeatureSource","r","n","h","d","a","getTexture","_forAllNodes","_collection","updateMaterial","objectHandle","_updateMaterialOverlay","overlayColor","overlayHighlight","overlayNormal","overlayTexOffset","overlayTexScale","updatingHandles","add","layer","_loadModifications","sourceLayer","_controller","rootNodeVisible","handles","remove","modifications","_modifications","addOnCollectionChange","toArray","c","p","u","prototype","aliasOf","y","readOnly","m","I","lengths","length","N","originPosition","coords","f","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","T","push","sort","b","E","Math","sqrt","exports","log","M","exp","v","max","floor","min","x","getComponentAabb","getObjectTransform","rotationScale","position","Float64Array","meta","featureExtents","featureIds","buffer","BYTES_PER_ELEMENT","_textureRep","_textureId","_textureRef","acquire","release","glTexture","bindTexture","setUniform2f","descriptor","width","height","Map","has","id","get","usage","size","set","pbrMetallicRoughness","baseColorFactor","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","alphaMode","baseColorTextureId","baseColorTexture","metallicRoughnessTextureId","alphaCutoff","doubleSided","cullFace","normalTextureId","emissiveTextureId","occlusionTextureId","metallicRoughness","wrapTextures","hasParametersFromSource","forEach","formats","map","name","format","encoding","encodings","material","textures","ktx2","basis","dds","png","jpg","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","materialDefinitions","Object","keys","textureDefinitions","params","diffuse","transparency","useVertexColorAlpha","wrap","channels","images","split","pop","Array","isArray","href","data","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","downsampled","mipmap","maxAnisotropy","components","noUnpackFlip","F","rendererTextureUsage","w","baseColor","usePBR","mrrFactors","isIntegratedMesh","alphaDiscardMode","emissionTexture","commonMaterialParameters","slicePlaneEnabled","ellipsoidMode","viewSpatialReference","C","find","Blob","url","jpeg","bmp","gif","json","txt","xml","svg","zip","pbf","gz","origins","String","read","write","writer","resources","P","verifyItemRelativeUrls","writtenUrls","rootPath","origin","originIdOf","portalItem","resourceFromPath","S","path","O","toUpdate","U","j","toKeep","resource","pendingOperations","then","itemRelativeUrl","catch","toAdd","content","finish","R","JSON","stringify","toJSON","default","responseType","toLowerCase","geometry","spatialReference","equals","messages","modification","context","nonNullable","_map","clear","emit","added","removed","Set","objectId","refCount","filter","delete","values","referenceCount","callbacks","runIndex","handle","registerTask","I3S_CONTROLLER","needsUpdate","numIndexLoading","numNodesLoading","done","priority","update","unshift","destroy","mbs","renderMbs","imModificationImpact","childCount","level","version","lodMetric","maxError","numFeatures","failed","hasModifications","cacheState","vertexCount","memory","nodeHasLOD","isChosen","lodLevel","childOffset","visibilityCache","ref","node","useAsHole","filterImpact","streamDataController","viewportQueries","logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","nodesPerPage","rootIndex","lodConversion","urlPrefix","_loading","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","_maxProcessingPrio","_nodeTraversalState","_version","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","layerHasModifications","_layerHasFilter","logLayer","serviceUpdateTimeStamp","lastUpdate","_maxLodLevel","maxLodLevel","init","pageSize","addPage","rootPage","nodes","children","parents","makeRefNode","rootNode","_validateNode","addNode","request","error","obb","center","halfSize","mesh","attribute","_","hasSharedResource","hasFeatureData","attributes","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","updateParentsAndLevel","getPage","getNode","getChildIndex","populateChildren","getParent","metricType","lodSelection","getNodeInternal","serviceObbInRenderSR","forAllNodes","getIndexById","getParentIndex","invalidateNodeVisibilityCacheInternal","geometryObb","traverse","isNodeVisible","isGeometryVisible","delta","coverage","_traverseCoverage","prune","invalidateGeometryVisibility","invalidateVisibilityCache","invalidateNodeVisibilityCache","reset","traverseVisible","entryPriority","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","indexOf","cancel","madeProgress","filterInPlace","_computeFeatureEstimate","back","updateScreenSpaceErrorBias","_updateFeatureEstimate","_load","_loadNode","loadPage","getLodLevel","hasLOD","requestUpdate","nodeTraversalState","sharedResource","warn","geometryData","attributeData","some","featureData","hasOwnProperty","featureRange","textureData","distToPOI","_traverseVisible","traverseChildren","_traverseChildren","prio","features","updateElevationInfo","PI","layerView","_lodGlobalDirty","_index","_isNodeInScaleBounds","_removeNodes","isChosenMaxLOD","_childrenRequireLoading","requiresLODGlobalHandling","view","resourceController","memoryController","usedMemory","_lodGlobalHandling","isNodeLoaded","nodeCrossfadingEnabled","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","_removeChildrenRecursive","L","isNodeReloading","geometries","featureDataPosition","D","vertexRegions","vertexAttributes","region","bufferDefinition","bufferIndex","geometryBuffers","compressedAttributes","defaultGeometrySchema","requiredAttributes","options","layerUrl","parsedUrl","geometryDefinitions","textureSetDefinitions","materialAndTextures","key","load","loadAttribute","attributeStorageInfo","value","loadAttributes","loadGeometry","loadShared","A","$","loadFeatureData","loadTextures","q","k","loadedAttributes","attributeDataInfo","geometryBuffer","geometryDescriptor","requiredTextures","pointData","Promise","reject","fixTextureEncodings","addAbsoluteHrefTexture","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","all","textureEncodings","loadTexture","hrefConcat","substring","requester","apiKey","activeRequests","busy","abort","signal","query","token","response","abortController","abortHandle","indexSR","_renderCoordsHelper","elevationProvider","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmp1","_tmp2","_tmp3","_tmp0","screenspaceErrorBias","progressiveLoadFactor","updateCamera","engineSR","tmpPoint","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","z","_computeRenderObb","getRenderMbs","isMBSinExtent","getVisibilityObb","_updateMinMaxDistance","MAX_VALUE","calcCameraDistanceToCenter","abs","getDistanceGlobeMode","getDistancePlanarMode","evaluateLODmetric","getDistance","screenSpaceDiameterMbs","angleDependentLoD","calcAngleDependentLoD","calcCameraDistance","getLogger","Q","screenSizeFactor","featureTarget","fixedFeatureTarget","updating","updatingProgress","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","profile","store","lodType","createStreamDataRequester","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","i3slayer","_defaultGeometrySchema","fields","addResolvingPromise","indexInfo","when","destroyed","_setClippingArea","clippingArea","_pointOfInterestChanged","events","on","_setCameraDirty","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","watch","state","_elevationInfoChanged","_scaleBoundsChanged","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","V","crsIndex","renderCoordsHelper","contentCamera","fixedContentCamera","isGraphics3D","_clippingArea","elevationInfo","_getProgressiveLoadFactor","lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","imModificationsChanged","_startNodeLoading","_tmpPoint","updateNodeModificationStatus","forAll","_nodeLoader","H","availableFields","objectIdField","field","_getRequiredAttributes","renderSpatialReference","setPointOfInterest","K","distancePenalty","distCameraToPOI","updateExtent","notifyChange","setLodGlobalDirty","_evaluateUpdating","invalidateBoundingVolumeCache","areScaleBoundsActive","basemapTerrain","_scaleUpdateHandler","_updateScaleInBoundingRect","scale","minScale","maxScale","suspended","getUnloadedMemoryEstimate","lodDropFactor","maxLevel","visible","_processLogError","getPriority","_process","_removeInvisibleNodes","enabled","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","process","_prefetchIndex","getIndexLoading","lodGlobalHandling","dirty","pushArray","updates","featureEstimate","isLoading","_get","_set","prefetch","baseLOD","getIndexMissing","checkFeatureTarget","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","dataStreamController","pointsOfInterest","focus","renderLocation","memoryFactor","minQuality","invalidateVisibilityObbs","shouldLoadNode","_shouldDropNode","supportedTextureEncodings","isMeshPyramid","startNodeLoading","isNodeLoading","cancelAll","_cancelAllNodes","getLoadedNodeIndices","nodeFadeoutEnabled","getLoadedAttributes","resolve","getAttributeData","schedule","updateAttributes","_loadAndAddNode","_loadUncached","_loadCached","useNodeAsHole","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","loadCachedNodeData","addCachedNodeData","reschedule","loadNodeData","resetFailedNodes","getScale","_getScale","detail","target","updateStats","layerFilterChanged","constructOnly","dependsOn","every","factorIM","factor3dObject","J","clone","capabilities","supportsMaxRecordCountFactor","maxRecordCountFactor","supportsPagination","start","num","source","queryFeaturesJSON","concat","exceededTransferLimit","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","getMemCache","uid","pendingFetchChangedObjectIds","fetchChangedObjectIds","rollback","commit","updateValue","getOverridesFromCache","objectIds","fieldNames","queryOverridesFromAssociatedLayer","processOverridesFromAssociatedLayer","cacheValue","put","getCacheKey","memCacheValueSize","fromCache","from","fromInteractiveEditingSession","logMaximumObjectsExceededWarning","associatedLayer","createQuery","where","returnGeometry","outFields","cacheHint","reduce","ok","loaded","portal","title","operations","supportsChangeTracking","getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","serverGen","timeout","edits","serverGens","minServerGen","isActive","result","transferList","byteLength","_malloc","Uint8Array","HEAPU8","dracoDecompressPointCloudData","_free","positions","setLegacySchema","jsonSchema","setModifications","isGeodetic","localOrigin","globalTrafo","elevationOffset","indexToVertexProjector","vertexToRenderProjector","byteOffset","quaternion","isDraco","isLegacy","color","layouts","normal","needNormals","uv0","uvRegion","featureIndex","normalReferenceFrame","discarded","componentOffsets","B","interleavedVertedData","indicesType","Uint16Array","indices","Uint32Array","positionIndicesType","positionIndices","layout","interleavedVertexData","hasColors","positionData","transformedGeometry","filterOBBs","locateFile","onRuntimeInitialized","transform","_limit","_all","_active","_pending","_handle","_handleChanges","addMany","removeManyByObjectId","removeMany","sample","addAndRemove","percentage","last","_parent","loadedGraphics","_renderingInfo","symbol","_graphicsByNode","_scaleVisibility","_graphicsCore","owner","preferredUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","hasZ","hasM","layerScaleEnabled","setup","spatialIndex","queryGraphicUIDsInExtent","labeler","addGraphicsOwner","emptySymbolLabelSupported","elevationInfoOverride","mode","offset","disablePlacement","logEntityDescription","deconflictor","scaleVisibility","startCreateGraphics","updateLabelingInfo","filteredIds","collection","fromRenderCoords","generateUID","graphic","property","oldValue","newValue","graphicUpdateHandler","effectiveUpdatePolicy","unprocessedMemoryEstimate","graphicsCore","hasInitialize","isGeographic","broadcast","rings","getItemAt","ids","paused","forAllFeatures","forAllFeaturesOfNode","highlights","releaseSet","pause","resume","initializeSet","addComponentHighlight","removeComponentHighlight","clearHighlights","lodCrossfadeSignedDuration","_preRenderFrameTaskHandle","_currentFrameStartTime","_numFadingNodes","lodCrossfadeProgress","notifyLODUpdate","notifyUpdate","preRender","_updateAllNodeFading","foreachCrossfadeNode","fullOpacity","deltaTime","stopNodeFading","markNodeToRemove","setNodeOpacityByIndex","removeMarkedNodes","Date","now","lodCrossfadeinDuration","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","getNodeOpacityByIndex","_startNodeFading","getNodeCrossfadeMetaData","tmpEvent","intersector","viewingMode","fullExtent","zmin","zmax","intersectionHandler","isGround","toRenderCoords","setAltitude","intersect","results","getIntersectionPoint","getAltitude","computeLayerExtent","computeObjectExtent","_expandExtent","getVisibleNodes","EventedMixin","layerUid","sublayerUid","slicePlane","ray","direction","tolerance","verticalOffset","applyToMbs","applyToObb","metadata","nodeIndex","componentIndex","dist","triangleNr","ground","isFiltered","_db","_quotaReductionPromise","_gcCounter","_hit","_miss","_destroyed","gcFrequency","maxByteSize","quotaReductionFactor","_dbName","_storeName","indexedDB","open","onupgradeneeded","transaction","objectStoreNames","contains","objectStore","createObjectStore","indexNames","createIndex","unique","oldVersion","close","_put","_getCacheSize","_removeLeastRecentlyAccessed","byteSize","date","openCursor","onsuccess","primaryKey","continue","openKeyCursor","oncomplete","onerror","onabort","readyState","Ge","Le","Be","cachedRendererVersion","cachedEdgeMaterials","cachedSymbology","ne","ze","_elevationProvider","_intersectionHandler","_nodeId2Meta","_nodeId2MetaReloading","_i3sWasmLoaded","_hasLoadedPBRTextures","_asyncModuleLoading","_addTasks","_rendererVersion","_colorVariable","_opacityVariable","_rendererFields","_symbologyFields","_symbologyOverride","_symbologyOverrideFields","_symbolInfos","_idbCache","Fe","_hasColors","_hasTextures","_hasData","_layerUrl","_cacheKeySuffix","_arcade","_tmpAttributeOnlyGraphic","_crossfadeHelper","ae","lastIndex","fe","_currentRenderer","_usePBR","unit","ce","_stage","renderView","qualitySettings","sceneService","preLoadBasis","attributeOverrides","oe","_worker","X","promise","be","ye","gpuMemoryEstimate","texMemoryEstimate","geoMemoryEstimate","componentObjectCollection","_highlights","re","_forAllFeatures","_forAllFeaturesOfNode","_hasSymbolColors","featureAttributes","faceRange","_hasVertexColors","cachedDrawingInfo","_edgeView","ensureEdgeView","_memCache","_deleteComponentObject","he","le","_clippingAreaChanged","_opacityChange","_slicePlaneEnabledChange","_reloadAll","_filterChange","_updatePBR","clearMemCache","_suspendedChange","_labelingChanged","_modificationsChanged","Re","_treeDebugger","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","_showModifications","ve","_clearAddTasks","layerChanged","unregister","sceneIntersectionHelper","removeIntersectionHandler","destroyContext","_removeAllNodeDataFromStage","_labeler","_visibleGeometryChangedSchedulerHandle","estimatedTexMemRequired","getObjectGPUMemoryUsage","unloadedMemoryEstimate","_addMetaToLabeler","_hasModifications","Z","Y","ee","modificationsChanged","_modificationGraphics","graphics","I3S_SHOW_MODIFICATIONS","clip","mask","replace","outline","addNodeMeta","_createAttributes","register","addIntersectionHandler","_attributeValuesChanged","apply","_getInvalidRendererVersion","setNodeMetaAttributes","_updateEngineObject","Ue","hasTexture","Ye","hasNormals","hasRegions","Pe","He","_getGeometryParameters","De","fieldsIndex","_getObjectIdField","_findGraphicNodeAndIndex","de","boundingBox","screenSpaceObjects","Ie","_createGraphic","_getMemCacheKey","indexDepth","ue","_idbCacheEnabled","_getCacheKey","nodeVersion","loadMissingTextures","initialized","tt","et","it","Ze","_addData","_transformNode","_safeReschedule","_addCachedNodeData","ge","Te","extents","orientation","slice","call","Me","_getVertexBufferLayout","crsVertex","pe","invoke","supportsNodeCrossFading","_setNodeOpacity","Ve","getComponentObb","_addNodeMeta","setObjectVisibility","_updateMaterial","_setNewNodeOpacity","objectCreated","_cacheGPUData","_removeNodeStageData","_materialParameters","stride","vertices","count","layoutParameters","geometryParams","transformation","G","createObject","toMapSpace","textureCoordinates","_initMaterialAndTextures","memEstimateGeometryAdded","memEstimateTextureAdded","W","isOpaque","_addOrUpdateEdgeRendering","updateObjectVisibility","_setObjectSymbolColors","_applyFiltersToNode","_visibleGeometryChanged","ot","_e","me","textureRepository","colors","normals","Ne","updateClippingArea","geometryFilterChanged","hasGeometryFilter","_applyFilters","_filters","getFilters","_boundingboxFilter","_sqlFilter","_createLayerGraphic","Ce","xe","testFeature","Xe","Oe","We","_boundingboxNodeTest","getComponentCount","invisible","_transformAABB","$e","_boundingboxFeatureTest","hasObject","_getFilteredEdgeMaterials","hasEdges","perFeatureEdgeMaterials","getNodeOpacity","updateAllComponentMaterials","addEdges","removeObject","_applyFiltersToNodeComponents","applyFilterChange","setAllComponentVisibilities","_updateCachedFilteredIds","_computeFilteredComponentIndices","appliedFilters","_computeFilteredIds","_removeEdgeRendering","removeNodeMeta","objectDeleted","memEstimateGeometryRemoved","destroyObject","memEstimateTextureRemoved","polygonOffsetEnabled","je","_invalidateAllSymbols","getRequiredFields","_updateSymbologyFields","arcadeRequired","visualVariables","getSymbols","_updateCachedRendererData","externalColor","externalColorMixMode","castShadows","pickable","getSymbol","arcade","we","Je","colorMixMode","edgeMaterial","Se","_getSymbolInfo","Qe","se","alpha","opacity","objectTransparency","round","_getCachedEdgeMaterials","_getSymbolColors","setComponentData","setNeedsRender","stopAllNodeFading","objectOpacity","_updateEdgeRendering","physicallyBasedRenderingEnabled","_forVisibleFeaturesOfNode","_forAllFeaturesOfNodeInClippingArea","forEachVisibleComponent","Ee","acquireSet","setFeatureIds","rt","objectChanged","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","toFixed","getUnloadedMemory","performanceInfo","shown","hidden","MemCache","hitRate","IDBCache","getHitRate","controller","getMaterial","_setNodeEdgeOpacity","updateAllComponentOpacities","Ke","st","te","ie","Ae","Boolean"],"mappings":"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","file":"static/js/51.bfb54c94.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import{isSome as r,isNone as o}from\"../../../core/maybe.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as s,c as l}from\"../../../chunks/vec4f64.js\";import{area as n,width as h,height as d}from\"../../../geometry/support/aaBoundingRect.js\";import{I3SMeshView3D as c}from\"./I3SMeshView3D.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import{updatingProgress as y}from\"../support/updatingProperties.js\";import u from\"../../layers/LayerView.js\";const v=.2;let g=class extends(c(p(u))){constructor(){super(...arguments),this.type=\"integrated-mesh-3d\",this.lodFactor=1,this._elevationContext=\"im\",this._isIntegratedMesh=!0,this._supportsLabeling=!1,this.drapeTargetType=1,this._overlayTexOffset=s(-1,-1,-1,-1),this._overlayTexScale=l(),this._overlayColor=null,this._overlayHighlight=null,this._overlayNormal=null}get progressiveLoadFactor(){return this.lodFactor>=1?v:1}setDrapingTextures(e){const t=e.index,o=e.extent,i=e.needsColorWithoutRasterImage?e.getValidTarget(1):e.hasDrapedFeatureSource?e.getValidTarget(0):null;if(r(i)&&n(o)>0){this._overlayTexOffset[2*t]=-o[0]/h(o),this._overlayTexOffset[2*t+1]=-o[1]/d(o),this._overlayTexScale[2*t]=1/h(o),this._overlayTexScale[2*t+1]=1/d(o);const r=e.getValidTarget(2),a=e.getValidTarget(3);this._overlayColor=i.getTexture(),this._overlayHighlight=r?r.getTexture():null,this._overlayNormal=a?a.getTexture():null}else this._overlayTexOffset[2*t]=-1,this._overlayTexOffset[2*t+1]=-1,this._overlayTexScale[2*t]=0,this._overlayTexScale[2*t+1]=0,0===t&&(this._overlayColor=null,this._overlayHighlight=null,this._overlayNormal=null);this._forAllNodes((e=>r(e)&&this._collection.updateMaterial(e.objectHandle,(e=>this._updateMaterialOverlay(e)))))}_updateMaterialOverlay(e){e.overlayColor=this._overlayColor,e.overlayHighlight=this._overlayHighlight,e.overlayNormal=this._overlayNormal,e.overlayTexOffset=this._overlayTexOffset,e.overlayTexScale=this._overlayTexScale}initialize(){this.updatingHandles.add(this.layer,\"modifications\",(()=>this._loadModifications()),2)}_createLayerGraphic(){const e=new t;return e.layer=this.layer,e.sourceLayer=this.layer,e}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}_loadModifications(){if(this.handles.remove(\"modifications\"),o(this.layer.modifications))return void(this._modifications=[]);const e=this.layer.modifications;this.handles.add(this.updatingHandles.addOnCollectionChange(e,(()=>this._modifications=e.toArray()),2),\"modifications\")}};e([i()],g.prototype,\"layer\",void 0),e([i({aliasOf:\"layer\"})],g.prototype,\"i3slayer\",void 0),e([i()],g.prototype,\"suspended\",void 0),e([i(y)],g.prototype,\"updatingProgress\",void 0),e([i({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],g.prototype,\"updatingProgressValue\",void 0),e([i({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.integratedMesh.lodFactor\"})],g.prototype,\"lodFactor\",void 0),e([i({readOnly:!0})],g.prototype,\"progressiveLoadFactor\",null),g=e([a(\"esri.views.3d.layers.SceneLayerView3D\")],g);var m=g;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(n,t){return n?t?4:3:t?3:2}function t(t,I,o,u,l){if(!I||!I.lengths.length)return null;const N=\"upperLeft\"===(null==l?void 0:l.originPosition)?-1:1;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const s=t.coords,c=[],f=o?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:i,coords:T}=I,h=n(o,u);let g=0;for(const n of i){const t=e(f,T,g,n,o,u,N);t&&c.push(t),g+=n*h}if(c.sort(((n,t)=>{let e=N*n[2]-N*t[2];return 0===e&&o&&(e=n[4]-t[4]),e})),c.length){let n=6*c[0][2];s[0]=c[0][0]/n,s[1]=c[0][1]/n,o&&(n=6*c[0][4],s[2]=0!==n?c[0][3]/n:0),(s[0]<f[0]||s[0]>f[1]||s[1]<f[2]||s[1]>f[3]||o&&(s[2]<f[4]||s[2]>f[5]))&&(s.length=0)}if(!s.length){const n=I.lengths[0]?r(T,0,i[0],o,u):null;if(!n)return null;s[0]=n[0],s[1]=n[1],o&&n.length>2&&(s[2]=n[2])}return t}function e(t,e,r,I,o,u,l=1){const N=n(o,u);let s=r,c=r+N,f=0,i=0,T=0,h=0,g=0;for(let n=0,b=I-1;n<b;n++,s+=N,c+=N){const n=e[s],r=e[s+1],I=e[s+2],u=e[c],l=e[c+1],N=e[c+2];let E=n*l-u*r;h+=E,f+=(n+u)*E,i+=(r+l)*E,o&&(E=n*N-u*I,T+=(I+N)*E,g+=E),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),r<t[2]&&(t[2]=r),r>t[3]&&(t[3]=r),o&&(I<t[4]&&(t[4]=I),I>t[5]&&(t[5]=I))}if(h*l>0&&(h*=-1),g*l>0&&(g*=-1),!h)return null;const E=[f,i,.5*h];return o&&(E[3]=T,E[4]=.5*g),E}function r(t,e,r,N,s){const c=n(N,s);let f=e,i=e+c,T=0,h=0,g=0,E=0;for(let n=0,b=r-1;n<b;n++,f+=c,i+=c){const n=t[f],e=t[f+1],r=t[f+2],s=t[i],c=t[i+1],b=t[i+2],m=N?o(n,e,r,s,c,b):I(n,e,s,c);if(m)if(T+=m,N){const t=l(n,e,r,s,c,b);h+=m*t[0],g+=m*t[1],E+=m*t[2]}else{const t=u(n,e,s,c);h+=m*t[0],g+=m*t[1]}}return T>0?N?[h/T,g/T,E/T]:[h/T,g/T]:r>0?N?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function I(n,t,e,r){const I=e-n,o=r-t;return Math.sqrt(I*I+o*o)}function o(n,t,e,r,I,o){const u=r-n,l=I-t,N=o-e;return Math.sqrt(u*u+l*l+N*N)}function u(n,t,e,r){return[n+.5*(e-n),t+.5*(r-t)]}function l(n,t,e,r,I,o){return[n+.5*(r-n),t+.5*(I-t),e+.5*(o-e)]}export{t as getCentroidOptimizedGeometry,r as lineCentroid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nvar r,t,o={exports:{}};r=o,void 0!==(t=function(){function r(r,o,n,f,e){t(r,o,n||0,f||r.length-1,e||a)}function t(r,a,n,f,e){for(;f>n;){if(f-n>600){var h=f-n+1,i=a-n+1,u=Math.log(h),M=.5*Math.exp(2*u/3),v=.5*Math.sqrt(u*M*(h-M)/h)*(i-h/2<0?-1:1);t(r,a,Math.max(n,Math.floor(a-i*M/h+v)),Math.min(f,Math.floor(a+(h-i)*M/h+v)),e)}var x=r[a],c=n,p=f;for(o(r,n,a),e(r[f],x)>0&&o(r,n,f);c<p;){for(o(r,c,p),c++,p--;e(r[c],x)<0;)c++;for(;e(r[p],x)>0;)p--}0===e(r[n],x)?o(r,n,p):o(r,++p,f),p<=a&&(n=p+1),a<=p&&(f=p-1)}}function o(r,t,o){var a=r[t];r[t]=r[o],r[o]=a}function a(r,t){return r<t?-1:r>t?1:0}return r}())&&(r.exports=t);var a=o.exports;export{a as q};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{t as e,b as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as n}from\"../../../../geometry/projection.js\";import{set as a,NEGATIVE_INFINITY as m,expandWithBuffer as s,ZERO as c,create as f}from\"../../../../geometry/support/aaBoundingBox.js\";function i(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=4&c?m[2]:m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[3*c]=b[0],a[3*c+1]=b[1],a[3*c+2]=b[2];return a}function u(e,o,r){const f=new Float64Array(24);return u=>{let l=u.meta.featureExtents;if(t(l)){l=new Float64Array(6*u.meta.featureIds.length),u.meta.featureExtents=l;for(let t=0;t<l.length;t+=6)l[t]=Number.POSITIVE_INFINITY}const p=new Float64Array(l.buffer,6*u.index*Float64Array.BYTES_PER_ELEMENT,6);return p[0]===Number.POSITIVE_INFINITY&&(i(u.index,r,u.meta.objectHandle,f),n(f,o,0,f,e,0,8)?(a(p,m),s(p,f,0,8)):a(p,c)),p}}function l(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);a[0]=0,a[1]=0,a[2]=0;for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[0]+=b[0],a[1]+=b[1],a[2]+=b[2];return a[0]/=8,a[1]/=8,a[2]/=8,a}const p=f(),b=r();export{i as boundingBoxCornerPoints,l as boundingBoxTop,u as createGetFeatureExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{applySome as e,isSome as t}from\"../../../../../core/maybe.js\";class r{constructor(t,r){this._textureRep=t,this._textureId=r,this._textureRef=e(this._textureId,(e=>this._textureRep.acquire(e)))}dispose(){this._textureRef=e(this._textureId,(e=>{this._textureRep.release(e)}))}bind(e,r,i){if(t(this._textureRef)){const t=this._textureRef.glTexture;e.bindTexture(t,r),e.setUniform2f(i,t.descriptor.width,t.descriptor.height)}}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as t}from\"../../../../core/maybe.js\";import{RenderTexture as s}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as n}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as l}from\"../../webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{getEllipsoidMode as i}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";function u(e,a){const r=new Map,s=(e,a)=>{if(t(e))return-1;if(r.has(e.id)){const o=r.get(e.id);return o.usage|=a,o.id}const o=r.size;return r.set(e.id,{id:o,usage:a}),o},l=a.pbrMetallicRoughness,i=l&&l.baseColorFactor,c=a.emissiveFactor,u=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=u?n[0]:l?l.metallicFactor:1,p=u?n[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?33:1,f={baseColorFactor:i?[i[0],i[1],i[2],i[3]]:[1,1,1,1],baseColorTextureId:s(l&&l.baseColorTexture,h),metallicRoughnessTextureId:s(l&&l.metallicRoughnessTexture,2),metallicFactor:g,roughnessFactor:p},b={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?0:\"back\"===a.cullFace?2:\"front\"===a.cullFace?1:void 0,normalTextureId:s(a.normalTexture,4),emissiveTextureId:s(a.emissiveTexture,16),occlusionTextureId:s(a.occlusionTexture,8),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:f,wrapTextures:!1,hasParametersFromSource:u},x=[];return r.forEach((({usage:a},r)=>{const t=o(e)&&e[r]&&e[r].formats,s=t?m(t.map((({name:e,format:a})=>({name:e,encoding:d[a]})))):[];x.push({id:r,usage:a,encodings:s})})),{material:b,textures:x}}function m(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const d={ktx2:1,basis:2,dds:4,png:8,jpg:16,\"ktx-etc2\":32},g={[c.KTX2_ENCODING]:2,[c.BASIS_ENCODING]:2,[c.DDS_ENCODING]:4,\"image/png\":8,\"image/jpg\":16,\"image/jpeg\":16,\"image/ktx\":32};function p(e){const r=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,o=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,t=r&&e.materialDefinitions[r],s=o&&e.textureDefinitions[o],n=h();if(null!=t){const e=t.params;e.diffuse&&(n.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(n.doubleSided=e.doubleSided,n.cullFace=e.doubleSided?0:2),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(n.cullFace=\"none\"===e.cullFace?0:\"back\"===e.cullFace?2:1),e.transparency&&(n.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||n.metallicRoughness.baseColorFactor[3]<1)&&(n.alphaMode=\"blend\")}const l=[];if(null!=s){const e=0;!s.wrap||\"repeat\"!==s.wrap[0]&&\"repeat\"!==s.wrap[1]||(n.wrapTextures=!0);let a=1;\"rgba\"===s.channels&&(n.alphaMode=\"blend\",a|=32);const r=s.images.length-1,o=s.images[r],t=e=>e&&e.split(\"/\").pop(),i=Array.isArray(s.encoding)?m(s.encoding.map(((e,a)=>({name:t(o.href[a]),encoding:g[e]||0})))):[{name:t(o.href),encoding:g[s.encoding]||0}];l.push({id:e,usage:a,encodings:i}),n.metallicRoughness.baseColorTextureId=e}return{material:n,textures:l}}const h=()=>({alphaMode:\"opaque\",alphaCutoff:l,doubleSided:!0,cullFace:0,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function f(e,a,o,s){if(t(e)||null==e.data)return null;const n=e.data,l=!(n instanceof HTMLImageElement)||r(n.width)&&r(n.height),i=s.renderingContext.parameters.maxMaxAnisotropy,u=o&&!s.has(2)?1:i,m=l&&!e.downsampled&&u>1,d=o||!a.wrapTextures?b:x,g=I(e.encoding),p=1&e.usage?\"opaque\"===a.alphaMode?3:4:3;return new c(n,{mipmap:m,maxAnisotropy:u,encoding:g,wrap:d,components:p,noUnpackFlip:!0})}const b={s:33071,t:33071},x={s:10497,t:10497};function F(e,r,o,t,n,c){const u=c.rendererTextureUsage,m=e=>w(t,o,e&u),d=r.metallicRoughness.baseColorFactor,g=a(r.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[d[0],d[1],d[2],g],e.hasParametersFromSource=!!r.hasParametersFromSource,e.usePBR=c.usePBR,e.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],e.emissiveFactor=r.emissiveFactor,e.isIntegratedMesh=c.isIntegratedMesh,e.alphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:l,e.alphaDiscardMode=\"opaque\"===r.alphaMode?1:\"mask\"===r.alphaMode?2:3;const p=m(33);p&&(e.baseColorTexture=new s(n,p));const h=m(2);h&&(e.metallicRoughnessTexture=new s(n,h));const f=m(16);f&&(e.emissionTexture=new s(n,f));const b=m(8);b&&(e.occlusionTexture=new s(n,b));const x=m(4);x&&(e.normalTexture=new s(n,x)),e.commonMaterialParameters.slicePlaneEnabled=c.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=r.doubleSided,e.commonMaterialParameters.cullFace=r.cullFace,e.ellipsoidMode=i(c.viewSpatialReference)}function T(a){const r=a.has(1),o=a.has(0),t=e(\"disable-feature:i3s-basis\")?0:3;return 24|(r?4|t:0)|(o?t:0)}function C(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,r){if(t(e)||0===r)return null;for(let t=0;t<e.length;t++){const s=e[t];if(o(s)&&0!=(s.usage&r))return a[t].id}return null}function I(e){switch(e){case 1:return c.KTX2_ENCODING;case 2:return c.BASIS_ENCODING;case 4:return c.DDS_ENCODING;case 8:return\"image/png\";case 16:return\"image/jpeg\";case 32:return\"image/ktx\";default:return\"\"}}export{F as configureMaterial,f as createTexture,u as getMaterialAndTextures,p as getMaterialAndTexturesFromShared,T as getSupportedEncodings,C as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=w(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=P(s),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(d)&&!i(d)?g?j(this,u,s,d,a,l,f,e):I(d,a,l,f):f&&f.portalItem&&(r(d)||t(h(d))||n(d)||g)?U(this,u,s,d,a,l,f,e):a[l]=d}}}}function U(t,r,o,i,u,a,c,l){const m=p(),y=S(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===u(a.path)?(O(t,r,a,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,p)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import t from\"../../core/Warning.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import{canProjectWithoutEngine as c,projectPolygon as m}from\"../../geometry/projection.js\";import n from\"../../geometry/Polygon.js\";var l;let y=l=class extends r{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!c(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new n;m(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new l({geometry:o(this.geometry),type:this.type})}};e([s({type:n}),a()],y.prototype,\"geometry\",void 0),e([i([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([s({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),a()],y.prototype,\"type\",void 0),y=l=e([p(\"esri.layers.support.SceneModification\")],y);var f=y;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this.sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this.sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this.sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{b as s}from\"../../../../chunks/vec4f64.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=s([0,0,0,-1]),this.imModificationImpact=4}}class i extends t{constructor(s,t,i,e,h,o,r,c,n,a){super(s,i),this.index=t,this.childCount=e,this.level=h,this.resources=o,this.version=r,this.lodMetric=c,this.maxError=n,this.numFeatures=a,this.failed=!1,this.hasModifications=!1,this.cacheState=0,this.vertexCount=0,this.memory=0}}class e{constructor(s,t,i,e){this.nodeHasLOD=s,this.isChosen=t,this.lodLevel=i,this.version=e}}export{i as Node,t as NodeBase,e as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{l as n}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{NodeBase as a,Node as d,NodeTraversalState as l}from\"./I3SNode.js\";import{addWraparound as h}from\"./I3SUtil.js\";import{clone as u}from\"../../support/orientedBoundingBox.js\";class c{constructor(e,t,i,s,r){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=r,this.useAsHole=0,this.filterImpact=2}}class g{constructor(e,t,i,r,n,o,a,d,l,h,u,c,g,m){this.streamDataController=i,this.viewportQueries=r,this.logger=n,this.holeFilling=o,this._isLoaded=a,this._isReloading=d,this._isSelected=l,this._enable=h,this._needsUpdate=u,this._canRequest=c,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=0,this.lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=b(0),this._visibilityCacheVersion=b(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new f,this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this.init(t)}init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=1;break;case\"maxScreenThresholdSQ\":this.lodMetric=1,this.lodConversion=M}this.addPage(N(this.rootIndex,this.nodesPerPage),e.rootPage)}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this.makeRefNode(new a(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this.addNode(t,0)}}loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._loading.delete(e),this.addPage(e,t)})).catch((t=>{this._loading.delete(e),r(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}addPage(e,t){for(let n=this._nodePages.length;n<e;n++)this._nodePages[n]=null;const i=[],s=[],r=t.nodes.map(((t,r)=>{const a=i.length,l=t.children?t.children.length:0;s.push(-1);for(let e=0;e<l;e++)i.push(t.children[e]);const h=`${t.index}`,g=u(t.obb),m=o([g.center[0],g.center[1],g.center[2],n(g.halfSize)]),f=t.mesh&&t.mesh.attribute,_=t.mesh&&t.mesh.geometry,b=t.mesh&&t.mesh.material,p={hasSharedResource:!1,hasFeatureData:!!_,attributes:f&&null!=f.resource?`${f.resource}`:null,geometry:_&&null!=_.resource?`${_.resource}`:null,texture:b&&null!=b.resource?`${b.resource}`:null,geometryDefinition:_?_.definition:-1,materialDefinition:b?b.definition:-1},y=new d(h,e*this.nodesPerPage+r,m,l,0,p,this.lastUpdate,this.lodMetric,this.lodConversion(t.lodThreshold),_?_.featureCount:null);return y.serviceObb=g,y.visibilityObb=this._computeVisibilityObb(y),y.vertexCount=_?_.vertexCount:0,new c(a,l,v(this._visibilityCacheVersion),null,y)}));this._nodePages[e]={nodes:r,children:i,parents:s},this.nodeCount+=r.length,this.updateParentsAndLevel()}updateParentsAndLevel(){const t=new Array,i=(i,s,r)=>{const n=this.getPage(i);if(e(n)){const o=x(i,this.nodesPerPage);n.parents[o]=s;const a=n.nodes[o].node;e(a)&&(a.level=r,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),r=this.getNode(s);if(e(r))for(let e=0;e<r.childCount;e++){i(this.getChildIndex(r,e),s,r.level+1),this._maxLevel=Math.max(this._maxLevel,r.level+1)}}}getPage(e){return this._nodePages[N(e,this.nodesPerPage)]}getNodeInternal(e){const i=this.getPage(e);return t(i)?null:i.nodes[x(e,this.nodesPerPage)]}addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const r=this.getParent(s),n=e(r)?r.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?n+1:n);const{lodMetric:a,maxError:l}=w(t.lodSelection),h=i(this.getNodeInternal(s));return h.node=new d(t.id,s,o(t.mbs),h.childCount,n,t.resources,t.version,a,l,t.numFeatures),t.obb&&(h.node.serviceObb=u(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}makeRefNode(t,i){const s=this._nodePages[0],r=s.nodes.length;return s.nodes.push(new c(0,0,v(this._visibilityCacheVersion),t,null)),this.nodeCount++,s.parents.push(i),t.renderMbs[3]=-1,e(t.serviceObbInRenderSR)&&(t.serviceObbInRenderSR.halfSize[0]=-1),r}populateChildren(e,t){const s=i(this.getNodeInternal(e)),r=i(this.getPage(e));s.childOffset=r.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this.makeRefNode(t[i],e);r.children.push(s)}}getNode(t){const i=this.getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this.forAllNodes(((s,r)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=r)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this.getPage(e.index);if(t(s))return-1;const r=s.nodes[x(e.index,this.nodesPerPage)];return s.children[r.childOffset+i]}getParentIndex(t){const i=this.getPage(t);return e(i)?i.parents[x(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this.getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}invalidateVisibilityCache(){this._visibilityCacheVersion=b(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this.getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=v(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this.getNodeInternal(t);e(i)&&(_(i),this.invalidateNodeVisibilityCacheInternal(i))}invalidateGeometryVisibility(t){const i=this.getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,i.node.renderMbs[3]=-1,e(i.node.serviceObbInRenderSR)&&(i.node.serviceObbInRenderSR.halfSize[0]=-1))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}isNodeVisible(i){const s=this.getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(!y(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,r=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&2===s.filterImpact){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):0}const n=e(i)&&1===s.filterImpact,o=!(e(i)&&2===i.imModificationImpact)&&(!r||this.viewportQueries.isNodeVisible(r))&&!n;return s.visibilityCache=p(o,this._visibilityCacheVersion),o}return P(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this.getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||4!==i.node.imModificationImpact))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,r,n,o,a){const d=this.getPage(s);if(t(d)||0===r.childCount)return;const l=r.childOffset+r.childCount,h=new Array;for(let t=r.childOffset;t<l;++t){const i=d.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,n),a.coverage+=o):this._traverseCoverage(t,e,n+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this.getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(y(i.useAsHole,this._version))return P(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const r=s.delta*s.coverage<=.5;return i.useAsHole=p(r,this._version),r}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=b(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this.forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=4,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this.forAllNodes((t=>{if(e(t)){t.filterImpact=2;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,r,n){if(!this._dirty)return;this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s,this._missing),m.clear();let o=!0;const a=new C,d=new C,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,c,g)=>{if(t(c)){let e=this.entryPriority(u);e===1/0&&(e=this.entryPriority(g));const t=N(u,this.nodesPerPage);return m.set(t,Math.max(e,m.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=c.node;if(this._updateNodeFeatureEstimate(f,d),t(f)){const e=this.entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),m.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=i(this.getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<c.childCount;t++){const i=_.children[c.childOffset+t],s=this.getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(m.set(i,this.entryPriority(i)),this._prefetch.push(i))}if(f.failed||!f.resources.hasFeatureData)return;if(h.add(f.id),this._isLoaded(u)){if(a.known+=f.memory,++a.knownNodes,this._isSelected(f)?c.childCount>0&&(o=!1):(a.unremoved+=f.memory,o=!1),this._needsUpdate(f)){const e=this.entryPriority(u);m.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(f.memory&&(a.known+=f.memory,++a.knownNodes),!this._isSelected(f))return void(this._isReloading(u)&&this._updates.remove.push(u));if(c.childCount>0&&(o=!1),f.memory?(a.missing+=f.memory,a.known+=f.memory,++a.knownNodes):++a.missingNodes,s.indexOf(f.index)>=0)return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this.entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==f.index)));if(!r.done&&this._enable(f))return void r.madeProgress();const v=this.entryPriority(u);m.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&n&&e(f)&&4===f.imModificationImpact&&l.push(u)};this.traverseVisible(u);const c=this._updates.add;c.length>0&&this.layerHasModifications&&(l.length>0&&n(l),c.filterInPlace((e=>{const i=this.getNodeInternal(e),s=t(i)||t(i.node)||2!==i.node.imModificationImpact;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>m.get(e)-m.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=m.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>m.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>m.get(e)-m.get(t))),this._updates.update.sort(((e,t)=>m.get(e)-m.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,m.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,r=t,n=i,o=10;for(;o--;){const i=new C;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;n=s,s=.5*(s+r)}else r=s,s=.5*(s+n)}return this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>m.get(e)-m.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this.loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&y(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),r=this.viewportQueries.hasLOD(e);let n=!0;if(r){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);n=e&&s>e.lodLevel}else n=s>0}else n=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=n,i.version=p(!0,this._version),i):(i=new l(r,n,s,p(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this.getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const n=s.id,o=this.urlPrefix+n,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(n,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this.addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),r(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,r=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,r=new a(`${t.id}`,t.mbs);return r.serviceObb=s,r.visibilityObb=this._computeVisibilityObb(r),r},n=Array.isArray(t.children)?t.children.map(r).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:n,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this.forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}entryPriority(i){const s=this.getNodeInternal(i),r=this.getParentIndex(i);if(t(s)||r<0&&null==s.node)return r<0?1/0:this.entryPriority(r);let n=0;if(s.node&&r>=0){const e=this._nodeTraversalState.get(r);null!=e&&(n=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-n*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this.getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,r,n){if(r.node&&0===r.childCount)return void(this.isGeometryVisible(t)&&n(t,r,s));if(!this.isNodeVisible(t))return;if(n(t,r,s),null==r.node)return;const o=this.nodeTraversalState(r.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this.getPage(t));for(let i=0;i<r.childCount;i++){const s=a.children[r.childOffset+i],o=this.getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,n):n(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,r=this.getNodeInternal(s);e(r)&&this._traverseChildren(s,r,i)}_traverseChildren(i,s,r){const n=this.getPage(i);if(t(n))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=n.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&r(s.node)&&this._traverseChildren(i,s,r)}}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(e){this.forAllNodes(_),this.viewportQueries.updateElevationInfo(e)}forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this.addNode(e,t)}}}const m=new Map;class f{constructor(){this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e,t){this.add.clear(),this.update.clear(),this.cancel=e,this.missing=t}}function _(t){e(t.node)&&(t.node.renderMbs[3]=-1,e(t.node.serviceObbInRenderSR)&&(t.node.serviceObbInRenderSR.halfSize[0]=-1)),e(t.ref)&&(t.ref.renderMbs[3]=-1,e(t.ref.serviceObbInRenderSR)&&(t.ref.serviceObbInRenderSR.halfSize[0]=-1))}function v(e){return h(e,-2)}function b(e){return h(e,2)}function p(e,t){return t+(e?1:0)}function y(e,t){return(-2&e)===t}function P(e){return 1==(1&e)}function N(e,t){return 0===t?0:e/t|0}function x(e,t){return 0===t?e:e%t}const I=[[\"maxScreenThreshold\",1],[\"screenSpaceRelative\",2],[\"removedFeatureDiameter\",3],[\"distanceRangeFromDefaultCamera\",4]];function w(e){if(e)for(let t=0;t<e.length;t++)for(const i of I)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:0,maxError:0}}class C{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function M(e){return Math.sqrt(e*(4/Math.PI))}export{g as I3SIndex,w as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import o from\"../../../../core/PooledArray.js\";class s{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,o,s){this._maxLodLevel=s.maxLodLevel,this._index=o,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const o=this._index.nodeTraversalState(i);return!!this.isChosenMaxLOD(o)||!!o.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,o=Math.max(0,Math.floor(10*(i-1)));t.clear(),this._lodGlobalHandling(this._index.rootNode,o,!1);const s=t.length;this._removeNodes(t,e);const d=t.length<s;return 0!==t.length&&(this._lodGlobalDirty=!0),t.clear(),d}_lodGlobalHandling(o,s,d){if(e(o))return!1;const l=o.index,n=this._index,r=this.layerView,a=n.nodeTraversalState(o),h=this.isChosenMaxLOD(a),u=r.isNodeLoaded(l),c=r.nodeCrossfadingEnabled;if(c&&u&&h){const e=!d&&this.hasNoVisibleChildren(o);r.fadeNode(l,0,!e)}const x=u&&(!r.isNodeFullyFadedIn||r.isNodeFullyFadedIn(l));if(u&&(r.updateNodeState(l,h?1:0),h))return x&&this._removeChildrenRecursive(o),x;const _=o.childCount>0;let L=_;if(_)for(let e=0;e<o.childCount;e++){const t=n.getChildIndex(o,e),l=n.getNode(t);if(i(l)){!(!n.isGeometryVisible(t)||this._lodGlobalHandling(l,s,d||x))&&this._isNodeInScaleBounds(l)&&(L=!1)}else n.isNodeVisible(t)&&(L=!1)}const N=u&&!h&&(L||t.length<s);N&&t.push(l),!c||N||!u||d||L||r.fadeNode(l,0,!1);const b=!o.resources.hasFeatureData;return L||x&&!N||b}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&t.push(e.index),!0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(!this.layerView.isNodeLoaded(e.index)||(i=!1,!1)))),i}_childrenRequireLoading(e){let i=!1,o=!0;return this._index.traverseChildren(e,(e=>{if(!o||!this._index.isNodeVisible(e.index))return!1;const s=this._index.nodeTraversalState(e);return this.isChosenMaxLOD(s)&&this._index.isGeometryVisible(e.index)&&(i=!0),!this.layerView.isNodeLoaded(e.index)||(o=!1,!1)})),o&&i}isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const t=new o({deallocator:null});export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}load(e,t,r){return this.streamDataController.request(e,t,r)}loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this.load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this.loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=p(this.geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this.loadGeometry(r.resources.geometry,u,i)):null,m=r.resources.hasSharedResource?await this.loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,x=h&&h.material,A=h&&h.textures,$=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this.loadFeatureData($,i):null,j=w?y(T):g(x),I=o(j)&&b(T),U=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let S=null,q=null;if(d){S=t(await d);const e=D(this.defaultGeometrySchema,m);q=f(a,e)}const v=U?t(await U):null,P=s?t(await s):{},k=P?{attributeData:P,loadedAttributes:this.requiredAttributes}:null;return n(j)?{geometryData:j,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:n(I)?{pointData:I,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:Promise.reject()}static addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this.load(r,\"json\",t).then((e=>(h.fixTextureEncodings(e),h.addAbsoluteHrefTexture(e,r),e)))}loadTexture(e,t,r,i,o,n){let s=!1;return 4===o||1===o||2===o?this.load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this.load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this.loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this.load(r,\"json\",t)}loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this.load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function y(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function D(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function p(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{createAbortController as e,onAbortOrThrow as t,always as r}from\"../../../../core/promiseUtils.js\";class s{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(s,l,o){const a=e(),n=t(o,(()=>a.abort())),u={signal:a.signal,query:{token:this.apiKey}},i=this.requester.request(s,l,u),c={response:i,abortController:a,abortHandle:n};return this.activeRequests.add(c),r(i,(()=>{var e;c.abortController=null,null==(e=c.abortHandle)||e.remove(),c.abortHandle=null,this.activeRequests.delete(c)})),i}cancelAll(){this.activeRequests.forEach((e=>{var t,r;null==(t=e.abortController)||t.abort(),e.abortController=null,null==(r=e.abortHandle)||r.remove()})),this.activeRequests.clear()}}export default s;export{s as I3SStreamDataController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{h as s,i,l as r,a as n,d as a,p as o,f as h,b as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as _,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as M}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as v,extractExpressionInfo as D}from\"../graphics/featureExpressionInfoUtils.js\";import{transformObb as C,intersectBoundingBoxWithMbs as P}from\"./I3SUtil.js\";import{create as R,isVisible as S}from\"../../support/orientedBoundingBox.js\";const E=1e5;class L{constructor(t,e,s,i,r,n,a,o={}){this.indexSR=t,this._renderCoordsHelper=e,this.extent=r,this.elevationProvider=n,this.options=o,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this.screenspaceErrorBias=o.screenspaceErrorBias||1,this.progressiveLoadFactor=o.progressiveLoadFactor||1,this.updateCamera(s,i),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this.tmpPoint=f(0,0,0,t)}updateElevationInfo(t){null!=t?(this._elevationContext=M.fromElevationInfo(t),this._elevationContext.updateFeatureExpressionInfoContext(v(D(t,!1)))):this._elevationContext=null}updateCamera(t,e){this._useFrustumCulling=e,e&&_(t.viewMatrix,t.projectionMatrix,this._frustum),this._screenSizeFactor=1/(t.perScreenPixelRatio/2),this._camPos=t.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(t){this._poi=t}updateScreenSpaceErrorBias(t){const e=this.screenspaceErrorBias;return this.screenspaceErrorBias=t,e}updateExtent(t){this.extent=t}getRenderMbs(t){const e=t.renderMbs;return e[3]<0&&(u(e,t.mbs),this._elevationContext&&e[3]<E&&(this.tmpPoint.x=e[0],this.tmpPoint.y=e[1],this.tmpPoint.z=e[2],e[2]=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)),p(e,this.indexSR,e,this.engineSR)),e}getVisibilityObb(s){if(t(s.visibilityObb))return s.visibilityObb;const i=s.serviceObb;return e(i)||i.halfSize[0]<0?void 0:(s.serviceObbInRenderSR=this._computeRenderObb(i,s.serviceObbInRenderSR,s.mbs[3]),s.serviceObbInRenderSR)}_computeRenderObb(t,s,i){if(e(s)&&(s=R()),s.halfSize[0]<0){let e=0;this._elevationContext&&i<E&&(this.tmpPoint.x=t.center[0],this.tmpPoint.y=t.center[1],this.tmpPoint.z=t.center[2],e=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)-t.center[2]),C(t,this.indexSR,s,this.engineSR,e)}return s}isNodeVisible(e){const s=this.getRenderMbs(e);if(!this.isMBSinExtent(s))return!1;if(!this._useFrustumCulling)return!0;const i=this.getVisibilityObb(e);return t(i)?S(i,this._frustum):b(this._frustum,x(s))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const s=e.geometryObb;return t(s)?S(s,this._frustum):this.isNodeVisible(e)}isMBSinExtent(t){return!this.extent||0!==P(this.extent,t)}screenSpaceDiameterMbs(t,e){const i=this.getRenderMbs(t),r=Math.sqrt(s(i,this._camPos)),n=r-i[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:e/n*this._screenSizeFactor}calcCameraDistance(t){return this.calcCameraDistanceToCenter(t)-this.getRenderMbs(t)[3]}calcCameraDistanceToCenter(t){const e=this.getRenderMbs(t),s=i(e,this._camPos);return this._updateMinMaxDistance(s),s}calcAngleDependentLoD(t){const e=this.getRenderMbs(t),s=e[3],n=(Math.abs(e[0]*(e[0]-this._camPos[0])+e[1]*(e[1]-this._camPos[1])+e[2]*(e[2]-this._camPos[2]))/r(e)+s)/i(e,this._camPos);return Math.min(1,n)}hasLOD(t){return 0!==t.lodMetric}getDistancePlanarMode(t,e){const s=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],n=s*s+i*i,a=e[3];if(n<=a*a)return Math.abs(r);const o=Math.sqrt(n)-a;return Math.sqrt(r*r+o*o)}getDistanceGlobeMode(t,e){const m=r(e),u=r(t)-m;n(this._tmp0,t,a(t,e)/o(t));const p=s(e,this._tmp0),l=e[3];if(p<=l*l)return Math.abs(u);{const s=n(this._tmp0,e,1/m),o=m,p=l*l/2/o,d=n(this._tmp1,s,o-p),_=t,b=h(this._tmp2,_,d),x=h(this._tmp2,b,n(this._tmp3,s,a(s,b))),f=c(this._tmp2,d,n(this._tmp2,x,l/r(x)));let g=i(_,f);if(u>=2e5){const t=h(this._tmp1,_,f);let e=a(t,s)/r(t);e<.08&&(e=1e-4),g/=e}return g}}getDistance(t,e){return this.engineSR===l(this.engineSR)?this.getDistanceGlobeMode(t,e):this.getDistancePlanarMode(t,e)}_updateMinMaxDistance(t){t>0?(this.minDistance=Math.min(this.minDistance,t),this.maxDistance=Math.max(this.maxDistance,t)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-t))}getLodLevel(t){if(0===t.lodMetric||!t.resources.hasFeatureData)return 0;if(0===t.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this.progressiveLoadFactor<1){const e=this.progressiveLoadFactor*this.screenspaceErrorBias,s=this.screenspaceErrorBias;return this.evaluateLODmetric(t,e)?this.evaluateLODmetric(t,s)?2:1:0}return this.evaluateLODmetric(t,this.screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(t,e){switch(t.lodMetric){case 2:{const s=this.getRenderMbs(t),i=this.getDistance(this._camPos,s),r=2*i/this._screenSizeFactor,n=i+s[3];return this._updateMinMaxDistance(n),t.maxError*e<=r}case 1:{let s=this.screenSpaceDiameterMbs(t,t.mbs[3]*e);return this.options.angleDependentLoD&&(s*=this.calcAngleDependentLoD(t)),s<t.maxError}case 3:return this.screenSpaceDiameterMbs(t,t.maxError)*e<10;case 4:return this.calcCameraDistance(t)>t.maxError*e}return!1}distToPOI(t){const e=this.getRenderMbs(t);return i(e,this._poi)-e[3]}distCameraToPOI(){return i(this._camPos,this._poi)}}export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import a from\"../../../core/Logger.js\";import{isSome as r,isNone as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{createAbortController as h,isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as m,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import f from\"../../support/PromiseQueue.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as w}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import N from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import v from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as C}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as D,getIndexCrs as L,findIntersectingNodes as S}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import V from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{projectToBoundingBox as I}from\"../../../views/3d/support/extentUtils.js\";import{maxDownloadSlots as A}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as F,scaleBoundsPredicate as P}from\"../../../views/support/layerViewUtils.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";const O=a.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),M=100,q=2,G=1e4,Q=1e-4,j=1.2,T=500,B=1.5;let E=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(2);return new C(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(3);return new C(e,this.layer.apiKey)}get crsVertex(){return D(this.layer)}get crsIndex(){return L(this.layer)}get rootNodeVisible(){if(r(this._index)){const e=this._index.rootNode;if(r(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}initialize(){this._disableMemCache=!this.layerView.loadCachedGPUData||!this.layerView.addCachedGPUData,this._lodHandling=new N(this.layerView);const e=this.layerView.i3slayer;this.layer=e,this._defaultGeometrySchema=e.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in e&&(this._fields=e.fields,this._attributeStorageInfo=e.attributeStorageInfo),this.addResolvingPromise(Promise.all([this.layer.indexInfo,this.layer.when(),this.layerView.when()]).then((([t])=>{var i;if(this.destroyed||!this.layerView||this.layerView.destroyed)return;const s=this.layerView.view;this._setClippingArea(s.clippingArea);const a=this.layerView.view.resourceController;this._handles.add([u(s,\"pointsOfInterest.focus.renderLocation\",(e=>this._pointOfInterestChanged(e))),a.memoryController.events.on(\"quality-changed\",(()=>this._setCameraDirty())),u(this.layerView,\"suspended\",(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=a.scheduler.registerIdleStateCallbacks(t,i)})),b(this.layerView.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),this.watch(\"uncompressedTextureDownsamplingEnabled\",(()=>this.restartNodeLoading())),this.watch([\"featureTarget\",\"fixedFeatureTarget\"],(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),s.state.watch(\"contentCamera\",(()=>this._setCameraDirty())),this.layer.watch(\"elevationInfo\",(()=>this._elevationInfoChanged())),this.layer.watch([\"minScale\",\"maxScale\"],(()=>this._scaleBoundsChanged())),this.layerView.watch(\"lodFactor\",(()=>this._setCameraDirty())),this.layerView.watch(\"availableFields?\",(()=>this._requiredFieldsChange())),this.layerView.watch(\"holeFilling\",(e=>r(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new V(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,s.elevationProvider,this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new w(e,t,this.indexStreamController,this._viewportQueries,O,this.layerView.holeFilling,(e=>this.layerView.isNodeLoaded(e)),(e=>this.layerView.isNodeReloading(e)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,1)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(e=>this.layerView.computeVisibilityObb?this.layerView.computeVisibilityObb(e):null),null!=(i=this.layerView)&&i.computeNodeFiltering?e=>this.layerView.computeNodeFiltering(e):void 0);const d=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(d),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;r(t)&&i&&i.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);r(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,H.prune(),r(k)&&(k.remove(),k=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=z(e,i),a=z(t,i);return s>=0&&a>=0?{index:s,name:t[a].name,field:t[a],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();R(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();I(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){r(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),r(this._index)&&(this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),r(this._viewportQueries)&&r(this._index)&&(this._viewportQueries.updateExtent(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this.notifyChange(\"rootNodeVisible\"),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(d(i))return;const s=i.rootNode;if(d(s))return;const a=this._elevationUpdateNodes;a.clear(),S(e,t,s,this.crsIndex,i,(e=>a.push(e.index))),a.forAll((e=>{i.invalidateBoundingVolumeCache(e),e===s.index&&this.notifyChange(\"rootNodeVisible\")})),a.length&&this.restartNodeLoading()}getParentIndex(e){return r(this._index)&&this._index.getParentIndex(e)}_elevationInfoChanged(){r(this._index)&&this._index.updateElevationInfo(this.layer.elevationInfo),this._setCameraDirty()}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.scale,e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t,i){const s=this._index;if(d(s))return;const a=s.rootNode;!d(a)&&p(t,i,$,this.crsIndex)&&this._loadedNodeScales.forEach(((t,i)=>{const a=s.getNode(i);r(a)&&m($,a.mbs)&&this._loadedNodeScales.set(i,e)}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=F(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return d(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return r(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||d(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?O.error(\"Error during processing: \"+i):50===this._errorCount&&O.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){if(this._restartNodeLoading&&this._startNodeLoading(),null!=this._nodeLoader&&!d(this._index)){for(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t)));!e.done&&this._idleQueue.process();)e.madeProgress();e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating()}}_processIndex(e){if(d(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update([...this._loadingNodes.keys()],e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(d(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.isGraphics3D||d(this._index)||d(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>T){if(this._featureLOD<=Q)return;this._featureLOD/=B,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=G||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,a=this._index.checkFeatureTarget(t,s);a!==s&&(this._featureLOD=a/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*j||e&&i.estimate>t))return;if(this._featureLOD<=Q)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(G,Math.max(Q,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(d(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);r(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,0)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(d(this._index))return!1;let i=(this._isIdle?M:q)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());r(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(d(a)||2!==a.cacheState&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=q)&&(this._downloadingCount<A&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(r(this._index)?this._index.getIndexMissing():0)+3*(r(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.length>0||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||d(this._index)||d(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return r(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){r(this._index)&&this._index.invalidateNodeVisibilityCache(e)}updateBoundingVolume(e){r(this._index)&&this._index.invalidateBoundingVolumeCache(e)}invalidateGeometryVisibility(e){r(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){r(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){if(r(this._index)){const e=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(e)}this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e)||!this._isNodeInScaleBounds(e))&&(!!r(this._index)&&this._index.isGeometryVisible(e.index))}_shouldDropNode(e){if(d(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||d(e)||d(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:!this.isMeshPyramid};this._nodeLoader=new v(this.layer,this.dataStreamController,O,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,1)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(d(t)||d(this._viewportQueries))return!1;H.clear(),this.layerView.getLoadedNodeIndices(H);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return H.filterInPlace((e=>{const i=t.getNode(e);return d(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),H.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(H,e,0),!(i&&this.lodDropFactor<1)&&(0===H.length||(H.clear(),!1))}markNodeToRemove(e){H.push(e)}removeMarkedNodes(){this._removeNodes(H,U,0)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(r(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),a=this._index;1===i&&this.layerView.nodeFadeoutEnabled&&r(a)&&a.isGeometryVisible(s)?this.layerView.fadeNode(s,1,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=h();this._updatingNodes.set(e.index,t);(R(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!l(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void O.error(\"already loading node \"+e.index);const t=h();this._loadingNodes.set(e.index,t);const i=()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()};this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then(i).catch((e=>{if(i(),!l(e))throw e}))}_loadAndAddNode(e,t){return 1===e.cacheState?this._loadUncached(e,t):this._loadCached(e,t).then((t=>{t||(e.cacheState=1,r(this._index)&&this._index.updates.add.push(e.index))})).catch((t=>{if(!l(t))throw e.cacheState=1,t}))}_enableFromGPUCache(e,t){if(this._disableMemCache||d(this._index))return!1;if(0===t&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return r(t)&&r(t.attributeInfo)&&R(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){r(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}_loadCached(e,t){if(this._enableFromGPUCache(e,1))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(d(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=2})).catch((t=>{if(!l(t))throw O.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,r(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&r(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=this.layerView.view.basemapTerrain.getScale(this._tmpPoint);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=F(this.layer);return P(t,i,s)}updateStats(e){e.index=r(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),r(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){r(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),r(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;r(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([c({readOnly:!0})],E.prototype,\"isMeshPyramid\",null),e([c({readOnly:!0})],E.prototype,\"isGraphics3D\",null),e([c({readOnly:!0})],E.prototype,\"indexStreamController\",null),e([c({readOnly:!0})],E.prototype,\"dataStreamController\",null),e([c({readOnly:!0})],E.prototype,\"crsVertex\",null),e([c({readOnly:!0})],E.prototype,\"crsIndex\",null),e([c()],E.prototype,\"screenSizeFactor\",void 0),e([c()],E.prototype,\"featureTarget\",void 0),e([c()],E.prototype,\"fixedFeatureTarget\",void 0),e([c()],E.prototype,\"layerView\",void 0),e([c()],E.prototype,\"layer\",void 0),e([c({})],E.prototype,\"updating\",void 0),e([c({})],E.prototype,\"updatingProgress\",void 0),e([c({readOnly:!0})],E.prototype,\"leavesReached\",void 0),e([c({constructOnly:!0})],E.prototype,\"scaleVisibilityEnabled\",void 0),e([c({readOnly:!0,dependsOn:[]})],E.prototype,\"rootNodeVisible\",null),E=e([_(\"esri.layers.graphics.controllers.I3SOnDemandController\")],E);const H=new o({deallocator:null});let k;function R(e,t){return r(e)&&e.length===t.length&&e.every((e=>z(t,e.name)>=0))}function z(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const K={factorIM:.2,factor3dObject:.05,distancePenalty:10},$=y();var J=E;export default J;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{splitIntoChunks as t,remove as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{createAbortController as m,whenOrAbort as u}from\"../../../../core/promiseUtils.js\";import{formatNumber as g}from\"../../../../intl/number.js\";import{getMaximumQuerySize as b,queryAllJSON as p}from\"../../../../layers/support/featureQueryAll.js\";const f=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class y{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=m(),this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=v,this.memCache=t.getMemCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this.fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const t=this.interactiveEditingSessions,i=new O(e,{rollback:()=>{s(t,i),0===t.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return t.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await u(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this.getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this.queryOverridesFromAssociatedLayer(o,d,s);c(h)||this.processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this.cacheValue(e,t,s)}cacheValue(e,t,s){this.memCache.put(this.getCacheKey(e,t),s,this.memCacheValueSize(s))}getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this.fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}fromCache(e,t){const s=this.fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this.getCacheKey(e,t);return this.memCache.get(i)}fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}getCacheKey(e,t){return`${e}-${t}`}async queryOverridesFromAssociatedLayer(e,s,r){if(0===e.length||0===s.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this.logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...s],n.cacheHint=!0,n.objectIds=e;const o=b(a),c=e.length>o?t(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(p(a,t,{signal:r}))})):[i(p(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${g(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,f.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this.cacheValue(e,i,a)}}}memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async fetchChangedObjectIds(t){var s,i,a;const n=this.layer;if(await n.load({signal:t}),this.changedObjectIds.clear(),c(n.associatedLayer)||null==(s=n.associatedLayer.capabilities)||null==(i=s.operations)||!i.supportsChangeTracking)return;const o=this.getFetchChangedObjectIdsServerGen();if(c(o))return null;const d=n.associatedLayer.layerId,m=await r(e(`${n.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${d}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:d,serverGen:o}])},timeout:j,signal:t})),u=m.ok&&null!=(a=m.value.data)&&a.edits?h(m.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(u)){const e=Math.min(this._maximumNumberOfEditOVerrides,u.length);e<u.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=u.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class O{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=0}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=2,this.options.rollback())}commit(){this.isActive&&(this.state=1,this.options.commit(this.updates),this.updates.clear())}get isActive(){return 0===this.state}}const j=1e4,v=5e4;export{y as I3SAttributeOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";function t(){return i||(i=new Promise((e=>import(\"../../chunks/i3s.js\").then((function(e){return e.i})).then((({default:t})=>{const i=t({locateFile:n,onRuntimeInitialized:()=>e(i)});delete i.then})))).catch((e=>Promise.reject(e)))),i}function n(t){return e(`esri/libs/i3s/${t}`)}let i;export{t as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{slice as t}from\"../../../core/typedArrayUtil.js\";import{get as r}from\"../../../libs/i3s/I3SModule.js\";async function n(e){await h();const t=[e.geometryBuffer];return{result:y(e,t),transferList:t}}async function o(e){var r;await h();const n=[e.geometryBuffer],{geometryBuffer:o}=e,s=o.byteLength,f=c._malloc(s),i=new Uint8Array(c.HEAPU8.buffer,f,s);i.set(new Uint8Array(o));const a=c.dracoDecompressPointCloudData(f,i.byteLength);if(c._free(f),a.error.length>0)throw`i3s.wasm: ${a.error}`;const u=(null==(r=a.featureIds)?void 0:r.length)>0?t(a.featureIds):null,l=t(a.positions);u&&n.push(u.buffer),n.push(l.buffer);return{result:{positions:l,featureIds:u},transferList:n}}async function s(e){await h(),m(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function f(e){await h(),l(e)}async function i(e){await h(),c.setLegacySchema(e.context,e.jsonSchema)}function a(e){d(e)}let u,c;function l(e){const t=e.modifications,r=c._malloc(8*t.length),n=new Float64Array(c.HEAPU8.buffer,r,t.length);for(let o=0;o<t.length;++o)n[o]=t[o];c.setModifications(e.context,r,t.length,e.isGeodetic),c._free(r)}function y(r,n){if(!c)return null;const{context:o,localOrigin:s,globalTrafo:f,mbs:i,obb:a,elevationOffset:u,geometryBuffer:l,geometryDescriptor:y,indexToVertexProjector:b,vertexToRenderProjector:m}=r,d=c._malloc(l.byteLength),h=33,p=c._malloc(h*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(c.HEAPU8.buffer,d,l.byteLength);g.set(new Uint8Array(l));const w=new Float64Array(c.HEAPU8.buffer,p,h);E(w,s);let A=w.byteOffset+3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A);E(_,f),A+=16*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,i),A+=4*w.BYTES_PER_ELEMENT,e(a)&&(_=new Float64Array(w.buffer,A),E(_,a.center),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.halfSize),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.quaternion));const L=y,T={isDraco:!1,isLegacy:!1,color:r.layouts.some((e=>e.some((e=>\"color\"===e.name)))),normal:r.needNormals&&r.layouts.some((e=>e.some((e=>\"normalCompressed\"===e.name)))),uv0:r.layouts.some((e=>e.some((e=>\"uv0\"===e.name)))),uvRegion:r.layouts.some((e=>e.some((e=>\"uvRegion\"===e.name)))),featureIndex:L.featureIndex},I=c.process(o,!!r.obb,d,g.byteLength,L,T,p,u,b,m,r.normalReferenceFrame);if(c._free(p),c._free(d),I.error.length>0)throw`i3s.wasm: ${I.error}`;if(I.discarded)return null;const P=I.componentOffsets.length>0?t(I.componentOffsets):null,U=I.featureIds.length>0?t(I.featureIds):null,B=t(I.interleavedVertedData).buffer,F=1===I.indicesType?t(new Uint16Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/2)):t(new Uint32Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/4)),v=t(I.positions),x=1===I.positionIndicesType?t(new Uint16Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/2)):t(new Uint32Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/4)),M={layout:r.layouts[0],interleavedVertexData:B,indices:F,hasColors:I.hasColors,hasModifications:I.hasModifications,positionData:{data:v,indices:x}};return U&&n.push(U.buffer),P&&n.push(P.buffer),n.push(B),n.push(F.buffer),n.push(v.buffer),n.push(x.buffer),{componentOffsets:P,featureIds:U,transformedGeometry:M,obb:I.obb}}function b(e){return 0===e?0:1===e?1:2===e?2:3}function m(e){const{context:t,buffer:r}=e,n=c._malloc(r.byteLength),o=r.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(c.HEAPU8.buffer,n,o),f=new Float64Array(r);s.set(f),c.filterOBBs(t,n,o),f.set(s),c._free(n)}function d(e){c&&c.destroy(e)}function E(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}function h(){return c?Promise.resolve():(u||(u=r().then((e=>{c=e,u=null}))),u)}const p={transform:y,destroy:d};export{a as destroyContext,o as dracoDecompressPointCloudData,s as filterObbsForModifications,m as filterObbsForModificationsSync,h as initialize,b as interpretObbModificationResults,n as process,i as setLegacySchema,f as setModifications,l as setModificationsSync,p as test};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{GraphicsMap as s}from\"./GraphicsMap.js\";class i extends e{constructor(e){super(),this._limit=e,this._all=new s,this._active=new a(this),this._pending=new Map,this._handle=this._all.on(\"change\",(e=>this._handleChanges(e)))}destroy(){this._handle.remove()}get length(){return this._active.length}toArray(){return this._active.toArray()}find(e){return this._active.find(e)}forEach(e){this._active.forEach(e)}addMany(e){this._all.addMany(e)}removeManyByObjectId(e){this._all.removeManyByObjectId(e)}_handleChanges(e){let t=e.removed;if(this._pending.size>0){t=new Array;for(const s of e.removed)this._pending.delete(s.objectId)||t.push(s)}let s=this._limit-this._active.length+t.length;s<e.added.length&&(this._active.removeMany(t),t=[],h.reset(1-this._limit/(this._active.length+e.added.length)),this._active.forEach((e=>{h.sample()&&(t.push(e),this._pending.set(e.objectId,e))})),s=this._limit-this._active.length+t.length);let i=e.added;if(s<e.added.length){i=new Array,h.reset(s/e.added.length);for(const t of e.added)h.sample()?i.push(t):this._pending.set(t.objectId,t)}const n=s-i.length;n>0&&this._pending.size>0&&(h.reset(n/this._pending.size),this._pending.forEach((e=>{h.sample()&&(i.push(e),this._pending.delete(e.objectId))}))),this._active.addAndRemove(i,t)}}class n{constructor(){this.percentage=1,this.last=-1,this.index=0}reset(e){this.percentage=e,this.last=-1}sample(){const e=Math.floor(this.index*this.percentage);return++this.index,e!==this.last&&(this.last=e,!0)}}const h=new n;class a{constructor(e){this._parent=e,this._map=new Map}get length(){return this._map.size}forEach(e){this._map.forEach((t=>e(t)))}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}toArray(){return[...this._map.values()]}addAndRemove(e,t){for(const s of e)this._map.set(s.objectId,s);for(const s of t)this._map.delete(s.objectId);(e.length>0||t.length>0)&&this._parent.emit(\"change\",{added:e,removed:t})}removeMany(e){for(const t of e)this._map.delete(t.objectId);e.length>0&&this._parent.emit(\"change\",{added:[],removed:e})}}export{i as LimitGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import\"../../../symbols.js\";import r from\"../../../core/Accessor.js\";import s from\"../../../core/Handles.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as l}from\"../../../core/accessorSupport/diffUtils.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{makeDehydratedPoint as c}from\"../../../layers/graphics/dehydratedFeatures.js\";import{Graphics3DCore as h}from\"./graphics/Graphics3DCore.js\";import n from\"./graphics/Graphics3DScaleVisibility.js\";import{boundingBoxTop as d}from\"./i3s/I3SGeometryUtil.js\";import{LimitGraphicsMap as y}from\"../support/LimitGraphicsMap.js\";import g from\"../../../symbols/PointSymbol3D.js\";let u=class extends r{constructor(e){super(e),this.loadedGraphics=new y(5e4),this.slicePlaneEnabled=!1,this._renderingInfo={symbol:new g},this._handles=new s,this._graphicsByNode=new Map,this._scaleVisibility=null}initialize(){this._graphicsCore=new h({owner:this,layer:this.layer,preferredUpdatePolicy:0,elevationFeatureExpressionEnabled:!1,graphicSymbolSupported:!1,getRenderingInfoWithoutRenderer:!0,hasZ:!0,hasM:!1});const e=this.view.basemapTerrain;this._scaleVisibility=new n({layerScaleEnabled:!1}),this._scaleVisibility.setup(this,this.layer,((e,i,r)=>this._graphicsCore.spatialIndex.queryGraphicUIDsInExtent(e,i,r)),this._graphicsCore,e);const i=this.view.labeler.addGraphicsOwner(this._graphicsCore,this._scaleVisibility,{emptySymbolLabelSupported:!0,elevationInfoOverride:{mode:\"absolute-height\",offset:0},disablePlacement:{logEntityDescription:\"3D Object Scene Layer features\"}}),r=this.view.deconflictor.addGraphicsOwner(this._graphicsCore);this._graphicsCore.setup({labeler:i,deconflictor:r,scaleVisibility:this._scaleVisibility}).then((()=>{this._graphicsCore.startCreateGraphics()})).catch((()=>{})),this._handles.add([this.layer.watch(\"labelingInfo\",((e,i)=>{l(e,i)&&this._graphicsCore.updateLabelingInfo()}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null),null!=this._scaleVisibility&&(this._scaleVisibility.destroy(),this._scaleVisibility=null),null!=this._graphicsCore&&(this._graphicsCore.destroy(),this._graphicsCore=null),this.loadedGraphics.destroy(),this.view=null}addNodeMeta(e,r){let s=0;const o=e.filteredIds,a=e.featureIds.map(((a,l)=>{d(l,this.collection,e.objectHandle,f);const p=c(0,0,0,this.view.spatialReference);this.view.renderCoordsHelper.fromRenderCoords(f,p);const h=r(l,e);let n=!1;return t(o)?n=!0:s<o.length&&a===o[s]&&(n=!0,s++),{objectId:a,uid:i.generateUID(),attributes:h,visible:n,geometry:p}}));this.loadedGraphics.addMany(a),this._graphicsByNode.set(e.node.index,a)}setNodeMetaAttributes(e,i){const r=this._graphicsByNode.get(e.node.index),s=new Array(r.length);for(let t=0;t<r.length;t++){const o=r[t];o.attributes=i(t,e),s[t]=o.uid}this._graphicsCore.updateLabelingInfo(s)}applyFilterChange(e){const i=this._graphicsByNode.get(e.node.index);if(i)if(t(e.filteredIds))for(const r of i)r.visible||(r.visible=!0,m.graphic=r,m.property=\"visible\",m.oldValue=!1,m.newValue=!0,this._graphicsCore.graphicUpdateHandler(m));else{let r=0;for(const s of i){const i=s.visible;r<e.filteredIds.length&&s.objectId===e.filteredIds[r]?(s.visible=!0,r++):s.visible=!1,i!==s.visible&&(m.graphic=s,m.property=\"visible\",m.oldValue=i,m.newValue=s.visible,this._graphicsCore.graphicUpdateHandler(m))}}}removeNodeMeta(e){this.loadedGraphics.removeManyByObjectId(e.featureIds)}getRenderingInfo(){return this._renderingInfo}notifyGraphicGeometryChanged(){}notifyGraphicVisibilityChanged(){}get updatePolicy(){return this._graphicsCore.effectiveUpdatePolicy}get usedMemory(){return this._graphicsCore.usedMemory}get unloadedMemoryEstimate(){return this._graphicsCore.unprocessedMemoryEstimate}get test(){return{graphicsCore:this._graphicsCore}}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"collection\",void 0),e([o()],u.prototype,\"loadedGraphics\",void 0),e([o({aliasOf:\"_graphicsCore.updating\"})],u.prototype,\"updating\",void 0),e([o()],u.prototype,\"slicePlaneEnabled\",void 0),e([o()],u.prototype,\"_graphicsCore\",void 0),u=e([a(\"esri.views.3d.layers.I3SMeshViewLabeler\")],u);const m={graphic:null,property:null,oldValue:null,newValue:null},f=p();var b=u;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import t from\"../../../core/PooledArray.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r,projectVectorToVector as s}from\"../../../geometry/projection.js\";const n=e.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\");class i extends o{constructor(e){super(\"SceneLayerWorker\",\"process\",e,{hasInitialize:!0})}getTransferList(e){return[e.geometryBuffer]}setModifications(e,t,o){const r={context:e,modifications:f(t,o),isGeodetic:o.isGeographic};this.broadcast(r,\"setModifications\")}setLegacySchema(e,t){const o=JSON.stringify(t);this.broadcast({context:e,jsonSchema:o},\"setLegacySchema\")}destroyContext(e){return this.broadcast(e,\"destroyContext\")}}const c=new t({deallocator:null}),a=[0,0,0];function f(e,t){c.clear();for(const i of e){const e=\"clip\"===i.type?2:\"mask\"===i.type?1:0,o=i.geometry;let f=e=>e;if(o.spatialReference){if(!r(o.spatialReference,t)){n.warn(\"Can't project modification polygon into layer spatial reference, ignoring modification\");continue}f=e=>(s(e,o.spatialReference,a,t),a)}else o.hasZ||(a[2]=0,f=e=>(a[0]=e[0],a[1]=e[1],a));c.push(e),c.push(o.rings.length);for(const t of o.rings){c.push(t.length);for(const e of t){const t=f(e);c.push(t[0]),c.push(t[1]),c.push(t[2])}}}c.push(3);const o=new Float64Array(c.length);for(let r=0;r<c.length;++r)o[r]=c.getItemAt(r);return o}export{i as I3SMeshWorkerHandle,f as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";class t{constructor(){this.ids=new Set,this.paused=!1}}class s{constructor({collection:e,forAllFeatures:t,forAllFeaturesOfNode:s}){this.highlights=[],this.collection=e,this.forAllFeatures=t,this.forAllFeaturesOfNode=s}destroy(){this.highlights.forEach((e=>this.releaseSet(e))),this.highlights=null}acquireSet(){const s=new t;this.highlights.push(s);const i={remove:()=>{this.releaseSet(s),e(this.highlights,s)},pause:()=>{this.releaseSet(s),s.paused=!0},resume:()=>{s.paused=!1,this.initializeSet(s)}};return{set:s,handle:i}}setFeatureIds(e,t){t.forEach((t=>e.ids.add(t))),this.initializeSet(e)}initializeSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.addComponentHighlight(i.objectHandle,s),1)))}releaseSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.removeComponentHighlight(i.objectHandle,s),1)))}objectCreated(e){this.highlights.forEach((t=>{t.paused||this.forAllFeaturesOfNode(e,((s,i)=>(t.ids.has(s)&&this.collection.addComponentHighlight(e.objectHandle,i),1)))}))}objectDeleted(e){this.collection.clearHighlights(e.objectHandle)}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e,isSome as s}from\"../../../../core/maybe.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";class d{constructor(){this.lodCrossfadeSignedDuration=0}}class i{constructor(e){this.view=e,this._preRenderFrameTaskHandle=null,this._currentFrameStartTime=null,this._numFadingNodes=0}get updating(){return this._numFadingNodes>0}stopNodeFading(s){null!=s.lodCrossfadeProgress&&(this._numFadingNodes--,s.lodCrossfadeProgress=null,0===this._numFadingNodes&&(null!=this._preRenderFrameTaskHandle&&(this._preRenderFrameTaskHandle=e(this._preRenderFrameTaskHandle)),this.view.notifyLODUpdate(),this.view.notifyUpdate()))}_startNodeFading(e,s,d){0===this._numFadingNodes&&(this._preRenderFrameTaskHandle=o({preRender:e=>this._updateAllNodeFading(e)}),this.view.notifyLODUpdate()),null==e.lodCrossfadeProgress&&(this._numFadingNodes++,this.view.notifyUpdate()),e.lodCrossfadeSignedDuration=d,e.lodCrossfadeProgress=s}_updateAllNodeFading(e){const o=this.view.nodeCrossfadingEnabled;this.view.foreachCrossfadeNode(((d,i)=>{if(s(i)&&s(i.lodCrossfadeProgress)){const s=i.lodCrossfadeSignedDuration,t=s>0?this.view.fullOpacity:0,a=e.deltaTime/s,r=i.lodCrossfadeProgress+Math.abs(a),n=!o||r>=1||0===s,l=t-(n?0:s>0?1:-1)*(1-r);n?(this.stopNodeFading(i),s<0&&this.view.markNodeToRemove(d)):i.lodCrossfadeProgress=r,this.view.setNodeOpacityByIndex(d,l)}})),this.view.removeMarkedNodes()}stopAllNodeFading(){this.view.foreachCrossfadeNode(((e,o)=>{if(s(o)&&s(o.lodCrossfadeProgress)){this.stopNodeFading(o);const s=o.lodCrossfadeSignedDuration;s<0&&this.view.markNodeToRemove(e);const d=s>0?this.view.fullOpacity:0;this.view.setNodeOpacityByIndex(e,d)}})),this.view.removeMarkedNodes()}fadeNode(e,s,o,d){null==this._currentFrameStartTime&&(this._currentFrameStartTime=Date.now());const i=this.view,a=i.nodeCrossfadingEnabled,r=0===o?i.fullOpacity:0,n=a?d?0===o?i.lodCrossfadeinDuration:i.lodCrossfadeoutDuration:i.lodCrossfadeUncoveredDuration:0,l=this.view.getNodeOpacityByIndex(e);if(a&&l!==r&&n>0){const e=1-Math.abs(r-l);this._startNodeFading(s,e,t(o)*n)}else this.stopNodeFading(s),this.view.setNodeOpacityByIndex(e,r),1===o&&this.view.removeNode(e)}isNodeFullyFadedIn(e){const o=this.view.getNodeCrossfadeMetaData(e);return s(o)&&null==o.lodCrossfadeProgress&&this.view.getNodeOpacityByIndex(e)===this.view.fullOpacity}}function t(e){return 0===e?1:-1}export{i as I3SCrossfadeHelper,d as NodeCrossfadeMetaData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{w as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{m as l,g as p}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{empty as d,expand as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{Intersector as f}from\"../../webgl-engine/lib/Intersector.js\";const u=d(),v=c(),y=h(),x=h(),E=h(),g=s.getLogger(\"esri.views.3d.layers.i3s.I3SElevationProvider\");let j=class extends(r.EventedMixin(t)){constructor(e){super(e),this.tmpEvent={spatialReference:null,extent:u,context:\"scene\"}}initialize(){this.view=this.layerView.view,this.renderCoordsHelper=this.view.renderCoordsHelper,this.intersector=new f(this.view.state.viewingMode),this.intersector.options.store=0;const e=this.layerView.i3slayer.fullExtent;this.zmin=e.zmin,this.zmax=e.zmax,this.tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}getElevation(e,t,r,s){if(y[0]=e,y[1]=t,y[2]=r,!this.renderCoordsHelper.toRenderCoords(y,s,y))return g.error(\"could not project point to compute elevation\"),null;const i=this.layerView.elevationOffset,o=this.zmin+i,n=this.zmax+i;return this.renderCoordsHelper.setAltitude(x,n,y),this.renderCoordsHelper.setAltitude(E,o,y),this.intersector.reset(x,E),this.intersectionHandler.intersect(this.intersector,null,x,E),this.intersector.results.min.getIntersectionPoint(y)?this.renderCoordsHelper.getAltitude(y):null}layerChanged(){this.spatialReference&&(this.tmpEvent.extent=this.computeLayerExtent(),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}objectChanged(e){this.spatialReference&&(this.tmpEvent.extent=this.computeObjectExtent(e),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}computeObjectExtent(e){return d(u),this._expandExtent(e,u),u}computeLayerExtent(){d(u);for(const e of this.layerView.getVisibleNodes())this._expandExtent(e,u);return u}_expandExtent(e,t){const r=e.visibilityObb||e.serviceObbInRenderSR;if(i(r)){a(v,r.quaternion),v[12]=r.center[0],v[13]=r.center[1],v[14]=r.center[2];for(let e=0;e<8;++e)y[0]=1&e?r.halfSize[0]:-r.halfSize[0],y[1]=2&e?r.halfSize[1]:-r.halfSize[1],y[2]=4&e?r.halfSize[2]:-r.halfSize[2],l(y,y,v),this.renderCoordsHelper.fromRenderCoords(y,y,this.spatialReference),m(t,y)}else{const r=e.renderMbs[3],s=p(x,e.renderMbs);s[0]-=r,s[1]-=r,s[2]-=r;const i=p(E,e.renderMbs);i[0]+=r,i[1]+=r,i[2]+=r;for(let e=0;e<8;++e)y[0]=1&e?s[0]:i[0],y[1]=2&e?s[1]:i[1],y[2]=4&e?s[2]:i[2],this.renderCoordsHelper.fromRenderCoords(y,y,this.spatialReference),m(t,y)}}};e([o({constructOnly:!0})],j.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],j.prototype,\"intersectionHandler\",void 0),e([o()],j.prototype,\"view\",void 0),e([o({readOnly:!0,aliasOf:\"view.elevationProvider.spatialReference\"})],j.prototype,\"spatialReference\",void 0),j=e([n(\"esri.views.3d.layers.i3s.I3SElevationProvider\")],j);var b=j;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{g as t}from\"../../../../chunks/vec3.js\";import{intersectLine as i}from\"../../support/orientedBoundingBox.js\";import{IntersectorResult as r}from\"../../webgl-engine/lib/intersectorUtils.js\";import{getVerticalOffsetI3S as s}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";class n{constructor(e){this.type=\"I3S\",this.layerUid=e.layerUid,this.sublayerUid=e.sublayerUid,this.collection=e.collection,this.forEach=e.forEach,this.slicePlane=e.slicePlaneEnabled,this.isGround=e.isGround}intersect(n,l,a,d){const c=n.results,u=2===n.options.store,b=n.ray.direction,f=n.tolerance;let m=e=>e,h=e=>e;const p=s(n.verticalOffset);e(p)&&(m=e=>p.applyToMbs(e),h=e=>p.applyToObb(e)),this.forEach(((s,y)=>{if(e(s.geometryObb)){if(!i(h(s.geometryObb),a,b,f))return}else if(e(s.serviceObbInRenderSR)){if(!i(h(s.serviceObbInRenderSR),a,b,f))return}else if(!o(m(s.renderMbs),a,b,f))return;this.collection.intersect(y,a,d,f,p,((e,i,o,b)=>{if(i>=0){if(null!=l&&!l(a,d,i))return;const f=r=>{r.intersector=this.type,r.target={type:\"external\",metadata:{layerUid:this.layerUid,sublayerUid:this.sublayerUid,nodeIndex:s.index,componentIndex:e}},r.dist=i,t(r.normal,o),r.triangleNr=b};if(this.isGround&&(null==c.ground.dist||i<c.ground.dist)&&f(c.ground),n.options.isFiltered)return;if((null==c.min.dist||i<c.min.dist)&&f(c.min),(null==c.max.dist||i>c.max.dist)&&f(c.max),u){const e=new r(n.ray);f(e),n.results.all.push(e)}}}))}))}get intersectionHandlerId(){return this.layerUid}}function o(e,t,i,r=0){const s=e[3]+r,n=t[0]-e[0],o=t[1]-e[1],l=t[2]-e[2],a=i[0],d=i[1],c=i[2],u=a*n+d*o+c*l;return u*u-(a*a+d*d+c*c)*(n*n+o*o+l*l-s*s)>=0}export{n as I3SIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{onAbort as s,throwIfAborted as r}from\"../../../../core/promiseUtils.js\";const i=14;class o{constructor(e,t,s=i){this._version=s,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=1073741824,this.quotaReductionFactor=.2,this._dbName=e,this._storeName=t}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,i=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),o=s.objectStoreNames.contains(\"last_access\")?r.objectStore(\"last_access\"):s.createObjectStore(\"last_access\");o.indexNames.contains(\"date\")||o.createIndex(\"date\",\"date\",{unique:!1}),o.indexNames.contains(\"byteSize\")||o.createIndex(\"byteSize\",\"byteSize\",{unique:!1}),t.oldVersion<this._version&&(i.clear(),o.clear())},c(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(t,s){if(null==this._db)return Promise.reject(new e(\"indexedb:not-initialized\",\"IndexedDB Cache is not initialized\"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(t,s))).catch((e=>{if(e&&\"QuotaExceededError\"===e.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(t,s)));throw e})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,i){if(null==this._db)return Promise.resolve(null);let o=null;return Promise.resolve().then((()=>{const t=this._db.transaction(this._storeName,\"readonly\");o=s(i,(()=>{t.abort()}));return c(t.objectStore(this._storeName).get(e))})).then((s=>{if(null==s)++this._miss;else if(this._db){++this._hit;this._db.transaction(\"last_access\",\"readwrite\").objectStore(\"last_access\").put({date:Date.now(),byteSize:s.byteSize},e)}return t(o)&&o.remove(),s})).catch((()=>(++this._miss,r(i),t(o)&&o.remove(),null)))}remove(e){return null==this._db?Promise.resolve():Promise.resolve().then((async()=>{const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\"),i=s.delete(e),o=r.delete(e);await Promise.all([c(i),c(o),n(t)])}))}_put(e,t){const s=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),r=s.objectStore(this._storeName),i=s.objectStore(\"last_access\"),o=r.put(t,e),a=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([c(o),c(a),n(s)])}_removeLeastRecentlyAccessed(e){if(e<=0)return;const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\");let i=0;const o=r.index(\"date\").openCursor(null,\"next\");return o.onsuccess=()=>{const t=o.result;null!=t&&(null!=t.value.byteSize&&(i+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),i<e&&t.continue())},n(t)}_getCacheSize(){const e=this._db.transaction(\"last_access\"),t=e.objectStore(\"last_access\");let s=0;const r=t.index(\"byteSize\").openKeyCursor();return r.onsuccess=()=>{const e=r.result;if(!e)return;const t=e.key;null!=t&&(s+=t),e.continue()},n(e).then((()=>s))}}function n(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function c(e){return new Promise(((t,s)=>{\"done\"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}export{o as IDBCache,c as whenRequest,n as whenTransaction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../Graphic.js\";import s from\"../../../core/Collection.js\";import r from\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{someMap as a}from\"../../../core/MapUtils.js\";import{unwrapOr as n,isSome as l,destroyMaybe as d,isNone as h,applySome as c,unwrap as u}from\"../../../core/maybe.js\";import _ from\"../../../core/PooledArray.js\";import{throwIfAborted as m,createResolver as g}from\"../../../core/promiseUtils.js\";import{schedule as p}from\"../../../core/scheduling.js\";import{isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as b}from\"../../../core/unitUtils.js\";import{init as y}from\"../../../core/watchUtils.js\";import{property as v}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as I}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as M}from\"../../../chunks/mat3.js\";import{c as C}from\"../../../chunks/mat3f32.js\";import{m as x,u as O}from\"../../../chunks/mat4.js\";import{b as j,c as w}from\"../../../chunks/mat4f64.js\";import{m as S,g as E}from\"../../../chunks/vec3.js\";import{c as F}from\"../../../chunks/vec3f64.js\";import{s as D}from\"../../../chunks/vec4.js\";import{projectBuffer as R,getProjectorName as N,localLinearScaleFactors as T,projectVectorToVector as V,projectBoundingSphere as A}from\"../../../geometry/projection.js\";import{create as P,empty as H,expandWithBuffer as U,intersects as G}from\"../../../geometry/support/aaBoundingBox.js\";import L from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{fixFields as B}from\"../../../layers/support/fieldUtils.js\";import{areLabelsVisible as k}from\"../../../layers/support/layerUtils.js\";import q from\"../../../layers/support/SceneModification.js\";import{getColor as z,getOpacity as W}from\"../../../renderers/visualVariables/support/visualVariableUtils.js\";import{loadArcade as $}from\"../../../support/arcadeOnDemand.js\";import K from\"../../../symbols/Symbol3D.js\";import{getMetersPerUnit as J}from\"../../../symbols/support/unitConversionUtils.js\";import Q from\"./I3SMeshViewLabeler.js\";import{I3SMeshWorkerHandle as X,toWasmModification as Y}from\"./I3SMeshWorkerHandle.js\";import{initialize as Z,setModificationsSync as ee,filterObbsForModificationsSync as te,interpretObbModificationResults as ie}from\"./SceneLayerWorker.js\";import{overrideColor as se}from\"./graphics/graphicUtils.js\";import re from\"./i3s/Highlights.js\";import{I3SAttributeOverrides as oe}from\"./i3s/I3SAttributeOverrides.js\";import{I3SCrossfadeHelper as ae,NodeCrossfadeMetaData as ne}from\"./i3s/I3SCrossfadeHelper.js\";import le from\"./i3s/I3SElevationProvider.js\";import{boundingBoxCornerPoints as de}from\"./i3s/I3SGeometryUtil.js\";import{I3SIntersectionHandler as he}from\"./i3s/I3SIntersectionHandler.js\";import{getSupportedEncodings as ce,selectEncoding as ue,createTexture as _e,configureMaterial as me}from\"./i3s/I3SMaterialUtil.js\";import{computeGlobalTransformation as ge,getLocalOrigin as pe}from\"./i3s/I3SProjectionUtil.js\";import{rendererNeedsTextures as fe,checkSceneLayerValid as be,checkSceneLayerCompatibleWithView as ye,getCacheKeySuffix as ve,whenGraphicAttributes as Ie,computeVisibilityObb as Me,filterInPlace as Ce,getCachedAttributeValue as xe,intersectBoundingBoxWithMbs as Oe,addWraparound as je,getSymbolInfo as we,transparentEdgeMaterial as Se,getClipAABB as Ee}from\"./i3s/I3SUtil.js\";import{IDBCache as Fe}from\"./i3s/IDBCache.js\";import{attributeLookup as De}from\"./support/attributeUtils.js\";import Re from\"../support/debugFlags.js\";import{projectToBoundingBox as Ne}from\"../support/extentUtils.js\";import{create as Te,clone as Ve}from\"../support/orientedBoundingBox.js\";import{updatingProgress as Ae}from\"../support/updatingProperties.js\";import{glLayout as Pe}from\"../support/buffer/glUtil.js\";import{createVertexBufferLayout as He}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{loadBasis as Ue}from\"../webgl-engine/lib/BasisUtil.js\";const Ge=o.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),Le=[1,1,1,1];class Be extends ne{constructor(e,t,i,s,r,o,a){super(),this.node=e,this.featureIds=t,this.objectHandle=i,this.cachedRendererVersion=s,this.attributeInfo=r,this.material=o,this.textures=a,this.cachedEdgeMaterials=new Array,this.cachedSymbology=null}}const ke=18,qe=104857600,ze=t=>{var o;let f=o=class extends t{constructor(...e){super(e),this._elevationProvider=null,this._intersectionHandler=null,this._nodeId2Meta=new Map,this._nodeId2MetaReloading=new Map,this._i3sWasmLoaded=!1,this._hasLoadedPBRTextures=!1,this._asyncModuleLoading=0,this._addTasks=new Map,this._rendererVersion=0,this._colorVariable=null,this._opacityVariable=null,this._rendererFields=null,this._symbologyFields=null,this._symbologyOverride=null,this._symbologyOverrideFields=null,this._symbolInfos=new Map,this._idbCache=new Fe(\"esri-scenelayer-cache\",\"geometries\"),this.holeFilling=\"auto\",this._hasColors=!1,this._hasTextures=!1,this._hasData=!1,this.slicePlaneEnabled=!1,this._modifications=new Array,this._layerUrl=\"\",this._cacheKeySuffix=null,this._arcade=null,this._tmpAttributeOnlyGraphic=new i(null,null,{}),this._crossfadeHelper=new ae(this),this.index=o.lastIndex++}get lodCrossfadeoutDuration(){return 0}get lodCrossfadeinDuration(){return 0}get lodCrossfadeUncoveredDuration(){return 0}get layerUid(){return this.i3slayer&&this.i3slayer.uid}get sublayerUid(){return null}get hasTexturesOrVertexColors(){return this._hasData?this._hasTextures||this._hasColors?\"yes\":\"probably-not\":\"unknown\"}get rendererTextureUsage(){return fe(this._currentRenderer)?this._usePBR()||this._hasLoadedPBRTextures?63:37:this._usePBR()||this._hasLoadedPBRTextures?44:36}get elevationOffset(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null!=e&&\"absolute-height\"===e.mode){const t=b(this.i3slayer.spatialReference),i=J(e.unit);return n(e.offset,0)*i/t}return 0}get supportedTextureEncodings(){return ce(this.view._stage.renderView)}get uncompressedTextureDownsamplingEnabled(){var e;const t=null==(e=this.view)?void 0:e.qualitySettings.sceneService.uncompressedTextureDownsamplingEnabled,i=0==(4&this.supportedTextureEncodings);return t&&i}initialize(){this.preLoadBasis(),this.addResolvingPromise(this.i3slayer.indexInfo);const e=this.view.resourceController;if(this.attributeOverrides=new oe(this.i3slayer,e.memoryController),this._worker=new X((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._worker.setLegacySchema(this.layerUid,this.i3slayer.store.defaultGeometrySchema),be(this.i3slayer),ye(this.i3slayer,this.view),this._layerUrl=this.i3slayer.parsedUrl.path,this._controller=new L({layerView:this}),this.gpuMemoryEstimate=0,this.texMemoryEstimate=0,this.geoMemoryEstimate=0,this._stage=this.view._stage,this._collection=this._stage.renderView.componentObjectCollection,this._highlights=new re({collection:this._collection,forAllFeatures:e=>this._forAllFeatures(e,null,1),forAllFeaturesOfNode:(e,t)=>this._forAllFeaturesOfNode(e,t)}),this._isIntegratedMesh||!this.i3slayer.store.defaultGeometrySchema)this._hasSymbolColors=!1;else{const e=this.i3slayer.store.defaultGeometrySchema.featureAttributes;this._hasSymbolColors=!!(e&&e.faceRange&&e.id)}this._hasVertexColors=null!=this.i3slayer.store.defaultGeometrySchema.vertexAttributes.color&&(null==this.i3slayer.cachedDrawingInfo||!this.i3slayer.cachedDrawingInfo.color),this._isIntegratedMesh||(this._edgeView=this._stage.renderView.ensureEdgeView()),this._memCache=this.view.resourceController.memoryController.getMemCache(this.i3slayer.uid,(e=>this._deleteComponentObject(e))),this._intersectionHandler=new he({layerUid:this.layerUid,sublayerUid:this.sublayerUid,collection:this._collection,slicePlaneEnabled:this.slicePlaneEnabled,isGround:this._isIntegratedMesh,forEach:e=>{this._nodeId2Meta.forEach((t=>l(t)&&e(t.node,t.objectHandle))),this._nodeId2MetaReloading.forEach((t=>l(t)&&e(t.node,t.objectHandle)))}}),this._elevationProvider=new le({layerView:this,intersectionHandler:this._intersectionHandler}),this._hasLoadedPBRTextures=this._usePBR(),this.updatingHandles.add(this,\"view.clippingArea\",(()=>this._clippingAreaChanged()),2),this.updatingHandles.add(this,\"fullOpacity\",(e=>this._opacityChange(e))),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._slicePlaneEnabledChange(e))),this.updatingHandles.add(this,\"elevationOffset\",((e,t)=>{this._reloadAll(t),this._controller.invalidateVisibilityObbs()})),this.updatingHandles.add(this,\"filter\",(()=>this._filterChange()),2),this.updatingHandles.add(this,\"view.qualitySettings.physicallyBasedRenderingEnabled\",(()=>this._updatePBR()));const t=()=>{this._reloadAll(),this.clearMemCache()};this.updatingHandles.add(this,\"rendererTextureUsage\",t),this.updatingHandles.add(this,\"uncompressedTextureDownsamplingEnabled\",t),this.updatingHandles.add(this,\"suspended\",(e=>this._suspendedChange(e)),2),this.updatingHandles.add(this.i3slayer,\"labelsVisible\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this.i3slayer,\"labelingInfo\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this,\"_modifications\",(()=>this._modificationsChanged()),2),this.handles.add([y(Re,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Re.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||Re.I3S_TREE_SHOW_TILES||(this._treeDebugger=d(this._treeDebugger))})),y(Re,\"I3S_SHOW_MODIFICATIONS\",(()=>this._showModifications()))]),this._cacheKeySuffix=ve(this.i3slayer.spatialReference,this.view.renderSpatialReference),this._idbCache.init().catch((e=>Ge.warn(`Failed to initialize IndexedDB cache: ${e}`)))}destroy(){this._clearAddTasks(),this.attributeOverrides=d(this.attributeOverrides),this._elevationProvider&&(this._elevationProvider.layerChanged(),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this._intersectionHandler&&(this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null);const e=this._worker;e&&(e.destroyContext(this.i3slayer.uid).then((()=>e.destroy())),this._worker=null),this._removeAllNodeDataFromStage(),this._memCache=d(this._memCache),this._collection=null,this._stage=null,this._edgeView=null,this._labeler=d(this._labeler),this._treeDebugger=d(this._treeDebugger),this._controller=d(this._controller),this._highlights.destroy(),this._nodeId2Meta.clear(),this._nodeId2MetaReloading.clear(),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}memEstimateTextureAdded(e){const t=e.estimatedTexMemRequired;return this.gpuMemoryEstimate+=t,this.texMemoryEstimate+=t,t}memEstimateTextureRemoved(e){const t=e.estimatedTexMemRequired;this.gpuMemoryEstimate-=t,this.texMemoryEstimate-=t}memEstimateGeometryAdded(e){const t=this._collection.getObjectGPUMemoryUsage(e);return this.gpuMemoryEstimate+=t,this.geoMemoryEstimate+=t,t}memEstimateGeometryRemoved(e){const t=this._collection.getObjectGPUMemoryUsage(e);this.gpuMemoryEstimate-=t,this.geoMemoryEstimate-=t}isNodeLoaded(e){return this._nodeId2Meta.has(e)}isNodeReloading(e){return this._nodeId2MetaReloading.has(e)}getUsedMemory(){let e=l(this._labeler)?this._labeler.usedMemory:0;return this._nodeId2Meta.forEach((t=>e+=l(t)?t.node.memory:0)),this._nodeId2MetaReloading.forEach((t=>e+=l(t)?t.node.memory:0)),e}getUnloadedMemory(){return(l(this._controller)?this._controller.unloadedMemoryEstimate:0)+(l(this._labeler)?this._labeler.unloadedMemoryEstimate:0)}ignoresMemoryFactor(){return!1}_labelingChanged(){if(!(k(this.i3slayer)&&this._supportsLabeling))return void(l(this._labeler)&&(this._labeler.destroy(),this._labeler=null));if(l(this._labeler))return;const e=new Q({view:this.view,layer:this.i3slayer,collection:this._collection});this._nodeId2Meta.forEach((t=>l(t)&&this._addMetaToLabeler(e,t))),this._labeler=e}_loadAsyncModule(e){return++this._asyncModuleLoading,e.then((e=>(--this._asyncModuleLoading,e)),(e=>{throw--this._asyncModuleLoading,e}))}_modificationsChanged(){if(!this._i3sWasmLoaded&&this._hasModifications)return this._i3sWasmLoaded=Z().then((()=>{this._i3sWasmLoaded=!0,this._modificationsChanged(),this.notifyUpdate()})),void this.notifyUpdate();if(!0!==this._i3sWasmLoaded)return;const e=this.i3slayer.uid,t=this.i3slayer.spatialReference;this._worker.setModifications(e,this._modifications,t);const i=Y(this._modifications,t);ee({context:e,modifications:i,isGeodetic:t.isGeographic}),this._controller.modificationsChanged();const s=this._hasModifications?new _:null;this._nodeId2Meta.forEach(((e,t)=>{h(e)?this._nodeId2Meta.delete(t):e.node.hasModifications?(this._nodeId2Meta.delete(t),this._nodeId2MetaReloading.set(t,e)):l(s)&&s.push(e.node)})),l(s)&&this._nodeId2MetaReloading.forEach((e=>s.push(e.node))),l(s)&&s.length>0&&(this.updateNodeModificationStatus(s),s.forAll((e=>{if(2!==e.imModificationImpact){const t=this._nodeId2Meta.get(e.index);this._controller.invalidateGeometryVisibility(e.index),this._nodeId2Meta.delete(e.index),l(t)&&this._nodeId2MetaReloading.set(e.index,t)}}))),this.clearMemCache(),this._controller.restartNodeLoading(),this._showModifications()}_showModifications(){if(l(this._modificationGraphics)&&(this.view.graphics.removeMany(this._modificationGraphics),this._modificationGraphics=null),!Re.I3S_SHOW_MODIFICATIONS||0===this._modifications.length)return;const e={clip:[227,227,79,.8],mask:[227,139,79,.8],replace:[139,227,79,.8]},t={type:\"simple-fill\",outline:{color:[255,255,255],width:1}};this._modificationGraphics=new Array;for(const s of this._modifications){s.geometry.spatialReference=this.i3slayer.spatialReference;const r={...t,color:e[s.type]};this._modificationGraphics.push(new i({geometry:s.geometry,symbol:r}))}this.view.graphics.addMany(this._modificationGraphics)}_addMetaToLabeler(e,t){e.addNodeMeta(t,((e,t)=>this._createAttributes(e,t)))}_suspendedChange(e){e?(this._removeAllNodeDataFromStage(),this.view.elevationProvider&&this.view.elevationProvider.unregister(this._elevationProvider),this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler)):(this.view.elevationProvider.register(this._elevationContext,this._elevationProvider),this._stage.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler))}getLoadedAttributes(e){const t=this._nodeId2Meta.get(e);if(l(t)&&l(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodeId2Meta.get(e);if(l(t)&&l(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const i=this._nodeId2Meta.get(e);l(i)&&l(i.attributeInfo)&&(i.attributeInfo.attributeData=t,this._attributeValuesChanged(i))}async updateAttributes(e,t,i){const s=this._nodeId2Meta.get(e);l(s)&&(await this.attributeOverrides.apply(s.featureIds,t,i),s.attributeInfo=t,this._attributeValuesChanged(s))}_attributeValuesChanged(e){e.cachedRendererVersion=this._getInvalidRendererVersion(),e.filteredIds=null,l(this._labeler)&&this._labeler.setNodeMetaAttributes(e,((e,t)=>this._createAttributes(e,t))),this._updateEngineObject(e)}clearMemCache(){l(this._memCache)&&this._memCache.clear()}getVisibleNodes(){const e=new Array;return this._nodeId2Meta.forEach((t=>l(t)&&e.push(t.node))),e}getLoadedNodeIndices(e){this._nodeId2Meta.forEach(((t,i)=>e.push(i))),this._nodeId2MetaReloading.forEach(((t,i)=>e.push(i)))}preLoadBasis(){!r(\"disable-feature:i3s-basis\")&&0!=(2&this.supportedTextureEncodings)&&c(this.i3slayer.textureSetDefinitions,(e=>e.some((e=>e.formats.some((e=>\"basis\"===e.format||\"ktx2\"===e.format))))))&&Ue()}_getVertexBufferLayout(e,t){const i={hasTexture:Ye(e.params.material),hasNormals:t.normal,hasRegions:t.uvRegion};return Pe(He(this._getGeometryParameters(i)))}_getObjectIdField(){return this.i3slayer.objectIdField||\"OBJECTID\"}_findGraphicNodeAndIndex(e){const t=De(this.i3slayer.fieldsIndex,e.attributes,this._getObjectIdField());let i=null;return a(this._nodeId2Meta,(e=>{if(h(e))return!1;const s=e.featureIds.indexOf(t);return-1!==s&&(i={node:e.node,index:s},!0)})),i}_getGraphicIndices(e,t){const i=this._nodeId2Meta.get(e.index);if(h(i))return[];const s=[],r=this._getObjectIdField(),o=this.i3slayer.fieldsIndex;for(const a of t){const e=De(o,a.attributes,r),t=i.featureIds.indexOf(e);-1!==t&&s.push(t)}return s}whenGraphicBounds(e){const t=this._findGraphicNodeAndIndex(e);if(!t)return Promise.reject();const i=this._nodeId2Meta.get(t.node.index);if(h(i))return Promise.reject();const s=i.objectHandle,r=de(t.index,this._collection,s,new Float64Array(24)),o=this.view.renderSpatialReference,a=this.view.spatialReference;if(R(r,o,0,r,a,0,8)){const e=H();return U(e,r,0,8),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}}whenGraphicAttributes(e,t){return Ie(this.i3slayer,e,this._getObjectIdField(),t,(()=>[...this._nodeId2Meta.values()].filter(l)))}getGraphicFromIntersectorMetadata(e){if(null==e.nodeIndex||null==e.componentIndex)return null;const t=this._nodeId2Meta.get(e.nodeIndex);return h(t)||null==t.featureIds||e.componentIndex>=t.featureIds.length?null:this._createGraphic(e.componentIndex,t)}_getCacheKey(e){return`${this._layerUrl}/v${ke}/${e.id}${this._cacheKeySuffix}`}_getMemCacheKey(e,t=this.elevationOffset){return e+\"#\"+t}get _idbCacheEnabled(){return!this._controller.disableIDBCache&&0===this._modifications.length&&0===this.elevationOffset&&null!=this._cacheKeySuffix}loadCachedGPUData(e){return l(this._memCache)?this._memCache.pop(this._getMemCacheKey(e.index)):null}deleteCachedGPUData(e){l(e)&&this._deleteComponentObject(e)}_cacheGPUData(e,t=this.elevationOffset){if(h(this._memCache))return void this._deleteComponentObject(e);const i=this._controller.indexDepth-e.node.level;this._memCache.put(this._getMemCacheKey(e.node.index,t),e,e.node.memory,i)}loadMissingTextures(e,t,i,s){const r=e.filter(((e,i)=>{if(0==(e.usage&this.rendererTextureUsage))return!1;if(h(t))return!0;const s=ue(e.encodings,this.supportedTextureEncodings),r=t[i];return!!(h(r)||null==r.data||s&&r.encoding!==s.encoding)}));return 0===r.length?Promise.resolve(!1):i(r,s).then((i=>{let s=0;for(let r=0;r<e.length;r++)s<i.length&&i[s].id===e[r].id&&(t[r]=i[s],s++);return!0}))}loadCachedNodeData(e,t,i){return this._idbCacheEnabled?this._idbCache.get(this._getCacheKey(e),t).then((s=>null==s?null:s.nodeVersion!==e.version?(this._idbCache.remove(this._getCacheKey(e)),null):(e.geometryObb=s.geometryObb,this.loadMissingTextures(s.requiredTextures,s.textureData,i,t).then((i=>(i&&this._idbCache.initialized&&l(s.textureData)&&(s.byteSize=tt(s.transformedGeometry,s.textureData),s.textureData.every(et)&&it(e,s)&&this._idbCache.put(this._getCacheKey(e),s).catch((t=>Ge.warn(`Failed to update node with textures in IndexedDB cache: ${e.id}: ${t}`)))),m(t),s)))))):Promise.resolve(null)}addNode(e,t,i){return Ze(t)?this._addData(e,t.attributeDataInfo,(()=>this._transformNode(e,t,i).then((s=>this._safeReschedule((()=>{if(h(s))return e.hasModifications=!1,this._addCachedNodeData(e,null,i);e.hasModifications=s.transformedGeometry.hasModifications;const{obb:r,componentOffsets:o,featureIds:a,transformedGeometry:n}=s,d=this._controller.crsIndex,c=this.view.renderSpatialReference,u=ge(e.mbs,this.elevationOffset,d,c);e.geometryObb=Te([r.center.x,r.center.y,r.center.z],[r.extents.x,r.extents.y,r.extents.z],[r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w]),S(e.geometryObb.center,e.geometryObb.center,u),t.geometryData.componentOffsets=o,a&&(t.geometryData.featureIds=Array.prototype.slice.call(a));const _={nodeVersion:e.version,geometryData:t.geometryData,requiredTextures:t.requiredTextures,textureData:t.textureData,transformedGeometry:n,globalTrafo:u,geometryObb:e.geometryObb,byteSize:tt(n,t.textureData)};if(this._idbCacheEnabled&&this._idbCache.initialized&&it(e,_)){const t=l(_.textureData)?_.textureData.map((e=>et(e)?e:null)):null;this._idbCache.put(this._getCacheKey(e),{..._,textureData:t}).catch((t=>Ge.warn(`Failed to store node in IndexedDB cache: ${e.id}: ${t}`)))}return this._addCachedNodeData(e,_,i)}),i))))):Promise.reject()}computeVisibilityObb(e){return Me(e,this.view.renderSpatialReference,this._controller.crsIndex,this.i3slayer.spatialReference,this.elevationOffset,this._modifications)}_transformNode(e,t,i){const s=t.geometryData.geometries,r=new Array(s.length);for(let h=0;h<s.length;++h)r[h]=this._getVertexBufferLayout(s[h],t.geometryDescriptor);const o=e.mbs,a=this.elevationOffset,n=this._controller.crsIndex,l=this._controller.crsVertex,d=this.view.renderSpatialReference,c=pe(o,a,n),u=ge(o,a,n,d),_=N(n,l),m=N(l,d);if(h(_)||h(m))return Promise.resolve(null);const g={context:this.i3slayer.uid,geometryBuffer:t.geometryBuffer,geometryData:t.geometryData,geometryDescriptor:t.geometryDescriptor,layouts:r,localOrigin:c,globalTrafo:u,mbs:o,obb:e.serviceObb,elevationOffset:a,needNormals:!this._isIntegratedMesh&&this._controller.isMeshPyramid,normalReferenceFrame:this.i3slayer.normalReferenceFrame||\"none\",indexToVertexProjector:_,vertexToRenderProjector:m};return this._worker.invoke(g,i)}get supportsNodeCrossFading(){var e,t;return!(null!=(e=this.view)&&null!=(t=e._stage)&&t.renderView.has(3))}get nodeCrossfadingEnabled(){return this.supportsNodeCrossFading&&(this.lodCrossfadeinDuration>0||this.lodCrossfadeoutDuration>0||this.lodCrossfadeUncoveredDuration>0)}get nodeFadeoutEnabled(){return this.supportsNodeCrossFading&&this.lodCrossfadeoutDuration>0}_setNewNodeOpacity(e){const t=this.nodeCrossfadingEnabled?0:this.fullOpacity;this._setNodeOpacity(e,t)}addCachedGPUData(e,t,i){if(e.geometryObb=Ve(this._collection.getComponentObb(t.objectHandle)),!this._controller.isGeometryVisible(e))return void this._cacheGPUData(t);l(this._labeler)&&this._addMetaToLabeler(this._labeler,t);const s=e.index;this._addNodeMeta(s,t),this.updateNodeState(s,i),this._collection.setObjectVisibility(t.objectHandle,!0),this._updateMaterial(t),this._setNewNodeOpacity(t),this._updateEngineObject(t),this._highlights.objectCreated(t),l(this._treeDebugger)&&this._treeDebugger.update()}addCachedNodeData(e,t,i,s){return this._addData(e,i,(()=>this._addCachedNodeData(e,t,s)))}async _addCachedNodeData(e,t,i){if(this.suspended||!this._controller.isGeometryVisible(e))return void this._removeNodeStageData(e.index,this.elevationOffset,this._nodeId2MetaReloading);if(h(t))return void this._addNodeMeta(e.index,null);const s=this._addTasks.get(e.index),{geometryData:o,transformedGeometry:a,globalTrafo:n}=t;await this.attributeOverrides.apply(o.featureIds,s.attributeInfo,i);const d=l(t.textureData)?t.textureData.filter((e=>l(e)&&0!=(e.usage&this.rendererTextureUsage))):[];!r(\"disable-feature:i3s-basis\")&&d.some((e=>l(e)&&(2===e.encoding||1===e.encoding)))&&await Ue(),e.memory=0;const{componentOffsets:c,geometries:_,featureIds:m}=o,g=this._collection,p=_[0],{layout:f,indices:b,interleavedVertexData:y,positionData:v,hasColors:I}=a,S=this._materialParameters(p,f),E=c||new Uint32Array([0,b?b.length:y.byteLength/f[0].stride]),D={vertices:{data:y,count:y.byteLength/f[0].stride,layoutParameters:S.geometryParams},positionData:{positions:v.data,indices:v.indices},indices:b,componentOffsets:E},R=p.transformation?j(p.transformation):w();x(R,n,R);const N=O(F(),R),A=M(C(),R),P=this.view.renderSpatialReference,H=this.view.basemapTerrain.spatialReference,U=F(),G=[1,1,1];T(N,P,G,H),V(N,P,U,H);const L=g.createObject({toMapSpace:[U[0],U[1],G[0],G[1]],geometry:D,obb:u(e.geometryObb),transform:{position:N,rotationScale:A},visible:!1}),B=2===S.geometryParams.textureCoordinates,k=this._initMaterialAndTextures(L,S.material,d,B);e.memory+=this.memEstimateGeometryAdded(L),e.memory+=k.reduce(((e,t)=>e+(l(t)?this.memEstimateTextureAdded(t):0)),0);const q=!!S.material.hasParametersFromSource,z=\"blend\"!==S.material.alphaMode&&S.material.metallicRoughness.baseColorFactor[3]>=1,W=new Be(e,m,L,this._getInvalidRendererVersion(),s.attributeInfo,{hasParametersFromSource:q,isOpaque:z},k);s.meta=W,!this._hasTextures&&t.requiredTextures.some((({usage:e})=>0!=(19&e)))&&(this._hasTextures=!0),this._hasData=!0,this._hasColors=this._hasColors||I,this._hasTextures=this._hasTextures||!!e.resources.texture,this.notifyChange(\"hasTexturesOrVertexColors\");const $=this.slicePlaneEnabled;return this._addOrUpdateEdgeRendering(W).then((t=>(l(t)&&t.updateObjectVisibility(W.objectHandle,!1),this._safeReschedule((()=>{const i=this._addTasks.get(e.index);if(!i)return;if(l(this._labeler)&&this._addMetaToLabeler(this._labeler,W),this._addNodeMeta(e.index,W),i.meta=null,this.suspended)return void this._removeNodeStageData(e.index,this.elevationOffset);g.setObjectVisibility(L,!0),l(t)&&t.updateObjectVisibility(W.objectHandle,!0),W.attributeInfo=i.attributeInfo;const s=W.cachedRendererVersion!==this._rendererVersion,r=$!==this.slicePlaneEnabled;this._setObjectSymbolColors(W);const o=this._applyFiltersToNode(W);(s||l(t)&&(r||o))&&this._addOrUpdateEdgeRendering(W),this._visibleGeometryChanged(W),this._highlights.objectCreated(W),this._updateMaterial(W),this._setNewNodeOpacity(W),l(this._treeDebugger)&&this._treeDebugger.update()}),i)))).catch((e=>{throw l(s.meta)&&(this._deleteComponentObject(s.meta),s.meta=null),e}))}_addNodeMeta(e,t){if(this._removeNodeStageData(e,this.elevationOffset,this._nodeId2MetaReloading),this._nodeId2Meta.has(e)){Ge.error(\"Removing duplicated node\");const t=this._nodeId2Meta.get(e);l(t)&&this._deleteComponentObject(t)}l(t)&&(t.lodCrossfadeProgress=null,this.nodeCrossfadingEnabled&&ot(t.cachedEdgeMaterials,0)),this._nodeId2Meta.set(e,t)}_safeReschedule(e,t){return m(t),this._controller.reschedule(e,t)}_materialParameters(e,t){const i=e.params.material,s=t.some((e=>\"uvRegion\"===e.name)),r=t.some((e=>\"normalCompressed\"===e.name)),o=Ye(i);return{geometryParams:this._getGeometryParameters({hasTexture:o,hasNormals:r,hasRegions:s}),material:i}}_initMaterialAndTextures(e,t,i,s){const r=this._stage.renderView,o=i.map((e=>_e(e,t,s,r)));for(const a of o)l(a)&&this._stage.add(a);return this._collection.updateMaterial(e,(e=>{me(e,t,o,i,this.view._stage.renderView.textureRepository,{rendererTextureUsage:this.rendererTextureUsage,usePBR:this._usePBR(),isIntegratedMesh:this._isIntegratedMesh,slicePlaneEnabled:this.slicePlaneEnabled,viewSpatialReference:this.view.spatialReference}),this._updateMaterialOverlay(e)})),o}_getGeometryParameters(e){return{textureCoordinates:e.hasTexture?e.hasRegions?2:1:0,colors:this._hasVertexColors,normals:e.hasNormals&&!this._isIntegratedMesh}}_addData(e,t,i){let s=this._addTasks.get(e.index);return s?s.attributeInfo=t:(s={...g(),attributeInfo:t,meta:null},this._addTasks.set(e.index,s),i().then(s.resolve,s.reject).then((()=>this._addTasks.delete(e.index))).catch((t=>{throw this._addTasks.delete(e.index),t}))),s.promise}_clearAddTasks(){this._addTasks.forEach((e=>{l(e.meta)&&(this._deleteComponentObject(e.meta),e.meta=null)})),this._addTasks.clear()}_clippingAreaChanged(){const e=P();Ne(this.view.clippingArea,e,this.view.renderSpatialReference)?this._clippingArea=e:this._clippingArea=null,this._filterChange(),this._controller&&this._controller.updateClippingArea(this.view.clippingArea)}_geometryFilterChange(){this._controller.geometryFilterChanged(this.hasGeometryFilter)}get hasGeometryFilter(){return!1}_filterChange(){this._applyFilters(!1)}_applyFilters(e){this._filters=this.getFilters(),e?this._controller&&this._controller.requestUpdate():this._nodeId2Meta.forEach((e=>{l(e)&&this._applyFiltersToNode(e)&&(this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e))}))}getFilters(){const e=[];return this._clippingArea&&e.push(((e,t)=>this._boundingboxFilter(e,t,this._clippingArea))),e}addSqlFilter(e,t,i){if(l(t)){const s=t.fieldNames;e.push(((e,r)=>this._sqlFilter(e,r,t,s,i)))}}_sqlFilter(e,t,i,s,r){const o={},a=this._createLayerGraphic(o),n=this.i3slayer.objectIdField,d=t.featureIds,h=l(t.attributeInfo)&&t.attributeInfo.attributeData;s.every((e=>null!=h[e]||e===n))&&Ce(e,d,(e=>{o[n]=d[e];for(const i of s)i!==n&&(o[i]=xe(h[i],e));try{return i.testFeature(a)}catch(t){return r(t),!1}}))}_boundingboxNodeTest(e,t){return A(e.node.mbs,this._controller.crsIndex,Xe,this.view.renderSpatialReference),Oe(t,Xe)}_boundingboxFeatureTest(e,t,i){return G(i,this._collection.getComponentAabb(e.objectHandle,t,We))}_boundingboxFilter(e,t,i){const s=this._collection,r=this._boundingboxNodeTest(t,i);if(3===r)return;if(0===r)return void(e.length=0);const o=s.getComponentCount(t.objectHandle);if(o.invisible+o.visible!==t.featureIds.length)return;const a=this._transformAABB($e,i,t.objectHandle);Ce(e,t.featureIds,(e=>this._boundingboxFeatureTest(t,e,a)))}_transformAABB(e,t,i){const s=this._collection.getObjectTransform(i),r=s.position,o=s.rotationScale;return e[0]=(t[0]-r[0])/o[0],e[1]=(t[1]-r[1])/o[4],e[2]=(t[2]-r[2])/o[8],e[3]=(t[3]-r[0])/o[0],e[4]=(t[4]-r[1])/o[4],e[5]=(t[5]-r[2])/o[8],e}_addOrUpdateEdgeRendering(e,t=!0){if(h(this._edgeView))return Promise.resolve(null);const i=e.objectHandle,s=this._edgeView.hasObject(i),{hasEdges:r,perFeatureEdgeMaterials:o}=this._getFilteredEdgeMaterials(e),a={slicePlaneEnabled:this.slicePlaneEnabled};if(r){if(s){if(this.nodeCrossfadingEnabled){ot(o,this.getNodeOpacity(e))}return this._edgeView.updateAllComponentMaterials(i,o,a,t),this._edgeView.updateObjectVisibility(i,!0),Promise.resolve(this._edgeView)}return this._collection.addEdges(i,this._edgeView,o,a).then((()=>this._edgeView))}return s&&this._edgeView.removeObject(i),Promise.resolve(null)}_removeEdgeRendering(e){l(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._edgeView.removeObject(e.objectHandle)}_applyFiltersToNode(e){return!!this._applyFiltersToNodeComponents(e)&&(l(this._labeler)&&this._labeler.applyFilterChange(e),!0)}_applyFiltersToNodeComponents(e){const t=this._collection,i=0===t.getComponentCount(e.objectHandle).invisible;if(t.setAllComponentVisibilities(e.objectHandle,\"all\"),0===this._filters.length)return e.filteredIds=null,!i;if(this._updateCachedFilteredIds(e),e.filteredIds===e.featureIds)return!i;const s=this._computeFilteredComponentIndices(e);return t.setAllComponentVisibilities(e.objectHandle,s),!0}_updateCachedFilteredIds(e){null!=e.filteredIds&&e.appliedFilters===this._filters||(e.filteredIds=this._computeFilteredIds(e),e.appliedFilters=this._filters)}_computeFilteredIds(e){const t=e.featureIds.slice();for(const i of this._filters)if(i(t,e),0===t.length)break;return t.length===e.featureIds.length?e.featureIds:t}_computeFilteredComponentIndices(e){const t=new Array;return e.featureIds.forEach(((i,s)=>{e.filteredIds[t.length]===i&&t.push(s)})),t}_removeAllNodeDataFromStage(e=this.elevationOffset){this._nodeId2Meta.forEach(((t,i)=>this._removeNodeStageData(i,e))),this._nodeId2MetaReloading.forEach(((t,i)=>this._removeNodeStageData(i,e,this._nodeId2MetaReloading)))}removeNode(e){const t=this.elevationOffset;this._removeNodeStageData(e,t),this._removeNodeStageData(e,t,this._nodeId2MetaReloading)}_removeNodeStageData(e,t,i=this._nodeId2Meta){const s=i.get(e);h(s)?i.delete(e):(this._collection.setObjectVisibility(s.objectHandle,!1),this._visibleGeometryChanged(s),this._removeEdgeRendering(s),l(this._labeler)&&this._labeler.removeNodeMeta(s),i.delete(e),this._highlights.objectDeleted(s),i===this._nodeId2Meta?(this._cacheGPUData(s,t),this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopNodeFading(s)):this._deleteComponentObject(s),l(this._treeDebugger)&&this._treeDebugger.update())}_deleteComponentObject(e){if(l(this._edgeView)&&this._edgeView.removeObject(e.objectHandle),this.memEstimateGeometryRemoved(e.objectHandle),this._collection.destroyObject(e.objectHandle),e.textures)for(const t of e.textures)this.memEstimateTextureRemoved(t),this._stage.remove(t)}updateNodeState(e,t){const i=this._nodeId2Meta.get(e);l(i)&&this._collection.updateMaterial(i.objectHandle,(e=>e.polygonOffsetEnabled=0===t))}_invalidateAllSymbols(){this._rendererVersion=je(this._rendererVersion,1),this._controller&&this._controller.requestUpdate()}_getInvalidRendererVersion(){return je(this._rendererVersion,-1)}async _rendererChange(e){if(this._currentRenderer=e,this.notifyChange(\"rendererTextureUsage\"),this._rendererVersion=je(this._rendererVersion,1),this._rendererFields=null,this._colorVariable=null,this._opacityVariable=null,this._invalidateAllSymbols(),e&&(this._rendererFields=await e.getRequiredFields(this.i3slayer.fieldsIndex)),this._updateSymbologyFields(),!this._arcade&&e&&\"arcadeRequired\"in e&&e.arcadeRequired&&(this._arcade=await $()),e&&\"visualVariables\"in e&&e.visualVariables)for(const t of e.visualVariables)\"color\"===t.type?this._colorVariable=t:\"opacity\"===t.type?this._opacityVariable=t:Ge.warn(`Unsupported visual variable type for 3D Object Scene Services: ${t.type}`);if(e)for(const t of e.getSymbols())\"mesh-3d\"!==t.type&&Ge.error(`Symbols of type '${t.type}' are not supported for 3D Object Scene Services.`);this._controller&&this._controller.requestUpdate()}_getCachedEdgeMaterials(e){return this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e),e.cachedEdgeMaterials}_getSymbolColors(e){this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e);const t=e.cachedSymbology;return(e,i)=>{const s=5*e;D(i.externalColor,t[s+0]/255,t[s+1]/255,t[s+2]/255,t[s+3]/255),i.externalColorMixMode=15&t[s+4],i.castShadows=0!=(16&t[s+4]),i.pickable=0!=(32&t[s+4])}}_getSymbolInfo(e,t){const i=e&&e.getSymbol(t,{arcade:this._arcade});if(!(i instanceof K))return null;const s=i.id;if(this._symbolInfos.has(s))return this._symbolInfos.get(s);const r=we(i);return this._symbolInfos.set(s,r),r}_setSymbologyOverride(e,t){this._symbologyOverride!==e&&(this._symbologyOverride=e,this._symbologyOverrideFields=t,this._invalidateAllSymbols(),this._updateSymbologyFields())}_updateSymbologyFields(){this._symbologyFields=l(this._symbologyOverrideFields)&&this._symbologyOverrideFields.length>0?l(this._rendererFields)&&this._rendererFields.length>0?B(this.i3slayer.fieldsIndex,[...this._rendererFields,...this._symbologyOverrideFields]):this._symbologyOverrideFields:this._rendererFields}_updateCachedRendererData(e){if(e.cachedRendererVersion=this._rendererVersion,!this._hasSymbolColors)return;const t=this._tmpAttributeOnlyGraphic,i={};t.attributes=i;const s=this._currentRenderer,r=l(e.attributeInfo)&&e.attributeInfo.attributeData,o=null!=e.featureIds?this.i3slayer.objectIdField:null,a=null!=r&&l(this._symbologyFields)&&this._symbologyFields.length>0,n=a?[]:null,d=a?[]:null;if(a&&l(this._symbologyFields))for(const l of this._symbologyFields){const e=r[l];e&&(n.push(l),d.push(e))}e.cachedSymbology||(e.cachedSymbology=new Uint8Array(5*e.featureIds.length));const c={color:Je,castShadows:!0,pickable:!0,colorMixMode:1,edgeMaterial:null},u=this.fullOpacity,_=this.nodeCrossfadingEnabled?this.getNodeOpacity(e):u;let m=null,g=2,p=Se,f=0;for(let b=0;b<e.featureIds.length;b++){if(null!=o&&(i[o]=e.featureIds[b]),a)for(let e=0;e<n.length;e++)i[n[e]]=xe(d[e],b);const r=this._getSymbolInfo(s,t);let u=null,y=null;if(s&&\"visualVariables\"in s){if(this._colorVariable){const e=z(this._colorVariable,t,{color:Qe,arcade:this._arcade});e&&(u=Je,u[0]=e.r/255,u[1]=e.g/255,u[2]=e.b/255,this._opacityVariable||null===e.a||(y=e.a))}this._opacityVariable&&(y=W(this._opacityVariable,t,{arcade:this._arcade}))}if(r&&r.material){const e=r.material;u=h(u)||h(y)?se(u,y,e.color,e.alpha,Le,Je):se(u,y,null,null,Le,Je)}if(h(u)&&(u=Je,u[0]=1,u[1]=1,u[2]=1,u[3]=1),c.pickable=!0,c.castShadows=!r||r.castShadows,c.colorMixMode=r&&r.material?r.material.colorMixMode:1,c.edgeMaterial=r?r.edgeMaterial:null,l(this._symbologyOverride)&&(c.color=u,this._symbologyOverride(t,c),u=c.color),l(c.edgeMaterial)){const t=u[3]<=0?0:u[3]>=1&&(e.material.isOpaque||3===c.colorMixMode)?2:1;c.edgeMaterial===m&&t===g||(p={...c.edgeMaterial,opacity:_,objectTransparency:t},m=c.edgeMaterial,g=t),e.cachedEdgeMaterials[b]=p}else e.cachedEdgeMaterials[b]=Se;e.cachedSymbology[f+0]=Math.round(255*u[0]),e.cachedSymbology[f+1]=Math.round(255*u[1]),e.cachedSymbology[f+2]=Math.round(255*u[2]),e.cachedSymbology[f+3]=Math.round(255*u[3]),e.cachedSymbology[f+4]=c.colorMixMode|+c.castShadows<<4|+c.pickable<<5,f+=5}}_getFilteredEdgeMaterials(e){const t=this._getCachedEdgeMaterials(e);if(this.nodeCrossfadingEnabled||ot(t,this.fullOpacity),h(e.filteredIds)){return{hasEdges:t.some((e=>e!==Se)),perFeatureEdgeMaterials:t}}let i=0,s=!1;const r=t.map(((t,r)=>e.featureIds[r]!==e.filteredIds[i]?Se:(s=s||t!==Se,i++,t)));return{hasEdges:s,perFeatureEdgeMaterials:r}}_setObjectSymbolColors(e){if(!this._hasSymbolColors)return;const t=e.objectHandle,i=this._getSymbolColors(e);this._collection.setComponentData(t,i),this._stage.renderView.setNeedsRender()}_reloadAll(e=this.elevationOffset){this._removeAllNodeDataFromStage(e),null!=this._controller&&this._controller.restartNodeLoading()}_opacityChange(e){this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopAllNodeFading(),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>t.objectOpacity=e)),ot(t.cachedEdgeMaterials,e),this._updateEdgeRendering(t))}))}_updateMaterial(e){this._collection.updateMaterial(e.objectHandle,(e=>{e.commonMaterialParameters.slicePlaneEnabled=this.slicePlaneEnabled,e.usePBR=this._usePBR(),this._updateMaterialOverlay(e)}))}_updateMaterialOverlay(e){}_updateEngineObject(e){this._setObjectSymbolColors(e),this._applyFiltersToNode(e),this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e)}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlane=e),l(this._labeler)&&(this._labeler.slicePlaneEnabled=e),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>{t.commonMaterialParameters.slicePlaneEnabled=e})),this._updateEdgeRendering(t,!1))}))}_updatePBR(){this._nodeId2Meta.forEach((e=>{h(e)||this._collection.updateMaterial(e.objectHandle,(e=>{e.usePBR=this._usePBR()}))})),this._hasLoadedPBRTextures=!0}_usePBR(){return!this._isIntegratedMesh&&this.view.qualitySettings.physicallyBasedRenderingEnabled}_updateEdgeRendering(e,t=!0){l(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._addOrUpdateEdgeRendering(e,t)}_forAllNodes(e){this._nodeId2Meta.forEach(e)}_forAllFeatures(e,t,i=0){a(this._nodeId2Meta,(s=>{if(h(s))return!1;if(l(t)){switch(t(s)){case 0:return!0;case 2:return!1}}let r=1;switch(i){case 1:r=this._forAllFeaturesOfNode(s,e);break;case 0:r=this._forVisibleFeaturesOfNode(s,e);break;case 2:r=this._forAllFeaturesOfNodeInClippingArea(s,e)}return 0===r}))}_forAllFeaturesOfNode(e,t){let i=1;const s=e.featureIds;for(let r=0;r<s.length;r++)if(i=t(s[r],r,e),0===i)return i;return i}_forVisibleFeaturesOfNode(e,t){let i=1;const s=e.featureIds;return this._collection.forEachVisibleComponent(e.objectHandle,(r=>(i=t(s[r],r,e),1===i))),i}_forAllFeaturesOfNodeInClippingArea(e,t){if(null==this._clippingArea)return this._forAllFeaturesOfNode(e,t);const i=this._boundingboxNodeTest(e,this._clippingArea);if(0===i)return 1;if(3===i)return this._forAllFeaturesOfNode(e,t);const s=1,r=e.featureIds,o=e.objectHandle,a=Ee(this._clippingArea,this._collection.getObjectTransform(o));for(let n=0;n<r.length;n++){if(!this._boundingboxFeatureTest(e,n,a))continue;const i=t(r[n],n,e);if(0===i)return i}return s}_createAttributes(e,t){const i={};null!=t.featureIds&&(i[this._getObjectIdField()]=t.featureIds[e]);const s=l(t.attributeInfo)&&t.attributeInfo.attributeData;if(l(s))for(const r of Object.keys(s))i[r]=xe(s[r],e);return i}_createGraphic(e,t){return this._createLayerGraphic(this._createAttributes(e,t))}highlight(e){const t=this._highlights;if(\"number\"==typeof e||e instanceof i?e=[e]:e instanceof s&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof i){const i=e,s=this.i3slayer.fieldsIndex,r=this._getObjectIdField(),o=i.map((e=>De(s,e.attributes,r))),{set:a,handle:n}=t.acquireSet();return t.setFeatureIds(a,o),n}if(\"number\"==typeof e[0]){const i=e,{set:s,handle:r}=t.acquireSet();return t.setFeatureIds(s,i),r}}return rt}_visibleGeometryChanged(e){this._elevationProvider&&(this._elevationProvider.objectChanged(e.node),null==this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle=p((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))))}get performanceInfo(){const e={displayedNumberOfFeatures:0,maximumNumberOfFeatures:0,totalNumberOfFeatures:0,core:null,index:0,nodes:this._nodeId2Meta.size,\"Total GPU Memory Estimate\":(this.gpuMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Geometry Memory Estimate\":(this.geoMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Texture Memory Estimate\":(this.texMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Unloaded Memory Estimate\":(this.getUnloadedMemory()/1048576).toFixed(1)+\"MB\",...this._collection?this._collection.performanceInfo:{shown:0,hidden:0}};return l(this._memCache)&&(e.MemCache=Math.round(100*this._memCache.hitRate)+\"% hit\"),this._controller&&(this._idbCacheEnabled&&(e.IDBCache=Math.round(100*this._idbCache.getHitRate())+\"% hit\"),this._controller.updateStats(e)),e}get test(){const e=this;return{controller:this._controller,labeler:this._labeler,get visibleObjectIds(){const t=[];return e._forAllFeatures((e=>(t.push(e),1)),null,0),t.sort(((e,t)=>e-t)),t},get numNodes(){return e._nodeId2Meta.size}}}getNodeOpacityByIndex(e){const t=this._nodeId2Meta.get(e);return this.getNodeOpacity(t)}getNodeOpacity(e){return l(e)?this._collection.getMaterial(e.objectHandle).objectOpacity:0}isNodeFullyFadedIn(e){return this._crossfadeHelper.isNodeFullyFadedIn(e)}getNodeCrossfadeMetaData(e){return this._nodeId2Meta.get(e)}markNodeToRemove(e){this._controller&&this._controller.markNodeToRemove(e)}removeMarkedNodes(){this._controller&&this._controller.removeMarkedNodes()}foreachCrossfadeNode(e){this._nodeId2Meta.forEach(((t,i)=>e(i,t)))}fadeNode(e,t,i){if(!this.nodeCrossfadingEnabled)return;const s=this._nodeId2Meta.get(e);l(s)&&this._crossfadeHelper.fadeNode(e,s,t,i)}setNodeOpacityByIndex(e,t){const i=this._nodeId2Meta.get(e);l(i)&&this._setNodeOpacity(i,t)}_setNodeOpacity(e,t){this._collection.updateMaterial(e.objectHandle,(e=>e.objectOpacity=t)),this._setNodeEdgeOpacity(e,t)}_setNodeEdgeOpacity(e,t){if(!l(this._edgeView)||!e.cachedEdgeMaterials)return;ot(e.cachedEdgeMaterials,t);const i=e.objectHandle;this._edgeView.hasObject(i)&&this._edgeView.updateAllComponentOpacities(i,t)}get _hasModifications(){return this._modifications&&this._modifications.length>0}updateNodeModificationStatus(e){const t=e.length;if(!this._hasModifications||t<=0||!0!==this._i3sWasmLoaded)return;const i=this.i3slayer.uid,s=st(e);if(l(s)){const t={context:i,buffer:s.buffer};te(t);const r=new Float64Array(s.buffer);e.forAll(((e,t)=>{const i=r[t],s=ie(i);e.imModificationImpact=s,0!==s&&this._controller.invalidateGeometryVisibility(e.index)}))}}notifyUpdate(){this.notifyChange(\"updating\")}notifyLODUpdate(){this._controller.notifyLODUpdate()}isUpdating(){return!(!this._controller||!this._controller.updating)||!!this._visibleGeometryChangedSchedulerHandle||l(this._labeler)&&this._labeler.updating||this._crossfadeHelper.updating||this._i3sWasmLoaded instanceof Promise||this._asyncModuleLoading>0}};return f.lastIndex=0,e([v()],f.prototype,\"_hasLoadedPBRTextures\",void 0),e([v()],f.prototype,\"_asyncModuleLoading\",void 0),e([v()],f.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([v()],f.prototype,\"view\",void 0),e([v()],f.prototype,\"i3slayer\",void 0),e([v()],f.prototype,\"_controller\",void 0),e([v()],f.prototype,\"_labeler\",void 0),e([v()],f.prototype,\"updating\",void 0),e([v()],f.prototype,\"suspended\",void 0),e([v()],f.prototype,\"holeFilling\",void 0),e([v(Ae)],f.prototype,\"updatingProgress\",void 0),e([v({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],f.prototype,\"updatingProgressValue\",void 0),e([v({readOnly:!0})],f.prototype,\"hasTexturesOrVertexColors\",null),e([v({readOnly:!0})],f.prototype,\"rendererTextureUsage\",null),e([v({readOnly:!0})],f.prototype,\"elevationOffset\",null),e([v({type:Boolean})],f.prototype,\"slicePlaneEnabled\",void 0),e([v()],f.prototype,\"supportedTextureEncodings\",null),e([v()],f.prototype,\"uncompressedTextureDownsamplingEnabled\",null),e([v({type:[q]})],f.prototype,\"_modifications\",void 0),f=o=e([I(\"esri.views.3d.layers.I3SMeshView3D\")],f),f},We=P(),$e=P(),Ke=Te(),Je=[0,0,0,0],Qe=new t([0,0,0,0]),Xe=[0,0,0,0];function Ye(e){const t=e.metallicRoughness;return t&&t.baseColorTextureId>=0||t&&t.metallicRoughnessTextureId>=0||e.normalTextureId>=0||e.emissiveTextureId>=0||e.occlusionTextureId>=0}function Ze(e){return\"geometryData\"in e}function et(e){return l(e)&&f(e.data)}function tt(e,t){let i=1024+e.interleavedVertexData.byteLength+(e.indices?e.indices.byteLength:0)+e.positionData.data.byteLength+e.positionData.indices.byteLength;if(l(t))for(const s of t)l(s)&&f(s.data)&&(i+=s.data.byteLength);return i}function it(e,t){return t.byteSize>qe?(Ge.warn(`Node is too big to store in IndexedDB cache: ${e.id} (${t.byteSize} bytes)`),!1):t.byteSize>0}function st(e){if(0===e.length)return null;const t=10*e.length,i=new Float64Array(t);return e.forAll(((e,t)=>{let s=e.serviceObb;h(s)&&(s=Ke,E(s.center,e.mbs),s.halfSize[0]=s.halfSize[1]=s.halfSize[2]=e.mbs[3]);const r=10*t;i[r+0]=s.center[0],i[r+1]=s.center[1],i[r+2]=s.center[2],i[r+3]=s.halfSize[0],i[r+4]=s.halfSize[1],i[r+5]=s.halfSize[2],i[r+6]=s.quaternion[0],i[r+7]=s.quaternion[1],i[r+8]=s.quaternion[2],i[r+9]=s.quaternion[3]})),i}const rt={remove(){},pause(){},resume(){}};function ot(e,t){e.forEach((e=>e.opacity=t))}export{ze as I3SMeshView3D};\n"],"sourceRoot":""}