{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js","../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SProjectionUtil.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/i3s/attributeEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js","../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js"],"names":["e","r","hasInitialize","geometryBuffer","K","getLogger","Z","P","J","arguments","type","_nodesAddedToStage","Map","drapeSourceType","_queryEngine","_memCache","_interactiveEditingSessions","loadedGraphics","H","holeFilling","progressiveLoadFactor","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","t","this","layer","addResolvingPromise","indexInfo","_attributeOverrides","j","view","resourceController","memoryController","T","spatialReference","viewingMode","fieldsHelper","U","layerView","updatingHandles","add","_rangeInfosChanged","_rendererChange","_filterChange","graphics3d","filterVisibility","filterChanged","handles","n","q","_treeDebugger","_controller","crsIndex","then","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","destroy","_set","F","owner","preferredUpdatePolicy","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentVisibilityEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","suspendResumeExtentMode","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","elevationAlignment","events","on","_invalidateElevation","_verticalScale","w","setup","getMemCache","uid","E","G","geometryDefinitions","_worker","C","schedule","addPromise","result","_handleEdits","when","A","priority","W","FEATURE_QUERY_ENGINE","featureTarget","_removeAllNodeData","i","clear","requiredFields","graphicsCore","displayFeatureLimit","maximumNumberOfFeatures","_override","fixedFeatureTarget","_clearOverride","suspended","leavesReached","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","a","V","_getObjectIdField","values","v","find","attributes","sourceLayer","whenGraphicBounds","computeAttachmentOrigin","rootNodeVisible","updating","x","renderer","arcade","s","color","I","symbolUpdateType","highlight","objectIdField","effectiveUpdatePolicy","O","attributeEditingContext","o","invoke","positionData","positions","featureIds","Error","f","error","X","$","Promise","reject","has","index","id","te","clone","crsVertex","graphics","attributeInfo","attributeDataInfo","node","_addNodeBinaryPointData","_addNodeLegacyPointData","apply","numFeatures","length","_updateNodeMemory","ee","computeObb","updateVisibility","isGeometryVisible","_cacheNodeData","resolve","d","geometry","set","addMany","_filterNode","update","isGeographic","renderSpatialReference","p","data","size","serviceObb","Q","g","center","extractBinaryPointData","h","c","m","y","_","Array","u","l","push","checkExtent","generateUID","ie","S","b","get","level","se","property","graphic","oldValue","newValue","graphicUpdateHandler","objectId","visible","pointData","featureDataPosition","geometries","re","params","vertexAttributes","position","memory","usedMemoryPerGraphic","reduce","put","_getMemCacheKey","forEach","_removeNodeStageData","removeMany","delete","pop","updateAttributes","sort","loadedAttributes","attributeData","_attributeValuesChanged","labelsEnabled","map","updateLabelingInfo","updateClippingArea","fieldsIndex","Set","collectRequiredFields","from","every","_reloadAllNodes","warn","restartNodeLoading","parsedDefinitionExpression","_evaluateClause","extent","oe","updateElevationChanged","outFields","returnGeometry","outSpatialReference","filter","createQuery","executeQuery","_ensureQuery","signal","executeQueryForIds","executeQueryForCount","executeQueryForExtent","_addDefinitionExpressionToQuery","usedMemory","unloadedMemoryEstimate","unprocessedMemoryEstimate","N","sessions","forEachNode","attributeStorageInfo","i3slayer","attributeOverrides","getAttributeData","setAttributeData","recreateGraphics","clearMemCache","displayedNumberOfFeatures","totalNumberOfFeatures","nodes","core","performanceInfo","updateStats","controller","numNodes","R","L","D","B","prototype","z","aliasOf","k","availableFields","Number","readOnly","Y","name","M","xmin","ymin","xmax","ymax","hasZ","zmin","zmax","hasM","mmin","mmax","parseInt","substring","lastIndexOf","geometryBuffers","compressedAttributes","encoding","traverse","mbs","Math","max","rotationScale","missingFields","originalFields","toLowerCase","ne","associatedLayer","loaded","ae","parsedUrl","path","all","ce","indices","indexOf","fields","capabilities","query","maxRecordCount","objectIds","orderByFields","queryFeatures","features","resources","key","url","storageInfo","responseType","value","fe","ue","pe","store","indexCRS","geographicCRS","indexWKT","wkt","equals","me","vertexCRS","projectedCRS","vertexWKT","he","wkid","de","ye","be","defaultGeometrySchema","geometryType","topology","ge","we","Se","xe","Me","je","Re","ve","defaultSymbol","getSymbols","symbolLayers","items","material","colorMixMode","qe","opacity","Te","edgeMaterial","castShadows","ke","enabled","edges","alpha","ze","Fe","Ie","Ae","quaternion","halfSize","Ke","Ue","sqrt","Be","Ee","abs","radius","inverseFlattening","Ce","Pe","We","Ge","Le","rings","min","Oe","popupTemplate","getRequiredFields","lastEditInfoEnabled","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","_textureRep","_textureId","_textureRef","acquire","release","glTexture","bindTexture","setUniform2f","descriptor","width","height","usage","pbrMetallicRoughness","baseColorFactor","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","alphaMode","baseColorTextureId","baseColorTexture","metallicRoughnessTextureId","alphaCutoff","doubleSided","cullFace","normalTextureId","emissiveTextureId","occlusionTextureId","metallicRoughness","wrapTextures","hasParametersFromSource","formats","format","encodings","textures","ktx2","basis","dds","png","jpg","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","materialDefinitions","Object","keys","textureDefinitions","diffuse","transparency","useVertexColorAlpha","wrap","channels","images","split","isArray","href","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","downsampled","mipmap","maxAnisotropy","components","noUnpackFlip","rendererTextureUsage","baseColor","usePBR","mrrFactors","isIntegratedMesh","alphaDiscardMode","emissionTexture","commonMaterialParameters","slicePlaneEnabled","ellipsoidMode","viewSpatialReference","String","fromCharCode","byteOffset","byteCount","create","valueType","BYTES_PER_ELEMENT","count","valuesPerElement","header","entries","ordering","expectedSize","actualSize","isDraco","vertexCount","faceCount","faces","featureCount","featureAttributes","featureAttributeOrder","byteLength","isLegacy","normal","uv0","uvRegion","featureIndex","faceRange","featureId","region","attributeByteCounts","hasOwnProperty","attributeValues","Uint8Array","Float32","Float32Array","Float64","Float64Array","UInt8","Int8","Int8Array","UInt16","Uint16Array","Int16","Int16Array","UInt32","Uint32Array","Int32","Int32Array","DataView","getFloat32","getFloat64","getUint8","getInt8","getUint16","getInt16","getUint32","getInt32","_map","toArray","emit","added","removed","refCount","referenceCount","callbacks","runIndex","handle","registerTask","I3S_CONTROLLER","remove","needsUpdate","numIndexLoading","numNodesLoading","done","unshift","renderMbs","imModificationImpact","childCount","version","lodMetric","maxError","failed","hasModifications","cacheState","nodeHasLOD","isChosen","lodLevel","childOffset","visibilityCache","ref","useAsHole","filterImpact","streamDataController","viewportQueries","logger","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","nodesPerPage","rootIndex","lodConversion","urlPrefix","_loading","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","NEGATIVE_INFINITY","_maxProcessingPrio","POSITIVE_INFINITY","_nodeTraversalState","_version","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","layerHasModifications","_layerHasFilter","logLayer","serviceUpdateTimeStamp","lastUpdate","_maxLodLevel","maxLodLevel","init","pageSize","addPage","rootPage","children","parents","makeRefNode","rootNode","_validateNode","addNode","request","catch","obb","mesh","attribute","hasSharedResource","hasFeatureData","resource","texture","geometryDefinition","definition","materialDefinition","lodThreshold","visibilityObb","updateParentsAndLevel","getPage","getNode","getChildIndex","populateChildren","getParent","metricType","lodSelection","getNodeInternal","serviceObbInRenderSR","forAllNodes","getIndexById","getParentIndex","invalidateNodeVisibilityCacheInternal","geometryObb","isNodeVisible","delta","coverage","_traverseCoverage","prune","invalidateGeometryVisibility","invalidateVisibilityCache","invalidateNodeVisibilityCache","reset","traverseVisible","entryPriority","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","cancel","madeProgress","filterInPlace","_computeFeatureEstimate","back","updateScreenSpaceErrorBias","_updateFeatureEstimate","_load","_loadNode","loadPage","getLodLevel","hasLOD","requestUpdate","nodeTraversalState","sharedResource","geometryData","some","featureData","featureRange","textureData","distToPOI","_traverseVisible","traverseChildren","_traverseChildren","prio","updateElevationInfo","PI","_lodGlobalDirty","_index","_isNodeInScaleBounds","_removeNodes","isChosenMaxLOD","_childrenRequireLoading","requiresLODGlobalHandling","floor","_lodGlobalHandling","isNodeLoaded","nodeCrossfadingEnabled","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","_removeChildrenRecursive","isNodeReloading","vertexRegions","bufferDefinition","bufferIndex","requiredAttributes","options","layerUrl","textureSetDefinitions","materialAndTextures","load","loadAttribute","loadAttributes","loadGeometry","loadShared","loadFeatureData","loadTextures","geometryDescriptor","requiredTextures","fixTextureEncodings","addAbsoluteHrefTexture","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","textureEncodings","loadTexture","hrefConcat","requester","apiKey","activeRequests","busy","abort","token","response","abortController","abortHandle","indexSR","_renderCoordsHelper","elevationProvider","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmp1","_tmp2","_tmp3","_tmp0","screenspaceErrorBias","updateCamera","engineSR","tmpPoint","_elevationContext","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","_computeRenderObb","getRenderMbs","isMBSinExtent","getVisibilityObb","_updateMinMaxDistance","MAX_VALUE","calcCameraDistanceToCenter","getDistanceGlobeMode","getDistancePlanarMode","evaluateLODmetric","getDistance","screenSpaceDiameterMbs","angleDependentLoD","calcAngleDependentLoD","calcCameraDistance","screenSizeFactor","updatingProgress","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","profile","lodType","createStreamDataRequester","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","_defaultGeometrySchema","destroyed","_setClippingArea","clippingArea","_pointOfInterestChanged","_setCameraDirty","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","watch","state","_elevationInfoChanged","_scaleBoundsChanged","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","renderCoordsHelper","contentCamera","fixedContentCamera","isGraphics3D","_clippingArea","elevationInfo","_getProgressiveLoadFactor","lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","modifications","imModificationsChanged","_startNodeLoading","_tmpPoint","updateNodeModificationStatus","forAll","_nodeLoader","field","_getRequiredAttributes","setPointOfInterest","distancePenalty","distCameraToPOI","updateExtent","notifyChange","setLodGlobalDirty","_evaluateUpdating","invalidateBoundingVolumeCache","areScaleBoundsActive","basemapTerrain","_scaleUpdateHandler","_updateScaleInBoundingRect","scale","minScale","maxScale","getUnloadedMemoryEstimate","lodDropFactor","maxLevel","_processLogError","getPriority","_process","_removeInvisibleNodes","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","process","_prefetchIndex","getIndexLoading","lodGlobalHandling","dirty","pushArray","updates","featureEstimate","isLoading","_get","prefetch","baseLOD","getIndexMissing","checkFeatureTarget","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","dataStreamController","pointsOfInterest","focus","renderLocation","memoryFactor","lodFactor","minQuality","invalidateVisibilityObbs","shouldLoadNode","_shouldDropNode","supportedTextureEncodings","isMeshPyramid","startNodeLoading","isNodeLoading","cancelAll","_cancelAllNodes","getLoadedNodeIndices","nodeFadeoutEnabled","getLoadedAttributes","_loadAndAddNode","_loadUncached","_loadCached","useNodeAsHole","_loadCachedGPUData","_nodeAdded","deleteCachedGPUData","loadCachedNodeData","addCachedNodeData","reschedule","loadNodeData","resetFailedNodes","getScale","_getScale","detail","target","layerFilterChanged","constructOnly","dependsOn","factorIM","factor3dObject","supportsMaxRecordCountFactor","maxRecordCountFactor","supportsPagination","start","num","source","queryFeaturesJSON","concat","exceededTransferLimit","MAX_MAX_RECORD_COUNT_FACTOR","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","pendingFetchChangedObjectIds","fetchChangedObjectIds","rollback","commit","updateValue","getOverridesFromCache","fieldNames","queryOverridesFromAssociatedLayer","processOverridesFromAssociatedLayer","cacheValue","getCacheKey","memCacheValueSize","fromCache","fromInteractiveEditingSession","logMaximumObjectsExceededWarning","where","cacheHint","ok","portalItem","portal","title","operations","supportsChangeTracking","getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","JSON","stringify","serverGen","timeout","edits","serverGens","minServerGen","isActive","identifier","checksum","sizeLo","sizeHi","minX","minY","minZ","maxX","maxY","maxZ","errorX","errorY","errorZ","reserved","colorMapCount","lookupMethod","compressionMethod","slice","scaleFactor","bitsPerPoint","log","LOG2E","round","cos","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","definitionExpression","isStandardized","join","testFeature","popupEnabled","_validateFetchPopupFeatures","clientGraphics","prepareFetchPopupFeatures","whenGraphicAttributes","setAttribute","createInteractiveEditSession","findIndex","updateFeatures","updatedFeatures","normalizeFieldName","asyncUpdateState","updateAsync","startAsyncUpdate","declaredClass","endAsyncUpdate","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","autoUpdateAsync","labelsVisible"],"mappings":"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","file":"static/js/50.37b4533b.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";class e extends r{constructor(r){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",r,{hasInitialize:!0})}getTransferList(r){return[r.geometryBuffer]}}export{e as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{destroyMaybe as i,isSome as s,isNone as o,unwrap as a}from\"../../../core/maybe.js\";import{init as n}from\"../../../core/watchUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{b as l}from\"../../../chunks/vec3.js\";import{f as u,c}from\"../../../chunks/vec3f64.js\";import{projectBuffer as p,projectVectorToVector as g,projectBoundingRect as m}from\"../../../geometry/projection.js\";import{create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{extentContainsCoords3D as f}from\"../../../geometry/support/contains.js\";import{estimateSize as _,makeDehydratedPoint as b}from\"../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as v}from\"../../../layers/graphics/hydratedFeatures.js\";import E from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{getRenderingInfo as x,getRenderingInfoAsync as I}from\"../../../renderers/support/renderingInfoUtils.js\";import{getGeometryZScaler as w}from\"../../../rest/query/operations/zscale.js\";import S from\"../../../rest/support/Query.js\";import{I3SPointsWorkerHandle as C}from\"./I3SPointsWorkerHandle.js\";import{LayerView3D as D}from\"./LayerView3D.js\";import F from\"./graphics/Graphics3DFeatureLikeLayerView.js\";import A from\"./graphics/QueryEngine.js\";import{createInteractiveEditSession as O,processAttributeEdits as N}from\"./i3s/attributeEditing.js\";import{I3SAttributeOverrides as j}from\"./i3s/I3SAttributeOverrides.js\";import{checkSpatialReferences as T,containsDraco as G,whenGraphicAttributes as V,getCachedAttributeValue as M}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as R}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as P}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as L}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as U}from\"./support/SceneLayerViewRequiredFields.js\";import q from\"../support/debugFlags.js\";import{GraphicsMap as H}from\"../support/GraphicsMap.js\";import{compute as Q}from\"../support/orientedBoundingBox.js\";import{updatingProgress as k}from\"../support/updatingProperties.js\";import B from\"../../layers/SceneLayerView.js\";import z from\"../../layers/support/FeatureFilter.js\";import{TaskPriority as W}from\"../../support/Scheduler.js\";const K=r.getLogger(\"esri.views.3d.layers.SceneLayerGraphicsView3D\"),Z=P();let J=class extends(R(L(D(B)))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._nodesAddedToStage=new Map,this.drapeSourceType=1,this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this.loadedGraphics=new H,this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}initialize(){var e;const t=this.layer;this.addResolvingPromise(t.indexInfo),this._attributeOverrides=new j(this.layer,null==(e=this.view.resourceController)?void 0:e.memoryController),T(t,this.view.spatialReference,this.view.viewingMode),this.fieldsHelper=new U({layerView:this}),this.updatingHandles.add(t,\"rangeInfos\",(e=>this._rangeInfosChanged(e)),2),this.updatingHandles.add(t,\"renderer\",((e,t)=>this._rendererChange(e,t))),this.updatingHandles.add(this,\"parsedDefinitionExpression\",(()=>this._filterChange())),this.updatingHandles.add(this,\"view.floors\",(()=>this.graphics3d.filterVisibility.filterChanged())),this.handles.add(n(q,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&q.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||q.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}))),this._set(\"graphics3d\",new F({owner:this,layer:t,preferredUpdatePolicy:0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentVisibilityEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,suspendResumeExtentMode:\"data\",dataExtent:t.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.graphics3d.elevationAlignment&&this.graphics3d.elevationAlignment.events.on(\"invalidate-elevation\",(e=>this._invalidateElevation(e))),this.supportsHeightUnitConversion&&(this._verticalScale=w(\"point\",t.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.graphics3d.setup()),this._memCache=this.view.resourceController.memoryController.getMemCache(t.uid),this._controller=new E({layerView:this,scaleVisibilityEnabled:!1}),G(this.layer.geometryDefinitions)&&(this._worker=new C((e=>this.view.resourceController.schedule(e)))),this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e)))),this.when((()=>{this._queryEngine=new A({layerView:this,priority:W.FEATURE_QUERY_ENGINE}),this.updatingHandles.add(this,\"maximumNumberOfFeatures\",(e=>this._controller.featureTarget=e),2),this.updatingHandles.add(this,\"suspended\",(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=i(this._treeDebugger),this._attributeOverrides=i(this._attributeOverrides),this._set(\"graphics3d\",i(this.graphics3d)),this._controller=i(this._controller),this._queryEngine=i(this._queryEngine),this._worker=i(this._worker),this._memCache=i(this._memCache),this._nodesAddedToStage.clear(),this.fieldsHelper=i(this.fieldsHelper)}get requiredFields(){var e,t;return null!=(e=null==(t=this.fieldsHelper)?void 0:t.requiredFields)?e:[]}get maximumNumberOfFeatures(){const e=this.graphics3d&&this.graphics3d.graphicsCore&&this.graphics3d.graphicsCore.displayFeatureLimit;return e?e.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller&&!this._controller.leavesReached)}get hasM(){return!1}get hasZ(){return!0}notifyGraphicGeometryChanged(e){this.graphics3d.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphics3d.graphicsCore.notifyGraphicVisibilityChanged(e)}async whenGraphicAttributes(e,t){return V(this.layer,e,this._getObjectIdField(),t,(()=>[...this._nodesAddedToStage.values()]))}getGraphicFromGraphicUid(e){if(!this.loadedGraphics)return null;const t=v(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t&&t.attributes&&t.attributes[r]?(t.layer=this.layer,t.sourceLayer=this.layer,t):null}whenGraphicBounds(e,t){return this.graphics3d.graphicsCore.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphics3d.graphicsCore.computeAttachmentOrigin(e,t)}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}isUpdating(){return!!(this._controller&&this._controller.updating||this.graphics3d&&this.graphics3d.updating)}getRenderingInfo(e,t,r){const i=x(e,{renderer:t,arcade:r});if(s(i)&&i.color){const e=i.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}return i}async getRenderingInfoAsync(e,t,r,i){return I(e,{renderer:t,arcade:r,...i})}get symbolUpdateType(){return this.graphics3d.graphicsCore.symbolUpdateType}highlight(e){return this.graphics3d.highlight(e,this.layer.objectIdField)}get updatePolicy(){return this.graphics3d.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return O(this.attributeEditingContext,e)}async extractBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};return o(this._worker)&&(this._worker=new C((e=>this.view.resourceController.schedule(e)))),this._worker.invoke(r,t).then((e=>{if(s(e)){return{positionData:e.positions,featureIds:e.featureIds}}throw new Error(\"Failed to decompress Draco point data\")}))}checkExtent(e,t){e&&!f(e,t)&&(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&K.error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&K.error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++)}async addNode(e,t,r){if(!X(t)&&!$(t))return Promise.reject();if(this._nodesAddedToStage.has(e.index))return void K.error(\"I3S node \"+e.id+\" already added\");const i=this.layer.fullExtent,s=i&&te(i.clone(),.5),o=this._controller.crsVertex,a=[],n={graphics:null,featureIds:null,attributeInfo:t.attributeDataInfo,node:e};if(X(t)?await this._addNodeBinaryPointData(e,n,t,s,a,r):$(t)&&this._addNodeLegacyPointData(e,n,t,s,a),await this._attributeOverrides.apply(n.featureIds,t.attributeDataInfo,r),e.numFeatures=n.graphics.length,this._updateNodeMemory(e),ee(n),a.length>0&&(this.computeObb(e,a,o),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return this._cacheNodeData(n),Promise.resolve();if(this._verticalScale)for(const d of n.graphics)this._verticalScale(d.geometry);return this._nodesAddedToStage.set(e.index,n),this.loadedGraphics.addMany(n.graphics),this._filterNode(n),this._treeDebugger&&this._treeDebugger.update(),Promise.resolve()}computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;p(t,r,0,t,s,0,t.length/3);const o={data:t,size:3};e.serviceObb=Q(o),i.isGeographic&&g(e.serviceObb.center,s,e.serviceObb.center,i)}isNodeLoaded(e){return this._nodesAddedToStage.has(e)}isNodeReloading(){return!1}updateNodeState(){}async _addNodeBinaryPointData(e,r,i,o,n,d){const h=await this.extractBinaryPointData(i,d);if(null==h)return Promise.reject();const c=this._getObjectIdField(),g=this._controller.crsVertex,m=this.view.spatialReference,y=this.graphics3d.graphicsCore,{positionData:f,featureIds:_}=h,v=3,E=f.length/v,x=new Array;for(let I=0;I<E;I++){const r=s(e.serviceObb)?e.serviceObb.center:[0,0,0],i=I*v,d=u(f[i+0],f[i+1],f[i+2]);l(d,d,r),e.serviceObb||n.push(d[0],d[1],d[2]),o&&this.checkExtent(o,d);const h=_[I],E={};null!=h&&(E[c]=h);const w=null==h?t.generateUID():h;p(d,g,0,ie,m,0,1);const S=b(ie[0],ie[1],ie[2],m),C=this.loadedGraphics.get(w);if(s(C))C.level<e.level&&(se.property=\"geometry\",se.graphic=C,se.oldValue=a(C.geometry),se.newValue=S,C.geometry=S,y.graphicUpdateHandler(se)),x.push(C);else{const r=t.generateUID();x.push({objectId:w,uid:r,geometry:S,attributes:E,visible:!0,level:e.level})}}r.graphics=x,r.featureIds=_}_addNodeLegacyPointData(e,r,i,o,a){const n=this._getObjectIdField(),d=this._controller.crsVertex,h=this.view.spatialReference,l=[0,0,0],u=new Array,c=new Array;for(const g of i.pointData){const r=g.featureDataPosition,i=r.length,m=g.geometries&&g.geometries[0]||re[i],y=g.featureIds[0];if(\"points\"!==m.params.type)continue;o&&this.checkExtent(o,r);const f={};null!=y&&(f[n]=y);const _=null==y?t.generateUID():y;let v;\"Embedded\"===m.type&&(v=m.params.vertexAttributes.position);for(let o=0;o<v.length;o+=i){for(let e=0;e<i;e++)l[e]=r[e]+v[o+e];const n=3===i;e.serviceObb||a.push(l[0],l[1],n?l[2]:0),p(l,d,0,ie,h,0,1);const u=b(ie[0],ie[1],n?ie[2]:void 0,h),g=this.loadedGraphics.get(_);s(g)?c.push(g):c.push({objectId:_,uid:t.generateUID(),geometry:u,attributes:f,visible:!0})}u.push(y)}r.graphics=c,r.featureIds=u}_updateNodeMemory(e){e.memory=4096+(s(e.numFeatures)?e.numFeatures*this.graphics3d.graphicsCore.usedMemoryPerGraphic:0)}_cacheNodeData(e){const t=e.graphics.reduce(((e,t)=>_(t)+e),512+8*e.featureIds.length+1024);this._memCache.put(this._getMemCacheKey(e.node),e,t)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this._nodesAddedToStage.forEach((e=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}})),this._nodesAddedToStage.clear(),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this._nodesAddedToStage.get(e);return t?(this.loadedGraphics.removeMany(t.graphics),this._nodesAddedToStage.delete(e),this._treeDebugger&&this._treeDebugger.update(),t):null}async loadCachedNodeData(e){return this._memCache.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,t,r,i){if(!this._nodesAddedToStage.has(e.index))return this.loadedGraphics.addMany(t.graphics),this._nodesAddedToStage.set(e.index,t),this._updateNodeMemory(e),await this.updateAttributes(e.index,r,i),this._filterNode(t),this._treeDebugger&&this._treeDebugger.update(),Promise.resolve();K.error(\"I3S node \"+e.id+\" already added\")}getLoadedNodeIds(){const e=[];return this._nodesAddedToStage.forEach((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this._nodesAddedToStage.forEach((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this._nodesAddedToStage.forEach(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this._nodesAddedToStage.get(e);if(t&&s(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodesAddedToStage.get(e);if(t&&s(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const r=this._nodesAddedToStage.get(e);r&&!o(r.attributeInfo)&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this._nodesAddedToStage.get(e);i&&(await this._attributeOverrides.apply(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){if(ee(e),this._filterNode(e),this.graphics3d.graphicsCore.labelsEnabled){const t=e.graphics.map((e=>e.uid));this.graphics3d.graphicsCore.updateLabelingInfo(t)}}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||\"OBJECTID\"}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&K.warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this._nodesAddedToStage.forEach((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression;for(const r of e.graphics){const e=r.visible;r.visible=!t||this._evaluateClause(t,r),e!==r.visible&&(se.graphic=r,se.property=\"visible\",se.oldValue=e,se.newValue=r.visible,this.graphics3d.graphicsCore.graphicUpdateHandler(se))}}_invalidateElevation(e){const t=this._controller.crsIndex;m(e.extent,e.spatialReference,oe,t),this._controller.updateElevationChanged(oe,t)}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return s(this.filter)?this.filter.createQuery(e):new S(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),null==t?void 0:t.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),null==t?void 0:t.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),null==t?void 0:t.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(o(e)?this.createQuery():S.from(e))}getUsedMemory(){const e=this.graphics3d&&this.graphics3d.graphicsCore;return e?e.usedMemory:0}getUnloadedMemory(){const e=this.graphics3d&&this.graphics3d.graphicsCore;return.8*((this._controller?this._controller.unloadedMemoryEstimate:0)+(e?e.unprocessedMemoryEstimate:0))}ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}_handleEdits(e){N(this.attributeEditingContext,e)}get attributeEditingContext(){const e=this._getObjectIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,forEachNode:e=>this._nodesAddedToStage.forEach((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo,attributeOverrides:this._attributeOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this.setAttributeData(t,r);const o=this._nodesAddedToStage.get(t);if(s(i)){const t=this.loadedGraphics.get(i.attributes[e]);s(t)&&this.graphics3d.graphicsCore.recreateGraphics([t])}else s(o)&&this.graphics3d.graphicsCore.recreateGraphics(o.graphics)},clearMemCache:()=>{}}}get performanceInfo(){const e={displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:this.maximumNumberOfFeatures,totalNumberOfFeatures:-1,nodes:this._nodesAddedToStage.size,core:this.graphics3d.graphicsCore.performanceInfo};return this._controller&&this._controller.updateStats(e),e}get test(){return{controller:this._controller,numNodes:this._nodesAddedToStage.size,numFeatures:this.loadedGraphics.length}}};e([d()],J.prototype,\"graphics3d\",void 0),e([d({type:z})],J.prototype,\"filter\",void 0),e([d()],J.prototype,\"loadedGraphics\",void 0),e([d({aliasOf:\"layer\"})],J.prototype,\"i3slayer\",void 0),e([d()],J.prototype,\"_controller\",void 0),e([d()],J.prototype,\"updating\",void 0),e([d()],J.prototype,\"suspended\",void 0),e([d()],J.prototype,\"holeFilling\",void 0),e([d(k)],J.prototype,\"updatingProgress\",void 0),e([d({aliasOf:\"_controller.updatingProgress\"})],J.prototype,\"updatingProgressValue\",void 0),e([d(Z.requiredFields)],J.prototype,\"requiredFields\",null),e([d(Z.availableFields)],J.prototype,\"availableFields\",void 0),e([d()],J.prototype,\"fieldsHelper\",void 0),e([d({type:Number})],J.prototype,\"maximumNumberOfFeatures\",null),e([d({readOnly:!0})],J.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([d({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.point.lodFactor\"})],J.prototype,\"lodFactor\",void 0),e([d({readOnly:!0})],J.prototype,\"hasM\",null),e([d({readOnly:!0})],J.prototype,\"hasZ\",null),J=e([h(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],J);var Y=J;function $(e){return\"pointData\"in e}function X(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function ee(e){const t=e.attributeInfo;for(let r=0;r<e.graphics.length;r++){const i=e.graphics[r];if(i.attributes||(i.attributes={}),s(t)&&s(t.loadedAttributes))for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(i.attributes[e]=M(t.attributeData[e],r))}}function te(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,e.hasZ&&(e.zmin-=t,e.zmax+=t),e.hasM&&(e.mmin-=t,e.mmax+=t),e}const re={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},ie=c(),se={graphic:null,property:null,oldValue:null,newValue:null},oe=y();export default Y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{binaryIndexOf as t,flatten as r,splitIntoChunks as o}from\"../../../../core/arrayUtils.js\";import n from\"../../../../core/Error.js\";import a from\"../../../../core/has.js\";import{isSome as s,isNone as i}from\"../../../../core/maybe.js\";import{eachAlways as c}from\"../../../../core/promiseUtils.js\";import{isInt16Array as l,isInt32Array as u}from\"../../../../core/typedArrayUtil.js\";import{a as f}from\"../../../../chunks/mat4.js\";import{c as p}from\"../../../../chunks/mat4f64.js\";import{a as m,m as h,c as d}from\"../../../../chunks/quat.js\";import{b as y}from\"../../../../chunks/quatf32.js\";import{s as g,g as b,w,q as x,a as S,b as M,m as v}from\"../../../../chunks/vec3.js\";import{c as j}from\"../../../../chunks/vec4f64.js\";import{projectBoundingSphere as R,projectBuffer as q,computeLinearTransformation as T,projectVectorToVector as k}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as z,getReferenceEllipsoid as F}from\"../../../../geometry/projectionEllipsoid.js\";import A from\"../../../../geometry/SpatialReference.js\";import{create as I}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as C,empty as U,expandPointInPlace as B,intersects as K}from\"../../../../geometry/support/aaBoundingRect.js\";import{canProject as L}from\"../../../../geometry/support/webMercatorUtils.js\";import W from\"../../../../rest/support/Query.js\";import{readBinaryAttribute as G}from\"./I3SBinaryReader.js\";import{computeGlobalTransformation as E}from\"./I3SProjectionUtil.js\";import{createSolidEdgeMaterial as O,createMaterialFromEdges as P}from\"../support/edgeUtils.js\";import{parseColorMixMode as $}from\"../support/symbolColorUtils.js\";import{corners as Q,compute as Z,create as D}from\"../../support/orientedBoundingBox.js\";function H(e){return e&&parseInt(e.substring(e.lastIndexOf(\"/\")+1,e.length),10)}function J(e){if(a(\"disable-feature:i3s-draco\")||!e)return!1;for(const t of e)for(const e of t.geometryBuffers)if(\"draco\"===e.compressedAttributes.encoding)return!0;return!1}function N(e,t,r,o,n,a){n.traverse(r,(r=>{let n=r.mbs;t!==o&&(n=ee,R(r.mbs,o,n,t));const s=te(e,n);return 0!==s&&(a(r,s),!0)}))}function V(e,t,r){let o=0,n=0;for(let a=0;a<t.length&&o<e.length;a++)e[o]===t[a]&&(r(a)&&(e[n]=e[o],n++),o++);e.length=n}function X(e,r,o){let n=0,a=0;for(;n<o.length;){t(e,o[n])>=0===r&&(o[a]=o[n],a++),n++}o.length=a}const Y=I();function _(e,t){if(0===t.rotationScale[1]&&0===t.rotationScale[2]&&0===t.rotationScale[3]&&0===t.rotationScale[5]&&0===t.rotationScale[6]&&0===t.rotationScale[7])return Y[0]=(e[0]-t.position[0])/t.rotationScale[0],Y[1]=(e[1]-t.position[1])/t.rotationScale[4],Y[2]=(e[2]-t.position[2])/t.rotationScale[8],Y[3]=(e[3]-t.position[0])/t.rotationScale[0],Y[4]=(e[4]-t.position[1])/t.rotationScale[4],Y[5]=(e[5]-t.position[2])/t.rotationScale[8],Y}const ee=j();function te(e,t){const r=t[0],o=t[1],n=t[3],a=e[0]-r,s=r-e[2],i=e[1]-o,c=o-e[3],l=Math.max(a,s,0),u=Math.max(i,c,0),f=l*l+u*u;if(f>n*n)return 0;if(f>0)return 1;return-Math.max(a,s,i,c)>n?3:2}function re(e,t){const r=t[0],o=t[1],n=t[2],a=t[3],s=e[0]-r,i=r-e[3],c=e[1]-o,l=o-e[4],u=e[2]-n,f=n-e[5],p=Math.max(s,i,0),m=Math.max(c,l,0),h=Math.max(u,f,0),d=p*p+m*m+h*h;if(d>a*a)return 0;if(d>0)return 1;return-Math.max(s,i,c,l,u,f)>a?3:2}function oe(e,t,r){const o=[],n=r&&r.missingFields,a=r&&r.originalFields;for(const s of e){const e=s.toLowerCase();let r=!1;for(const n of t)if(e===n.name.toLowerCase()){o.push(n.name),r=!0,a&&a.push(s);break}!r&&n&&n.push(s)}return o}async function ne(e,t,o,a,c){if(0===t.length)return[];const l=e.attributeStorageInfo;if(s(e.associatedLayer))try{return await se(e.associatedLayer,t,o,a)}catch(u){if(e.associatedLayer.loaded)throw u}if(l){const s=ae(t,o,c);if(i(s))throw new n(\"scenelayer:features-not-loaded\",\"Tried to query attributes for unloaded features\");const u=e.parsedUrl.path,f=await Promise.all(s.map((e=>ce(u,l,e.node,e.indices,a).then((t=>{for(let r=0;r<e.graphics.length;r++){const o=e.graphics[r],n=t[r];if(o.attributes)for(const e in o.attributes)e in n||(n[e]=o.attributes[e]);o.attributes=n}return e.graphics})))));return r(f)}throw new n(\"scenelayer:no-attribute-source\",\"This scene layer does not have a source for attributes available\")}function ae(e,t,r){const o=new Map,n=[],a=r();for(const s of e){const e=s.attributes[t];for(let t=0;t<a.length;t++){const r=a[t],i=r.featureIds.indexOf(e);if(i>=0){let e=o.get(r.node);e||(e={node:r.node,indices:[],graphics:[]},n.push(e),o.set(r.node,e)),e.indices.push(i),e.graphics.push(s);for(let r=t;r>0;r--)a[r]=a[r-1];a[0]=r;break}}}return n}async function se(e,t,r,o){t.sort(((e,t)=>e.attributes[r]-t.attributes[r]));const n=t.map((e=>e.attributes[r])),a=[],s=oe(o,e.fields,{originalFields:a}),i=await ie(e,n,s);for(let c=0;c<t.length;c++){const e=t[c],r=i[c],o={};if(e.attributes)for(const t in e.attributes)o[t]=e.attributes[t];for(let t=0;t<a.length;t++)o[a[t]]=r[s[t]];e.attributes=o}return t}function ie(e,t,a){const s=e.capabilities.query.maxRecordCount;if(null!=s&&t.length>s){const n=o(t,s);return Promise.all(n.map((t=>ie(e,t,a)))).then(r)}const i=new W({objectIds:t,outFields:a,orderByFields:[e.objectIdField]});return e.queryFeatures(i).then((e=>{if(e&&e.features&&e.features.length===t.length)return e.features.map((e=>e.attributes));throw new n(\"scenelayer:feature-not-in-associated-layer\",\"Feature not found in associated feature layer\")}))}function ce(t,r,o,n,a){const s=[];for(const e of r)if(e&&-1!==a.indexOf(e.name)){const r=`${t}/nodes/${o.resources.attributes}/attributes/${e.key}/0`;s.push({url:r,storageInfo:e})}return c(s.map((t=>e(t.url,{responseType:\"array-buffer\"}).then((e=>G(t.storageInfo,e.data)))))).then((e=>{const t=[];for(const r of n){const o={};for(let t=0;t<e.length;t++)null!=e[t].value&&(o[s[t].storageInfo.name]=fe(e[t].value,r));t.push(o)}return t}))}const le=-32768,ue=-(2**31);function fe(e,t){if(!e)return null;const r=e[t];if(l(e))return r===le?null:r;if(u(e))return r===ue?null:r;return r!=r?null:r}function pe(e){const t=e.store.indexCRS||e.store.geographicCRS,r=void 0===t?e.store.indexWKT:void 0;if(r){if(!e.spatialReference)throw new n(\"layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference\",\"Found indeWKT in the scene layer store but no layer spatial reference\",{});if(r!==e.spatialReference.wkt)throw new n(\"layerview:store-spatial-reference-wkt-index-incompatible\",\"The indeWKT of the scene layer store does not match the WKT of the layer spatial reference\",{})}const o=t?new A(H(t)):e.spatialReference;return o.equals(e.spatialReference)?e.spatialReference:o}function me(e){const t=e.store.vertexCRS||e.store.projectedCRS,r=void 0===t?e.store.vertexWKT:void 0;if(r){if(!e.spatialReference)throw new n(\"layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference\",\"Found vertexWKT in the scene layer store but no layer spatial reference\",{});if(r!==e.spatialReference.wkt)throw new n(\"layerview:store-spatial-reference-wkt-vertex-incompatible\",\"The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference\",{})}const o=t?new A(H(t)):e.spatialReference;return o.equals(e.spatialReference)?e.spatialReference:o}function he(e,t){return i(t)?\"@null\":t===z(t)?\"@ECEF\":e.equals(t)?\"\":null!=t.wkid?\"@\"+t.wkid:null}function de(e,t,r){if(!L(e,t))throw new n(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{});if(\"local\"===r&&e.isGeographic)throw new n(\"layerview:local-gcs-not-supported\",\"Geographic coordinate systems are not supported in local scenes\",{})}function ye(e,t,r){const o=pe(e),n=me(e);de(o,t,r),de(n,t,r)}function ge(e){return(null==e.geometryType||\"triangles\"===e.geometryType)&&((null==e.topology||\"PerAttributeArray\"===e.topology)&&(null!=e.vertexAttributes&&null!=e.vertexAttributes.position))}function be(e){if(null==e.store||null==e.store.defaultGeometrySchema||!ge(e.store.defaultGeometrySchema))throw new n(\"scenelayer:unsupported-geometry-schema\",\"The geometry schema of this scene layer is not supported.\",{url:e.parsedUrl.path})}function we(e,t){ye(e,t.spatialReference,t.viewingMode)}function xe(e){return null!=e.geometryType&&\"points\"===e.geometryType&&((null==e.topology||\"PerAttributeArray\"===e.topology)&&((null==e.encoding||\"\"===e.encoding||\"lepcc-xyz\"===e.encoding)&&(null!=e.vertexAttributes&&null!=e.vertexAttributes.position)))}function Se(e){if(null==e.store||null==e.store.defaultGeometrySchema||!xe(e.store.defaultGeometrySchema))throw new n(\"pointcloud:unsupported-geometry-schema\",\"The geometry schema of this point cloud scene layer is not supported.\",{})}function Me(e,t){de(e.spatialReference,t.spatialReference,t.viewingMode)}function ve(e){return\"simple\"===e.type||\"class-breaks\"===e.type||\"unique-value\"===e.type}function je(e){return\"mesh-3d\"===e.type}function Re(e){if(null==e||!ve(e))return!0;if((\"unique-value\"===e.type||\"class-breaks\"===e.type)&&null==e.defaultSymbol)return!0;const t=e.getSymbols();if(0===t.length)return!0;for(const r of t){if(!je(r)||0===r.symbolLayers.length)return!0;for(const e of r.symbolLayers.items)if(\"fill\"!==e.type||i(e.material)||i(e.material.color)||\"replace\"!==e.material.colorMixMode)return!0}return!1}const qe=O({color:[0,0,0,0],opacity:0});class Te{constructor(){this.edgeMaterial=null,this.material=null,this.castShadows=!0}}function ke(e){const t=new Te;let r=!1,o=!1;for(const n of e.symbolLayers.items)if(\"fill\"===n.type&&n.enabled){const e=n.material,a=n.edges;if(s(e)&&!r){const o=e.color,a=$(e.colorMixMode);s(o)?t.material={color:[o.r/255,o.g/255,o.b/255],alpha:o.a,colorMixMode:a}:t.material={color:[1,1,1],alpha:1,colorMixMode:1},t.castShadows=n.castShadows,r=!0}s(a)&&!o&&(t.edgeMaterial=P(a,{}),o=!0)}return t.material||(t.material={color:[1,1,1],alpha:1,colorMixMode:1}),t}function ze(e,t){return(0|e)+(0|t)|0}function Fe(e,t,r,o,n=0){o===z(o)?t.isGeographic?Ie(e,r,t,n):Ae(e,r,t,n):e===r?(r.center[2]+=n,q(r.center,t,0,r.center,o,0,1)):(g(r.center,e.center[0],e.center[1],e.center[2]+n),q(r.center,t,0,r.center,o,0,1),m(r.quaternion,e.quaternion),b(r.halfSize,e.halfSize))}function Ae(e,t,r,o){Q(e,Ke),g(t.center,e.center[0],e.center[1],e.center[2]+o),T(r,t.center,Ue,z(r)),g(t.center,Ue[12],Ue[13],Ue[14]);const n=2*Math.sqrt(1+Ue[0]+Ue[5]+Ue[10]);Be[0]=(Ue[6]-Ue[9])/n,Be[1]=(Ue[8]-Ue[2])/n,Be[2]=(Ue[1]-Ue[4])/n,Be[3]=.25*n,h(t.quaternion,Be,e.quaternion),d(Be,t.quaternion);let a=0,s=0,i=0;for(const c of Ke)c[2]+=o,q(c,r,0,c,z(r),0,1),w(Ee,c,t.center),x(Ee,Ee,Be),a=Math.max(a,Math.abs(Ee[0])),s=Math.max(s,Math.abs(Ee[1])),i=Math.max(i,Math.abs(Ee[2]));g(t.halfSize,a,s,i)}function Ie(e,t,r,o){const n=F(r),a=1+Math.max(0,o)/(n.radius+e.center[2]);g(t.center,e.center[0],e.center[1],e.center[2]+o),q(t.center,r,0,t.center,z(r),0,1),m(t.quaternion,e.quaternion),d(Be,e.quaternion),g(Ee,0,0,1),x(Ee,Ee,Be),g(Ee,e.halfSize[0]*Math.abs(Ee[0]),e.halfSize[1]*Math.abs(Ee[1]),e.halfSize[2]*Math.abs(Ee[2])),S(Ee,Ee,n.inverseFlattening),M(t.halfSize,e.halfSize,Ee),S(t.halfSize,t.halfSize,a)}function Ce(e,t,r,o,n,a){if(!a||0===a.length||i(t))return null;const c=E(e.mbs,n,r,t);let l;f(Pe,c);const u=()=>{if(!l)if(l=Ke,U(We),s(e.serviceObb)){Fe(e.serviceObb,r,Ge,t,n),Q(Ge,l);for(const e of l)v(e,e,Pe),B(We,e)}else{const o=e.mbs,a=o[3];k(o,r,Ee,t),v(Ee,Ee,Pe),Ee[2]+=n;for(let e=0;e<8;++e){const t=1&e?a:-a,r=2&e?a:-a,o=4&e?a:-a,n=l[e];b(n,[Ee[0]+t,Ee[1]+r,Ee[2]+o]),B(We,n)}}};let p=1/0,m=-1/0;const h=e=>{if(\"replace\"!==e.type)return;const r=e.geometry;if(!r.hasZ)return;U(Le);const n=r.spatialReference||o,a=r.rings.reduce(((e,r)=>r.reduce(((e,r)=>(k(r,n,Ee,t),v(Ee,Ee,Pe),B(Le,Ee),Math.min(Ee[2],e))),e)),1/0);u(),K(We,Le)&&(p=Math.min(p,a),m=Math.max(m,a))};if(a.forEach((e=>h(e))),p===1/0)return null;const d=(e,t,r)=>{v(Ee,r,c),e[t+0]=Ee[0],e[t+1]=Ee[1],e[t+2]=Ee[2],t+=24,r[2]=p,v(Ee,r,c),e[t+0]=Ee[0],e[t+1]=Ee[1],e[t+2]=Ee[2],t+=24,r[2]=m,v(Ee,r,c),e[t+0]=Ee[0],e[t+1]=Ee[1],e[t+2]=Ee[2]};for(let s=0;s<8;++s)d(Oe.data,3*s,l[s]);return Z(Oe)}const Ue=p(),Be=y(),Ke=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Le=C(),We=C(),Ge=D(),Ee=[0,0,0],Oe={data:new Array(72),size:3},Pe=p();export{Te as SymbolInfo,ze as addWraparound,Me as checkPointCloudLayerCompatibleWithView,Se as checkPointCloudLayerValid,we as checkSceneLayerCompatibleWithView,be as checkSceneLayerValid,de as checkSpatialReference,ye as checkSpatialReferences,Ce as computeVisibilityObb,J as containsDraco,H as extractWkid,V as filterInPlace,oe as findFieldsCaseInsensitive,N as findIntersectingNodes,he as getCacheKeySuffix,fe as getCachedAttributeValue,_ as getClipAABB,pe as getIndexCrs,ke as getSymbolInfo,me as getVertexCrs,re as intersectBoundingBoxWithMbs,te as intersectBoundingRectWithMbs,X as objectIdFilter,Re as rendererNeedsTextures,Fe as transformObb,qe as transparentEdgeMaterial,ne as whenGraphicAttributes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{applySome as e,isSome as t}from\"../../../../../core/maybe.js\";class r{constructor(t,r){this._textureRep=t,this._textureId=r,this._textureRef=e(this._textureId,(e=>this._textureRep.acquire(e)))}dispose(){this._textureRef=e(this._textureId,(e=>{this._textureRep.release(e)}))}bind(e,r,i){if(t(this._textureRef)){const t=this._textureRef.glTexture;e.bindTexture(t,r),e.setUniform2f(i,t.descriptor.width,t.descriptor.height)}}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as t}from\"../../../../core/maybe.js\";import{RenderTexture as s}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as n}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as l}from\"../../webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{getEllipsoidMode as i}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";function u(e,a){const r=new Map,s=(e,a)=>{if(t(e))return-1;if(r.has(e.id)){const o=r.get(e.id);return o.usage|=a,o.id}const o=r.size;return r.set(e.id,{id:o,usage:a}),o},l=a.pbrMetallicRoughness,i=l&&l.baseColorFactor,c=a.emissiveFactor,u=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=u?n[0]:l?l.metallicFactor:1,p=u?n[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?33:1,f={baseColorFactor:i?[i[0],i[1],i[2],i[3]]:[1,1,1,1],baseColorTextureId:s(l&&l.baseColorTexture,h),metallicRoughnessTextureId:s(l&&l.metallicRoughnessTexture,2),metallicFactor:g,roughnessFactor:p},b={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?0:\"back\"===a.cullFace?2:\"front\"===a.cullFace?1:void 0,normalTextureId:s(a.normalTexture,4),emissiveTextureId:s(a.emissiveTexture,16),occlusionTextureId:s(a.occlusionTexture,8),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:f,wrapTextures:!1,hasParametersFromSource:u},x=[];return r.forEach((({usage:a},r)=>{const t=o(e)&&e[r]&&e[r].formats,s=t?m(t.map((({name:e,format:a})=>({name:e,encoding:d[a]})))):[];x.push({id:r,usage:a,encodings:s})})),{material:b,textures:x}}function m(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const d={ktx2:1,basis:2,dds:4,png:8,jpg:16,\"ktx-etc2\":32},g={[c.KTX2_ENCODING]:2,[c.BASIS_ENCODING]:2,[c.DDS_ENCODING]:4,\"image/png\":8,\"image/jpg\":16,\"image/jpeg\":16,\"image/ktx\":32};function p(e){const r=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,o=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,t=r&&e.materialDefinitions[r],s=o&&e.textureDefinitions[o],n=h();if(null!=t){const e=t.params;e.diffuse&&(n.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(n.doubleSided=e.doubleSided,n.cullFace=e.doubleSided?0:2),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(n.cullFace=\"none\"===e.cullFace?0:\"back\"===e.cullFace?2:1),e.transparency&&(n.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||n.metallicRoughness.baseColorFactor[3]<1)&&(n.alphaMode=\"blend\")}const l=[];if(null!=s){const e=0;!s.wrap||\"repeat\"!==s.wrap[0]&&\"repeat\"!==s.wrap[1]||(n.wrapTextures=!0);let a=1;\"rgba\"===s.channels&&(n.alphaMode=\"blend\",a|=32);const r=s.images.length-1,o=s.images[r],t=e=>e&&e.split(\"/\").pop(),i=Array.isArray(s.encoding)?m(s.encoding.map(((e,a)=>({name:t(o.href[a]),encoding:g[e]||0})))):[{name:t(o.href),encoding:g[s.encoding]||0}];l.push({id:e,usage:a,encodings:i}),n.metallicRoughness.baseColorTextureId=e}return{material:n,textures:l}}const h=()=>({alphaMode:\"opaque\",alphaCutoff:l,doubleSided:!0,cullFace:0,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function f(e,a,o,s){if(t(e)||null==e.data)return null;const n=e.data,l=!(n instanceof HTMLImageElement)||r(n.width)&&r(n.height),i=s.renderingContext.parameters.maxMaxAnisotropy,u=o&&!s.has(2)?1:i,m=l&&!e.downsampled&&u>1,d=o||!a.wrapTextures?b:x,g=I(e.encoding),p=1&e.usage?\"opaque\"===a.alphaMode?3:4:3;return new c(n,{mipmap:m,maxAnisotropy:u,encoding:g,wrap:d,components:p,noUnpackFlip:!0})}const b={s:33071,t:33071},x={s:10497,t:10497};function F(e,r,o,t,n,c){const u=c.rendererTextureUsage,m=e=>w(t,o,e&u),d=r.metallicRoughness.baseColorFactor,g=a(r.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[d[0],d[1],d[2],g],e.hasParametersFromSource=!!r.hasParametersFromSource,e.usePBR=c.usePBR,e.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],e.emissiveFactor=r.emissiveFactor,e.isIntegratedMesh=c.isIntegratedMesh,e.alphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:l,e.alphaDiscardMode=\"opaque\"===r.alphaMode?1:\"mask\"===r.alphaMode?2:3;const p=m(33);p&&(e.baseColorTexture=new s(n,p));const h=m(2);h&&(e.metallicRoughnessTexture=new s(n,h));const f=m(16);f&&(e.emissionTexture=new s(n,f));const b=m(8);b&&(e.occlusionTexture=new s(n,b));const x=m(4);x&&(e.normalTexture=new s(n,x)),e.commonMaterialParameters.slicePlaneEnabled=c.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=r.doubleSided,e.commonMaterialParameters.cullFace=r.cullFace,e.ellipsoidMode=i(c.viewSpatialReference)}function T(a){const r=a.has(1),o=a.has(0),t=e(\"disable-feature:i3s-basis\")?0:3;return 24|(r?4|t:0)|(o?t:0)}function C(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,r){if(t(e)||0===r)return null;for(let t=0;t<e.length;t++){const s=e[t];if(o(s)&&0!=(s.usage&r))return a[t].id}return null}function I(e){switch(e){case 1:return c.KTX2_ENCODING;case 2:return c.BASIS_ENCODING;case 4:return c.DDS_ENCODING;case 8:return\"image/png\";case 16:return\"image/jpeg\";case 32:return\"image/ktx\";default:return\"\"}}export{F as configureMaterial,f as createTexture,u as getMaterialAndTextures,p as getMaterialAndTexturesFromShared,T as getSupportedEncodings,C as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{clone as t}from\"../../../../core/lang.js\";import n from\"../../../../core/Logger.js\";import{decodeRGB as r,decodeIntensity as o}from\"./LEPCC.js\";const i=n.getLogger(\"esri.views.3d.layers.i3s.I3SBinaryReader\");function u(t,n,r){let o=\"\",i=0;for(;i<r;){const u=t[n+i];if(u<128)o+=String.fromCharCode(u),i++;else if(u>=192&&u<224){if(i+1>=r)throw new e(\"utf8-decode-error\",\"UTF-8 Decode failed. Two byte character was truncated.\");const a=(31&u)<<6|63&t[n+i+1];o+=String.fromCharCode(a),i+=2}else if(u>=224&&u<240){if(i+2>=r)throw new e(\"utf8-decode-error\",\"UTF-8 Decode failed. Multi byte character was truncated.\");const a=(15&u)<<12|(63&t[n+i+1])<<6|63&t[n+i+2];o+=String.fromCharCode(a),i+=3}else{if(!(u>=240&&u<248))throw new e(\"utf8-decode-error\",\"UTF-8 Decode failed. Invalid multi byte sequence.\");{if(i+3>=r)throw new e(\"utf8-decode-error\",\"UTF-8 Decode failed. Multi byte character was truncated.\");const a=(7&u)<<18|(63&t[n+i+1])<<12|(63&t[n+i+2])<<6|63&t[n+i+3];if(a>=65536){const e=55296+(a-65536>>10),t=56320+(1023&a);o+=String.fromCharCode(e,t)}else o+=String.fromCharCode(a);i+=4}}}return o}function a(e,t){const n={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<t.length;o++){const i=t[o],u=i.valueType||i.type,a=I[u];n.fields[i.property]=a(e,r),r+=m[u].BYTES_PER_ELEMENT}return n.byteCount=r,n}function s(t,n,r){const o=[];let i,a,s=0;for(a=0;a<t;a+=1){if(i=n[a],i>0){if(o.push(u(r,s,i-1)),0!==r[s+i-1])throw new e(\"string-array-error\",\"Invalid string array: missing null termination.\")}else o.push(null);s+=i}return o}function c(e,t){return new(0,m[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function f(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}function l(n,r,o){const i=null!=r.header?a(n,r.header):{byteOffset:0,byteCount:0,fields:{count:o}},u={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let s=i.byteCount;for(let a=0;a<r.ordering.length;a++){const n=r.ordering[a],o=t(r[n]);if(o.count=i.fields.count,\"String\"===o.valueType){if(o.byteOffset=s,o.byteCount=i.fields[n+\"ByteCount\"],\"UTF-8\"!==o.encoding)throw new e(\"unsupported-encoding\",\"Unsupported String encoding.\",{encoding:o.encoding})}else{if(!h(o.valueType))throw new e(\"unsupported-value-type\",\"Unsupported binary valueType\",{valueType:o.valueType});{const e=A(o.valueType);s+=s%e!=0?e-s%e:0,o.byteOffset=s,o.byteCount=e*o.valuesPerElement*o.count}}s+=o.byteCount,u.entries[n]=o}return u.byteCount=s-u.byteOffset,u}function b(t,n,r){if(n!==t&&i.error(`Invalid ${r} buffer size\\n expected: ${t}, actual: ${n})`),n<t)throw new e(\"buffer-too-small\",\"Binary buffer is too small\",{expectedSize:t,actualSize:n})}function d(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}function y(e,t){const n=a(e,t&&t.header);let r=n.byteCount;const o={isDraco:!1,header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,u=null!=i.vertexCount?i.vertexCount:i.count;for(const a of t.ordering){if(!t.vertexAttributes[a])continue;const e={...t.vertexAttributes[a],byteOffset:r,count:u},n=p[a]?p[a]:\"_\"+a;o.vertexAttributes[n]=e,r+=A(e.valueType)*e.valuesPerElement*u}const s=i.faceCount;if(t.faces&&s){o.faces={};for(const e of t.ordering){if(!t.faces[e])continue;const n={...t.faces[e],byteOffset:r,count:s};o.faces[e]=n,r+=A(n.valueType)*n.valuesPerElement*s}}const c=i.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&c){o.featureAttributes={};for(const e of t.featureAttributeOrder){if(!t.featureAttributes[e])continue;const n={...t.featureAttributes[e],byteOffset:r,count:c};o.featureAttributes[e]=n;r+=(\"UInt64\"===n.valueType?8:A(n.valueType))*n.valuesPerElement*c}}return b(r,e.byteLength,\"geometry\"),o.byteCount=r-o.byteOffset,o}function g(e,t){return!(!e||!e.compressedAttributes||\"draco\"!==e.compressedAttributes.encoding)?v(e.compressedAttributes.attributes):e?d(e):w(t)}function w(e){const t={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const n of e.ordering)if(e.vertexAttributes[n])switch(n){case\"position\":break;case\"normal\":t.normal=!0;break;case\"color\":t.color=!0;break;case\"uv0\":t.uv0=!0;break;case\"region\":t.uvRegion=!0}return e.featureAttributes&&e.featureAttributeOrder&&(t.featureIndex=!0),t}function v(e){const t={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const n of e)switch(n){case\"position\":break;case\"normal\":t.normal=!0;break;case\"uv0\":t.uv0=!0;break;case\"color\":t.color=!0;break;case\"uv-region\":t.uvRegion=!0;break;case\"feature-index\":t.featureIndex=!0}return t}const p={position:\"position\",normal:\"normal\",color:\"color\",uv0:\"uv0\",region:\"uvRegion\"};function C(t,n,u){if(\"lepcc-rgb\"===t.encoding)return r(n);if(\"lepcc-intensity\"===t.encoding)return o(n);if(null!=t.encoding&&\"\"!==t.encoding)throw new e(\"unknown-attribute-storage-info-encoding\",\"Unknown Attribute Storage Info Encoding\");t[\"attributeByteCounts \"]&&!t.attributeByteCounts&&(i.warn(\"Warning: Trailing space in 'attributeByteCounts '.\"),t.attributeByteCounts=t[\"attributeByteCounts \"]),\"ObjectIds\"===t.ordering[0]&&t.hasOwnProperty(\"objectIds\")&&(i.warn(\"Warning: Case error in objectIds\"),t.ordering[0]=\"objectIds\");const a=l(n,t,u);b(a.byteOffset+a.byteCount,n.byteLength,\"attribute\");const d=a.entries.attributeValues||a.entries.objectIds;if(d){if(\"String\"===d.valueType){const e=a.entries.attributeByteCounts,t=c(n,e),r=f(n,d);return s(e.count,t,r)}return c(n,d)}throw new e(\"bad-attribute-storage-info\",\"Bad attributeStorageInfo specification.\")}const m={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},I={Float32:(e,t)=>new DataView(e,0).getFloat32(t,!0),Float64:(e,t)=>new DataView(e,0).getFloat64(t,!0),UInt8:(e,t)=>new DataView(e,0).getUint8(t),Int8:(e,t)=>new DataView(e,0).getInt8(t),UInt16:(e,t)=>new DataView(e,0).getUint16(t,!0),Int16:(e,t)=>new DataView(e,0).getInt16(t,!0),UInt32:(e,t)=>new DataView(e,0).getUint32(t,!0),Int32:(e,t)=>new DataView(e,0).getInt32(t,!0)};function h(e){return m.hasOwnProperty(e)}function A(e){return h(e)?m[e].BYTES_PER_ELEMENT:0}export{l as createAttributeDataIndex,g as createGeometryDescriptor,v as createGeometryDescriptorForDraco,d as createGeometryDescriptorFromDefinition,w as createGeometryDescriptorFromSchema,y as createGeometryIndexFromSchema,f as createRawView,c as createTypedView,A as getBytesPerValue,h as isValueType,C as readBinaryAttribute,a as readHeader,s as readStringArray,I as valueType2ArrayBufferReader,m as valueType2TypedArrayClassMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this.sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this.sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this.sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{b as s}from\"../../../../chunks/vec4f64.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=s([0,0,0,-1]),this.imModificationImpact=4}}class i extends t{constructor(s,t,i,e,h,o,r,c,n,a){super(s,i),this.index=t,this.childCount=e,this.level=h,this.resources=o,this.version=r,this.lodMetric=c,this.maxError=n,this.numFeatures=a,this.failed=!1,this.hasModifications=!1,this.cacheState=0,this.vertexCount=0,this.memory=0}}class e{constructor(s,t,i,e){this.nodeHasLOD=s,this.isChosen=t,this.lodLevel=i,this.version=e}}export{i as Node,t as NodeBase,e as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{l as n}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{NodeBase as a,Node as d,NodeTraversalState as l}from\"./I3SNode.js\";import{addWraparound as h}from\"./I3SUtil.js\";import{clone as u}from\"../../support/orientedBoundingBox.js\";class c{constructor(e,t,i,s,r){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=r,this.useAsHole=0,this.filterImpact=2}}class g{constructor(e,t,i,r,n,o,a,d,l,h,u,c,g,m){this.streamDataController=i,this.viewportQueries=r,this.logger=n,this.holeFilling=o,this._isLoaded=a,this._isReloading=d,this._isSelected=l,this._enable=h,this._needsUpdate=u,this._canRequest=c,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=0,this.lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=b(0),this._visibilityCacheVersion=b(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new f,this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this.init(t)}init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=1;break;case\"maxScreenThresholdSQ\":this.lodMetric=1,this.lodConversion=M}this.addPage(N(this.rootIndex,this.nodesPerPage),e.rootPage)}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this.makeRefNode(new a(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this.addNode(t,0)}}loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._loading.delete(e),this.addPage(e,t)})).catch((t=>{this._loading.delete(e),r(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}addPage(e,t){for(let n=this._nodePages.length;n<e;n++)this._nodePages[n]=null;const i=[],s=[],r=t.nodes.map(((t,r)=>{const a=i.length,l=t.children?t.children.length:0;s.push(-1);for(let e=0;e<l;e++)i.push(t.children[e]);const h=`${t.index}`,g=u(t.obb),m=o([g.center[0],g.center[1],g.center[2],n(g.halfSize)]),f=t.mesh&&t.mesh.attribute,_=t.mesh&&t.mesh.geometry,b=t.mesh&&t.mesh.material,p={hasSharedResource:!1,hasFeatureData:!!_,attributes:f&&null!=f.resource?`${f.resource}`:null,geometry:_&&null!=_.resource?`${_.resource}`:null,texture:b&&null!=b.resource?`${b.resource}`:null,geometryDefinition:_?_.definition:-1,materialDefinition:b?b.definition:-1},y=new d(h,e*this.nodesPerPage+r,m,l,0,p,this.lastUpdate,this.lodMetric,this.lodConversion(t.lodThreshold),_?_.featureCount:null);return y.serviceObb=g,y.visibilityObb=this._computeVisibilityObb(y),y.vertexCount=_?_.vertexCount:0,new c(a,l,v(this._visibilityCacheVersion),null,y)}));this._nodePages[e]={nodes:r,children:i,parents:s},this.nodeCount+=r.length,this.updateParentsAndLevel()}updateParentsAndLevel(){const t=new Array,i=(i,s,r)=>{const n=this.getPage(i);if(e(n)){const o=x(i,this.nodesPerPage);n.parents[o]=s;const a=n.nodes[o].node;e(a)&&(a.level=r,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),r=this.getNode(s);if(e(r))for(let e=0;e<r.childCount;e++){i(this.getChildIndex(r,e),s,r.level+1),this._maxLevel=Math.max(this._maxLevel,r.level+1)}}}getPage(e){return this._nodePages[N(e,this.nodesPerPage)]}getNodeInternal(e){const i=this.getPage(e);return t(i)?null:i.nodes[x(e,this.nodesPerPage)]}addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const r=this.getParent(s),n=e(r)?r.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?n+1:n);const{lodMetric:a,maxError:l}=w(t.lodSelection),h=i(this.getNodeInternal(s));return h.node=new d(t.id,s,o(t.mbs),h.childCount,n,t.resources,t.version,a,l,t.numFeatures),t.obb&&(h.node.serviceObb=u(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}makeRefNode(t,i){const s=this._nodePages[0],r=s.nodes.length;return s.nodes.push(new c(0,0,v(this._visibilityCacheVersion),t,null)),this.nodeCount++,s.parents.push(i),t.renderMbs[3]=-1,e(t.serviceObbInRenderSR)&&(t.serviceObbInRenderSR.halfSize[0]=-1),r}populateChildren(e,t){const s=i(this.getNodeInternal(e)),r=i(this.getPage(e));s.childOffset=r.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this.makeRefNode(t[i],e);r.children.push(s)}}getNode(t){const i=this.getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this.forAllNodes(((s,r)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=r)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this.getPage(e.index);if(t(s))return-1;const r=s.nodes[x(e.index,this.nodesPerPage)];return s.children[r.childOffset+i]}getParentIndex(t){const i=this.getPage(t);return e(i)?i.parents[x(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this.getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}invalidateVisibilityCache(){this._visibilityCacheVersion=b(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this.getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=v(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this.getNodeInternal(t);e(i)&&(_(i),this.invalidateNodeVisibilityCacheInternal(i))}invalidateGeometryVisibility(t){const i=this.getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,i.node.renderMbs[3]=-1,e(i.node.serviceObbInRenderSR)&&(i.node.serviceObbInRenderSR.halfSize[0]=-1))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}isNodeVisible(i){const s=this.getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(!y(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,r=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&2===s.filterImpact){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):0}const n=e(i)&&1===s.filterImpact,o=!(e(i)&&2===i.imModificationImpact)&&(!r||this.viewportQueries.isNodeVisible(r))&&!n;return s.visibilityCache=p(o,this._visibilityCacheVersion),o}return P(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this.getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||4!==i.node.imModificationImpact))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,r,n,o,a){const d=this.getPage(s);if(t(d)||0===r.childCount)return;const l=r.childOffset+r.childCount,h=new Array;for(let t=r.childOffset;t<l;++t){const i=d.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,n),a.coverage+=o):this._traverseCoverage(t,e,n+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this.getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(y(i.useAsHole,this._version))return P(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const r=s.delta*s.coverage<=.5;return i.useAsHole=p(r,this._version),r}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=b(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this.forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=4,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this.forAllNodes((t=>{if(e(t)){t.filterImpact=2;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,r,n){if(!this._dirty)return;this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s,this._missing),m.clear();let o=!0;const a=new C,d=new C,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,c,g)=>{if(t(c)){let e=this.entryPriority(u);e===1/0&&(e=this.entryPriority(g));const t=N(u,this.nodesPerPage);return m.set(t,Math.max(e,m.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=c.node;if(this._updateNodeFeatureEstimate(f,d),t(f)){const e=this.entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),m.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=i(this.getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<c.childCount;t++){const i=_.children[c.childOffset+t],s=this.getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(m.set(i,this.entryPriority(i)),this._prefetch.push(i))}if(f.failed||!f.resources.hasFeatureData)return;if(h.add(f.id),this._isLoaded(u)){if(a.known+=f.memory,++a.knownNodes,this._isSelected(f)?c.childCount>0&&(o=!1):(a.unremoved+=f.memory,o=!1),this._needsUpdate(f)){const e=this.entryPriority(u);m.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(f.memory&&(a.known+=f.memory,++a.knownNodes),!this._isSelected(f))return void(this._isReloading(u)&&this._updates.remove.push(u));if(c.childCount>0&&(o=!1),f.memory?(a.missing+=f.memory,a.known+=f.memory,++a.knownNodes):++a.missingNodes,s.indexOf(f.index)>=0)return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this.entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==f.index)));if(!r.done&&this._enable(f))return void r.madeProgress();const v=this.entryPriority(u);m.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&n&&e(f)&&4===f.imModificationImpact&&l.push(u)};this.traverseVisible(u);const c=this._updates.add;c.length>0&&this.layerHasModifications&&(l.length>0&&n(l),c.filterInPlace((e=>{const i=this.getNodeInternal(e),s=t(i)||t(i.node)||2!==i.node.imModificationImpact;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>m.get(e)-m.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=m.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>m.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>m.get(e)-m.get(t))),this._updates.update.sort(((e,t)=>m.get(e)-m.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,m.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,r=t,n=i,o=10;for(;o--;){const i=new C;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;n=s,s=.5*(s+r)}else r=s,s=.5*(s+n)}return this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>m.get(e)-m.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this.loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&y(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),r=this.viewportQueries.hasLOD(e);let n=!0;if(r){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);n=e&&s>e.lodLevel}else n=s>0}else n=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=n,i.version=p(!0,this._version),i):(i=new l(r,n,s,p(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this.getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const n=s.id,o=this.urlPrefix+n,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(n,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this.addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),r(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,r=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,r=new a(`${t.id}`,t.mbs);return r.serviceObb=s,r.visibilityObb=this._computeVisibilityObb(r),r},n=Array.isArray(t.children)?t.children.map(r).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:n,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this.forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}entryPriority(i){const s=this.getNodeInternal(i),r=this.getParentIndex(i);if(t(s)||r<0&&null==s.node)return r<0?1/0:this.entryPriority(r);let n=0;if(s.node&&r>=0){const e=this._nodeTraversalState.get(r);null!=e&&(n=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-n*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this.getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,r,n){if(r.node&&0===r.childCount)return void(this.isGeometryVisible(t)&&n(t,r,s));if(!this.isNodeVisible(t))return;if(n(t,r,s),null==r.node)return;const o=this.nodeTraversalState(r.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this.getPage(t));for(let i=0;i<r.childCount;i++){const s=a.children[r.childOffset+i],o=this.getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,n):n(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,r=this.getNodeInternal(s);e(r)&&this._traverseChildren(s,r,i)}_traverseChildren(i,s,r){const n=this.getPage(i);if(t(n))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=n.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&r(s.node)&&this._traverseChildren(i,s,r)}}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(e){this.forAllNodes(_),this.viewportQueries.updateElevationInfo(e)}forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this.addNode(e,t)}}}const m=new Map;class f{constructor(){this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e,t){this.add.clear(),this.update.clear(),this.cancel=e,this.missing=t}}function _(t){e(t.node)&&(t.node.renderMbs[3]=-1,e(t.node.serviceObbInRenderSR)&&(t.node.serviceObbInRenderSR.halfSize[0]=-1)),e(t.ref)&&(t.ref.renderMbs[3]=-1,e(t.ref.serviceObbInRenderSR)&&(t.ref.serviceObbInRenderSR.halfSize[0]=-1))}function v(e){return h(e,-2)}function b(e){return h(e,2)}function p(e,t){return t+(e?1:0)}function y(e,t){return(-2&e)===t}function P(e){return 1==(1&e)}function N(e,t){return 0===t?0:e/t|0}function x(e,t){return 0===t?e:e%t}const I=[[\"maxScreenThreshold\",1],[\"screenSpaceRelative\",2],[\"removedFeatureDiameter\",3],[\"distanceRangeFromDefaultCamera\",4]];function w(e){if(e)for(let t=0;t<e.length;t++)for(const i of I)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:0,maxError:0}}class C{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function M(e){return Math.sqrt(e*(4/Math.PI))}export{g as I3SIndex,w as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import o from\"../../../../core/PooledArray.js\";class s{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,o,s){this._maxLodLevel=s.maxLodLevel,this._index=o,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const o=this._index.nodeTraversalState(i);return!!this.isChosenMaxLOD(o)||!!o.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,o=Math.max(0,Math.floor(10*(i-1)));t.clear(),this._lodGlobalHandling(this._index.rootNode,o,!1);const s=t.length;this._removeNodes(t,e);const d=t.length<s;return 0!==t.length&&(this._lodGlobalDirty=!0),t.clear(),d}_lodGlobalHandling(o,s,d){if(e(o))return!1;const l=o.index,n=this._index,r=this.layerView,a=n.nodeTraversalState(o),h=this.isChosenMaxLOD(a),u=r.isNodeLoaded(l),c=r.nodeCrossfadingEnabled;if(c&&u&&h){const e=!d&&this.hasNoVisibleChildren(o);r.fadeNode(l,0,!e)}const x=u&&(!r.isNodeFullyFadedIn||r.isNodeFullyFadedIn(l));if(u&&(r.updateNodeState(l,h?1:0),h))return x&&this._removeChildrenRecursive(o),x;const _=o.childCount>0;let L=_;if(_)for(let e=0;e<o.childCount;e++){const t=n.getChildIndex(o,e),l=n.getNode(t);if(i(l)){!(!n.isGeometryVisible(t)||this._lodGlobalHandling(l,s,d||x))&&this._isNodeInScaleBounds(l)&&(L=!1)}else n.isNodeVisible(t)&&(L=!1)}const N=u&&!h&&(L||t.length<s);N&&t.push(l),!c||N||!u||d||L||r.fadeNode(l,0,!1);const b=!o.resources.hasFeatureData;return L||x&&!N||b}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&t.push(e.index),!0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(!this.layerView.isNodeLoaded(e.index)||(i=!1,!1)))),i}_childrenRequireLoading(e){let i=!1,o=!0;return this._index.traverseChildren(e,(e=>{if(!o||!this._index.isNodeVisible(e.index))return!1;const s=this._index.nodeTraversalState(e);return this.isChosenMaxLOD(s)&&this._index.isGeometryVisible(e.index)&&(i=!0),!this.layerView.isNodeLoaded(e.index)||(o=!1,!1)})),o&&i}isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const t=new o({deallocator:null});export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}load(e,t,r){return this.streamDataController.request(e,t,r)}loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this.load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this.loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=p(this.geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this.loadGeometry(r.resources.geometry,u,i)):null,m=r.resources.hasSharedResource?await this.loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,x=h&&h.material,A=h&&h.textures,$=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this.loadFeatureData($,i):null,j=w?y(T):g(x),I=o(j)&&b(T),U=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let S=null,q=null;if(d){S=t(await d);const e=D(this.defaultGeometrySchema,m);q=f(a,e)}const v=U?t(await U):null,P=s?t(await s):{},k=P?{attributeData:P,loadedAttributes:this.requiredAttributes}:null;return n(j)?{geometryData:j,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:n(I)?{pointData:I,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:Promise.reject()}static addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this.load(r,\"json\",t).then((e=>(h.fixTextureEncodings(e),h.addAbsoluteHrefTexture(e,r),e)))}loadTexture(e,t,r,i,o,n){let s=!1;return 4===o||1===o||2===o?this.load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this.load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this.loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this.load(r,\"json\",t)}loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this.load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function y(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function D(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function p(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{createAbortController as e,onAbortOrThrow as t,always as r}from\"../../../../core/promiseUtils.js\";class s{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(s,l,o){const a=e(),n=t(o,(()=>a.abort())),u={signal:a.signal,query:{token:this.apiKey}},i=this.requester.request(s,l,u),c={response:i,abortController:a,abortHandle:n};return this.activeRequests.add(c),r(i,(()=>{var e;c.abortController=null,null==(e=c.abortHandle)||e.remove(),c.abortHandle=null,this.activeRequests.delete(c)})),i}cancelAll(){this.activeRequests.forEach((e=>{var t,r;null==(t=e.abortController)||t.abort(),e.abortController=null,null==(r=e.abortHandle)||r.remove()})),this.activeRequests.clear()}}export default s;export{s as I3SStreamDataController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{h as s,i,l as r,a as n,d as a,p as o,f as h,b as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as _,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as M}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as v,extractExpressionInfo as D}from\"../graphics/featureExpressionInfoUtils.js\";import{transformObb as C,intersectBoundingBoxWithMbs as P}from\"./I3SUtil.js\";import{create as R,isVisible as S}from\"../../support/orientedBoundingBox.js\";const E=1e5;class L{constructor(t,e,s,i,r,n,a,o={}){this.indexSR=t,this._renderCoordsHelper=e,this.extent=r,this.elevationProvider=n,this.options=o,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this.screenspaceErrorBias=o.screenspaceErrorBias||1,this.progressiveLoadFactor=o.progressiveLoadFactor||1,this.updateCamera(s,i),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this.tmpPoint=f(0,0,0,t)}updateElevationInfo(t){null!=t?(this._elevationContext=M.fromElevationInfo(t),this._elevationContext.updateFeatureExpressionInfoContext(v(D(t,!1)))):this._elevationContext=null}updateCamera(t,e){this._useFrustumCulling=e,e&&_(t.viewMatrix,t.projectionMatrix,this._frustum),this._screenSizeFactor=1/(t.perScreenPixelRatio/2),this._camPos=t.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(t){this._poi=t}updateScreenSpaceErrorBias(t){const e=this.screenspaceErrorBias;return this.screenspaceErrorBias=t,e}updateExtent(t){this.extent=t}getRenderMbs(t){const e=t.renderMbs;return e[3]<0&&(u(e,t.mbs),this._elevationContext&&e[3]<E&&(this.tmpPoint.x=e[0],this.tmpPoint.y=e[1],this.tmpPoint.z=e[2],e[2]=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)),p(e,this.indexSR,e,this.engineSR)),e}getVisibilityObb(s){if(t(s.visibilityObb))return s.visibilityObb;const i=s.serviceObb;return e(i)||i.halfSize[0]<0?void 0:(s.serviceObbInRenderSR=this._computeRenderObb(i,s.serviceObbInRenderSR,s.mbs[3]),s.serviceObbInRenderSR)}_computeRenderObb(t,s,i){if(e(s)&&(s=R()),s.halfSize[0]<0){let e=0;this._elevationContext&&i<E&&(this.tmpPoint.x=t.center[0],this.tmpPoint.y=t.center[1],this.tmpPoint.z=t.center[2],e=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)-t.center[2]),C(t,this.indexSR,s,this.engineSR,e)}return s}isNodeVisible(e){const s=this.getRenderMbs(e);if(!this.isMBSinExtent(s))return!1;if(!this._useFrustumCulling)return!0;const i=this.getVisibilityObb(e);return t(i)?S(i,this._frustum):b(this._frustum,x(s))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const s=e.geometryObb;return t(s)?S(s,this._frustum):this.isNodeVisible(e)}isMBSinExtent(t){return!this.extent||0!==P(this.extent,t)}screenSpaceDiameterMbs(t,e){const i=this.getRenderMbs(t),r=Math.sqrt(s(i,this._camPos)),n=r-i[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:e/n*this._screenSizeFactor}calcCameraDistance(t){return this.calcCameraDistanceToCenter(t)-this.getRenderMbs(t)[3]}calcCameraDistanceToCenter(t){const e=this.getRenderMbs(t),s=i(e,this._camPos);return this._updateMinMaxDistance(s),s}calcAngleDependentLoD(t){const e=this.getRenderMbs(t),s=e[3],n=(Math.abs(e[0]*(e[0]-this._camPos[0])+e[1]*(e[1]-this._camPos[1])+e[2]*(e[2]-this._camPos[2]))/r(e)+s)/i(e,this._camPos);return Math.min(1,n)}hasLOD(t){return 0!==t.lodMetric}getDistancePlanarMode(t,e){const s=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],n=s*s+i*i,a=e[3];if(n<=a*a)return Math.abs(r);const o=Math.sqrt(n)-a;return Math.sqrt(r*r+o*o)}getDistanceGlobeMode(t,e){const m=r(e),u=r(t)-m;n(this._tmp0,t,a(t,e)/o(t));const p=s(e,this._tmp0),l=e[3];if(p<=l*l)return Math.abs(u);{const s=n(this._tmp0,e,1/m),o=m,p=l*l/2/o,d=n(this._tmp1,s,o-p),_=t,b=h(this._tmp2,_,d),x=h(this._tmp2,b,n(this._tmp3,s,a(s,b))),f=c(this._tmp2,d,n(this._tmp2,x,l/r(x)));let g=i(_,f);if(u>=2e5){const t=h(this._tmp1,_,f);let e=a(t,s)/r(t);e<.08&&(e=1e-4),g/=e}return g}}getDistance(t,e){return this.engineSR===l(this.engineSR)?this.getDistanceGlobeMode(t,e):this.getDistancePlanarMode(t,e)}_updateMinMaxDistance(t){t>0?(this.minDistance=Math.min(this.minDistance,t),this.maxDistance=Math.max(this.maxDistance,t)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-t))}getLodLevel(t){if(0===t.lodMetric||!t.resources.hasFeatureData)return 0;if(0===t.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this.progressiveLoadFactor<1){const e=this.progressiveLoadFactor*this.screenspaceErrorBias,s=this.screenspaceErrorBias;return this.evaluateLODmetric(t,e)?this.evaluateLODmetric(t,s)?2:1:0}return this.evaluateLODmetric(t,this.screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(t,e){switch(t.lodMetric){case 2:{const s=this.getRenderMbs(t),i=this.getDistance(this._camPos,s),r=2*i/this._screenSizeFactor,n=i+s[3];return this._updateMinMaxDistance(n),t.maxError*e<=r}case 1:{let s=this.screenSpaceDiameterMbs(t,t.mbs[3]*e);return this.options.angleDependentLoD&&(s*=this.calcAngleDependentLoD(t)),s<t.maxError}case 3:return this.screenSpaceDiameterMbs(t,t.maxError)*e<10;case 4:return this.calcCameraDistance(t)>t.maxError*e}return!1}distToPOI(t){const e=this.getRenderMbs(t);return i(e,this._poi)-e[3]}distCameraToPOI(){return i(this._camPos,this._poi)}}export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import a from\"../../../core/Logger.js\";import{isSome as r,isNone as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{createAbortController as h,isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as m,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import f from\"../../support/PromiseQueue.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as w}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import N from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import v from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as C}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as D,getIndexCrs as L,findIntersectingNodes as S}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import V from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{projectToBoundingBox as I}from\"../../../views/3d/support/extentUtils.js\";import{maxDownloadSlots as A}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as F,scaleBoundsPredicate as P}from\"../../../views/support/layerViewUtils.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";const O=a.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),M=100,q=2,G=1e4,Q=1e-4,j=1.2,T=500,B=1.5;let E=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(2);return new C(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(3);return new C(e,this.layer.apiKey)}get crsVertex(){return D(this.layer)}get crsIndex(){return L(this.layer)}get rootNodeVisible(){if(r(this._index)){const e=this._index.rootNode;if(r(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}initialize(){this._disableMemCache=!this.layerView.loadCachedGPUData||!this.layerView.addCachedGPUData,this._lodHandling=new N(this.layerView);const e=this.layerView.i3slayer;this.layer=e,this._defaultGeometrySchema=e.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in e&&(this._fields=e.fields,this._attributeStorageInfo=e.attributeStorageInfo),this.addResolvingPromise(Promise.all([this.layer.indexInfo,this.layer.when(),this.layerView.when()]).then((([t])=>{var i;if(this.destroyed||!this.layerView||this.layerView.destroyed)return;const s=this.layerView.view;this._setClippingArea(s.clippingArea);const a=this.layerView.view.resourceController;this._handles.add([u(s,\"pointsOfInterest.focus.renderLocation\",(e=>this._pointOfInterestChanged(e))),a.memoryController.events.on(\"quality-changed\",(()=>this._setCameraDirty())),u(this.layerView,\"suspended\",(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=a.scheduler.registerIdleStateCallbacks(t,i)})),b(this.layerView.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),this.watch(\"uncompressedTextureDownsamplingEnabled\",(()=>this.restartNodeLoading())),this.watch([\"featureTarget\",\"fixedFeatureTarget\"],(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),s.state.watch(\"contentCamera\",(()=>this._setCameraDirty())),this.layer.watch(\"elevationInfo\",(()=>this._elevationInfoChanged())),this.layer.watch([\"minScale\",\"maxScale\"],(()=>this._scaleBoundsChanged())),this.layerView.watch(\"lodFactor\",(()=>this._setCameraDirty())),this.layerView.watch(\"availableFields?\",(()=>this._requiredFieldsChange())),this.layerView.watch(\"holeFilling\",(e=>r(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new V(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,s.elevationProvider,this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new w(e,t,this.indexStreamController,this._viewportQueries,O,this.layerView.holeFilling,(e=>this.layerView.isNodeLoaded(e)),(e=>this.layerView.isNodeReloading(e)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,1)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(e=>this.layerView.computeVisibilityObb?this.layerView.computeVisibilityObb(e):null),null!=(i=this.layerView)&&i.computeNodeFiltering?e=>this.layerView.computeNodeFiltering(e):void 0);const d=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(d),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;r(t)&&i&&i.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);r(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,H.prune(),r(k)&&(k.remove(),k=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=z(e,i),a=z(t,i);return s>=0&&a>=0?{index:s,name:t[a].name,field:t[a],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();R(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();I(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){r(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),r(this._index)&&(this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),r(this._viewportQueries)&&r(this._index)&&(this._viewportQueries.updateExtent(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this.notifyChange(\"rootNodeVisible\"),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(d(i))return;const s=i.rootNode;if(d(s))return;const a=this._elevationUpdateNodes;a.clear(),S(e,t,s,this.crsIndex,i,(e=>a.push(e.index))),a.forAll((e=>{i.invalidateBoundingVolumeCache(e),e===s.index&&this.notifyChange(\"rootNodeVisible\")})),a.length&&this.restartNodeLoading()}getParentIndex(e){return r(this._index)&&this._index.getParentIndex(e)}_elevationInfoChanged(){r(this._index)&&this._index.updateElevationInfo(this.layer.elevationInfo),this._setCameraDirty()}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.scale,e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t,i){const s=this._index;if(d(s))return;const a=s.rootNode;!d(a)&&p(t,i,$,this.crsIndex)&&this._loadedNodeScales.forEach(((t,i)=>{const a=s.getNode(i);r(a)&&m($,a.mbs)&&this._loadedNodeScales.set(i,e)}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=F(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return d(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return r(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||d(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?O.error(\"Error during processing: \"+i):50===this._errorCount&&O.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){if(this._restartNodeLoading&&this._startNodeLoading(),null!=this._nodeLoader&&!d(this._index)){for(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t)));!e.done&&this._idleQueue.process();)e.madeProgress();e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating()}}_processIndex(e){if(d(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update([...this._loadingNodes.keys()],e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(d(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.isGraphics3D||d(this._index)||d(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>T){if(this._featureLOD<=Q)return;this._featureLOD/=B,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=G||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,a=this._index.checkFeatureTarget(t,s);a!==s&&(this._featureLOD=a/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*j||e&&i.estimate>t))return;if(this._featureLOD<=Q)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(G,Math.max(Q,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(d(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);r(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,0)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(d(this._index))return!1;let i=(this._isIdle?M:q)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());r(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(d(a)||2!==a.cacheState&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=q)&&(this._downloadingCount<A&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(r(this._index)?this._index.getIndexMissing():0)+3*(r(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.length>0||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||d(this._index)||d(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return r(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){r(this._index)&&this._index.invalidateNodeVisibilityCache(e)}updateBoundingVolume(e){r(this._index)&&this._index.invalidateBoundingVolumeCache(e)}invalidateGeometryVisibility(e){r(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){r(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){if(r(this._index)){const e=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(e)}this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e)||!this._isNodeInScaleBounds(e))&&(!!r(this._index)&&this._index.isGeometryVisible(e.index))}_shouldDropNode(e){if(d(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||d(e)||d(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:!this.isMeshPyramid};this._nodeLoader=new v(this.layer,this.dataStreamController,O,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,1)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(d(t)||d(this._viewportQueries))return!1;H.clear(),this.layerView.getLoadedNodeIndices(H);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return H.filterInPlace((e=>{const i=t.getNode(e);return d(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),H.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(H,e,0),!(i&&this.lodDropFactor<1)&&(0===H.length||(H.clear(),!1))}markNodeToRemove(e){H.push(e)}removeMarkedNodes(){this._removeNodes(H,U,0)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(r(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),a=this._index;1===i&&this.layerView.nodeFadeoutEnabled&&r(a)&&a.isGeometryVisible(s)?this.layerView.fadeNode(s,1,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=h();this._updatingNodes.set(e.index,t);(R(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!l(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void O.error(\"already loading node \"+e.index);const t=h();this._loadingNodes.set(e.index,t);const i=()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()};this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then(i).catch((e=>{if(i(),!l(e))throw e}))}_loadAndAddNode(e,t){return 1===e.cacheState?this._loadUncached(e,t):this._loadCached(e,t).then((t=>{t||(e.cacheState=1,r(this._index)&&this._index.updates.add.push(e.index))})).catch((t=>{if(!l(t))throw e.cacheState=1,t}))}_enableFromGPUCache(e,t){if(this._disableMemCache||d(this._index))return!1;if(0===t&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return r(t)&&r(t.attributeInfo)&&R(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){r(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}_loadCached(e,t){if(this._enableFromGPUCache(e,1))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(d(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=2})).catch((t=>{if(!l(t))throw O.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,r(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&r(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=this.layerView.view.basemapTerrain.getScale(this._tmpPoint);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=F(this.layer);return P(t,i,s)}updateStats(e){e.index=r(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),r(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){r(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),r(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;r(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([c({readOnly:!0})],E.prototype,\"isMeshPyramid\",null),e([c({readOnly:!0})],E.prototype,\"isGraphics3D\",null),e([c({readOnly:!0})],E.prototype,\"indexStreamController\",null),e([c({readOnly:!0})],E.prototype,\"dataStreamController\",null),e([c({readOnly:!0})],E.prototype,\"crsVertex\",null),e([c({readOnly:!0})],E.prototype,\"crsIndex\",null),e([c()],E.prototype,\"screenSizeFactor\",void 0),e([c()],E.prototype,\"featureTarget\",void 0),e([c()],E.prototype,\"fixedFeatureTarget\",void 0),e([c()],E.prototype,\"layerView\",void 0),e([c()],E.prototype,\"layer\",void 0),e([c({})],E.prototype,\"updating\",void 0),e([c({})],E.prototype,\"updatingProgress\",void 0),e([c({readOnly:!0})],E.prototype,\"leavesReached\",void 0),e([c({constructOnly:!0})],E.prototype,\"scaleVisibilityEnabled\",void 0),e([c({readOnly:!0,dependsOn:[]})],E.prototype,\"rootNodeVisible\",null),E=e([_(\"esri.layers.graphics.controllers.I3SOnDemandController\")],E);const H=new o({deallocator:null});let k;function R(e,t){return r(e)&&e.length===t.length&&e.every((e=>z(t,e.name)>=0))}function z(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const K={factorIM:.2,factor3dObject:.05,distancePenalty:10},$=y();var J=E;export default J;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{splitIntoChunks as t,remove as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{createAbortController as m,whenOrAbort as u}from\"../../../../core/promiseUtils.js\";import{formatNumber as g}from\"../../../../intl/number.js\";import{getMaximumQuerySize as b,queryAllJSON as p}from\"../../../../layers/support/featureQueryAll.js\";const f=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class y{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=m(),this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=v,this.memCache=t.getMemCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this.fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const t=this.interactiveEditingSessions,i=new O(e,{rollback:()=>{s(t,i),0===t.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return t.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await u(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this.getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this.queryOverridesFromAssociatedLayer(o,d,s);c(h)||this.processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this.cacheValue(e,t,s)}cacheValue(e,t,s){this.memCache.put(this.getCacheKey(e,t),s,this.memCacheValueSize(s))}getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this.fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}fromCache(e,t){const s=this.fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this.getCacheKey(e,t);return this.memCache.get(i)}fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}getCacheKey(e,t){return`${e}-${t}`}async queryOverridesFromAssociatedLayer(e,s,r){if(0===e.length||0===s.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this.logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...s],n.cacheHint=!0,n.objectIds=e;const o=b(a),c=e.length>o?t(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(p(a,t,{signal:r}))})):[i(p(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${g(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,f.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this.cacheValue(e,i,a)}}}memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async fetchChangedObjectIds(t){var s,i,a;const n=this.layer;if(await n.load({signal:t}),this.changedObjectIds.clear(),c(n.associatedLayer)||null==(s=n.associatedLayer.capabilities)||null==(i=s.operations)||!i.supportsChangeTracking)return;const o=this.getFetchChangedObjectIdsServerGen();if(c(o))return null;const d=n.associatedLayer.layerId,m=await r(e(`${n.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${d}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:d,serverGen:o}])},timeout:j,signal:t})),u=m.ok&&null!=(a=m.value.data)&&a.edits?h(m.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(u)){const e=Math.min(this._maximumNumberOfEditOVerrides,u.length);e<u.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=u.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class O{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=0}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=2,this.options.rollback())}commit(){this.isActive&&(this.state=1,this.options.commit(this.updates),this.updates.clear())}get isActive(){return 0===this.state}}const j=1e4,v=5e4;export{y as I3SAttributeOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";const t=!0,o={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function r(e,r,n){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,n+o.identifierOffset,o.identifierLength)),version:r.getUint16(n+o.versionOffset,t),checksum:r.getUint32(n+o.checksumOffset,t)}}const n={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function i(e,o){return{sizeLo:e.getUint32(o+n.sizeLo,t),sizeHi:e.getUint32(o+n.sizeHi,t),minX:e.getFloat64(o+n.minX,t),minY:e.getFloat64(o+n.minY,t),minZ:e.getFloat64(o+n.minZ,t),maxX:e.getFloat64(o+n.maxX,t),maxY:e.getFloat64(o+n.maxY,t),maxZ:e.getFloat64(o+n.maxZ,t),errorX:e.getFloat64(o+n.errorX,t),errorY:e.getFloat64(o+n.errorY,t),errorZ:e.getFloat64(o+n.errorZ,t),count:e.getUint32(o+n.count,t),reserved:e.getUint32(o+n.reserved,t)}}function c(t){const c=new DataView(t,0);let d=0;const{identifier:l,version:a}=r(t,c,d);if(d+=o.byteCount,\"LEPCC     \"!==l)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(a>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const u=i(c,d);d+=n.byteCount;if(u.sizeHi*2**32+u.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const f=new Float64Array(3*u.count),h=[],w=[],g=[],p=[];if(d=s(t,d,h),d=s(t,d,w),d=s(t,d,g),d=s(t,d,p),d!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad length\");let m=0,U=0;for(let e=0;e<h.length;e++){U+=h[e];let t=0;for(let o=0;o<w[e];o++){t+=g[m];const e=p[m];f[3*m]=Math.min(u.maxX,u.minX+2*u.errorX*t),f[3*m+1]=Math.min(u.maxY,u.minY+2*u.errorY*U),f[3*m+2]=Math.min(u.maxZ,u.minZ+2*u.errorZ*e),m++}}return{errorX:u.errorX,errorY:u.errorY,errorZ:u.errorZ,result:f}}function s(e,t,o){const r=[];t=d(e,t,r);const n=[];for(let i=0;i<r.length;i++){n.length=0,t=d(e,t,n);for(let e=0;e<n.length;e++)o.push(n[e]+r[i])}return t}function d(o,r,n){const i=new DataView(o,r),c=i.getUint8(0),s=31&c,d=!!(32&c),l=(192&c)>>6;let a=0;if(0===l)a=i.getUint32(1,t),r+=5;else if(1===l)a=i.getUint16(1,t),r+=3;else{if(2!==l)throw new e(\"lepcc-decode-error\",\"Bad count type\");a=i.getUint8(1),r+=2}if(d)throw new e(\"lepcc-decode-error\",\"LUT not implemented\");const u=Math.ceil(a*s/8),f=new Uint8Array(o,r,u);let h=0,w=0,g=0;const p=-1>>>32-s;for(let e=0;e<a;e++){for(;w<s;)h|=f[g]<<w,w+=8,g+=1;n[e]=h&p,h>>>=s,w-=s,w+s>32&&(h|=f[g-1]>>8-w)}return r+g}const l={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function a(e,o){return{sizeLo:e.getUint32(o+l.sizeLo,t),sizeHi:e.getUint32(o+l.sizeHi,t),count:e.getUint32(o+l.count,t),colorMapCount:e.getUint16(o+l.colorMapCount,t),lookupMethod:e.getUint8(o+l.lookupMethod),compressionMethod:e.getUint8(o+l.compressionMethod)}}function u(t){const n=new DataView(t,0);let i=0;const{identifier:c,version:s}=r(t,n,i);if(i+=o.byteCount,\"ClusterRGB\"!==c)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(s>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const d=a(n,i);i+=l.byteCount;if(d.sizeHi*2**32+d.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");if((2===d.lookupMethod||1===d.lookupMethod)&&0===d.compressionMethod){if(3*d.colorMapCount+d.count+i!==t.byteLength||d.colorMapCount>256)throw new e(\"lepcc-decode-error\",\"Bad count\");const o=new Uint8Array(t,i,3*d.colorMapCount),r=new Uint8Array(t,i+3*d.colorMapCount,d.count),n=new Uint8Array(3*d.count);for(let e=0;e<d.count;e++){const t=r[e];n[3*e]=o[3*t],n[3*e+1]=o[3*t+1],n[3*e+2]=o[3*t+2]}return n}if(0===d.lookupMethod&&0===d.compressionMethod){if(3*d.count+i!==t.byteLength||0!==d.colorMapCount)throw new e(\"lepcc-decode-error\",\"Bad count\");return new Uint8Array(t,i).slice()}if(d.lookupMethod<=2&&1===d.compressionMethod){if(i+3!==t.byteLength||1!==d.colorMapCount)throw new e(\"lepcc-decode-error\",\"Bad count\");const o=n.getUint8(i),r=n.getUint8(i+1),c=n.getUint8(i+2),s=new Uint8Array(3*d.count);for(let e=0;e<d.count;e++)s[3*e]=o,s[3*e+1]=r,s[3*e+2]=c;return s}throw new e(\"lepcc-decode-error\",\"Bad method \"+d.lookupMethod+\",\"+d.compressionMethod)}const f={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function h(e,o){return{sizeLo:e.getUint32(o+f.sizeLo,t),sizeHi:e.getUint32(o+f.sizeHi,t),count:e.getUint32(o+f.count,t),scaleFactor:e.getUint16(o+f.scaleFactor,t),bitsPerPoint:e.getUint8(o+f.bitsPerPoint),reserved:e.getUint8(o+f.reserved)}}function w(t){const n=new DataView(t,0);let i=0;const{identifier:c,version:s}=r(t,n,i);if(i+=o.byteCount,\"Intensity \"!==c)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(s>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const l=h(n,i);i+=f.byteCount;if(l.sizeHi*2**32+l.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const a=new Uint16Array(l.count);if(8===l.bitsPerPoint){if(l.count+i!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const o=new Uint8Array(t,i,l.count);for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}else if(16===l.bitsPerPoint){if(2*l.count+i!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const o=new Uint16Array(t,i,l.count);for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}else{const o=[];if(d(t,i,o)!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");for(let e=0;e<l.count;e++)a[e]=o[e]*l.scaleFactor}return a}export{w as decodeIntensity,u as decodeRGB,c as decodeXYZ};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../chunks/mat4f64.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{computeLinearTransformation as r}from\"../../../../geometry/projection.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/projectionEllipsoid.js\";function a(o,n,a,s){const c=h(o,n,a),i=t();return r(a,c,i,s),i}const s=1,c=5-s;function h(t,r,a){const h=o(),i=t[3],e=2**(Math.ceil(Math.log(i)*Math.LOG2E/c)*c+s);if(a.isGeographic){const o=e/n(a).radius*180/Math.PI,r=Math.round(t[1]/o),s=Math.max(-90,Math.min(90,r*o)),c=o/Math.cos((Math.abs(s)-o/2)/180*Math.PI),i=Math.round(t[0]/c)*c;h[0]=i,h[1]=s}else{const o=Math.round(t[0]/e),r=Math.round(t[1]/e);h[0]=o*e,h[1]=r*e}const M=t[2]+r,m=Math.round(M/e);return h[2]=m*e,h}export{a as computeGlobalTransformation,h as getLocalOrigin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=e.getLogger(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\"),p=e=>{let p=class extends e{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&t.error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&t.error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return t.error(\"definitionExpression is using non standard function\"),null;const e=[],i=r.fieldNames;return n(i,this.i3slayer.fields,{missingFields:e}),e.length>0?(t.error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return t.error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{p as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as s}from\"../../../../core/maybe.js\";import\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as p}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)return new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:s});return a(s,e)?void 0:new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);const c=s(r)?r.clientGraphics:null;if(!c||0===c.length)return Promise.resolve([]);const u=[],n=[],l=\"scene\"===this.layer.type&&s(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,h=o(this.layer.fieldsIndex,await i(l,a(this.layer,r)));await this.prepareFetchPopupFeatures(h);const y=new Set;for(const s of c)p(h,s,y)?n.push(s):u.push(s);return 0===n.length?Promise.resolve(u):this.whenGraphicAttributes(n,[...y]).catch((()=>n)).then((e=>u.concat(e)))}};return u=e([t(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../core/lang.js\";import{isSome as e,isNone as n}from\"../../../../core/maybe.js\";import{attributeLookup as r}from\"../support/attributeUtils.js\";const o={setAttribute(){},rollback(){},commit(){}};function s(e,r){const s=r.attributes[e.objectIdField],i=e.sessions.get(s);if(i)return i;const a=t(r.attributes),u=new Set;if(null==s)return o;const c=e.attributeOverrides.createInteractiveEditSession(s),f=new Map,l=(t,e)=>{const n=f.get(t);if(null==n){const n=e.indexOf(s);return f.set(t,n),n}return n};let d=0;const b={setAttribute(t,o){if(0!==d)return;const s=e.fieldsIndex.get(t);if(n(s))return;const i=e.attributeStorageInfo.findIndex((t=>t.name===s.name));if(i<0)return;c.set(i,o);const a=e.attributeStorageInfo[i];let f=!1;u.add(t),e.forEachNode(((t,n)=>{const s=l(t,n);if(-1===s)return;const i=e.getAttributeData(t.index);if(i){const n=i[a.name];n&&(n[s]=o,e.setAttributeData(t.index,i,r),f=!0)}})),f&&e.clearMemCache()},rollback(){if(0===d){for(const t of u)this.setAttribute(t,a[t]);c.rollback(),d=1,e.sessions.delete(s)}},commit(){0===d&&(c.commit(),d=2,e.sessions.delete(s))}};return e.sessions.set(s,b),b}function i(t,n){const r=a(t,n);if(0===r.size)return;const o=new Map;for(let e=0;e<t.attributeStorageInfo.length;e++)o.set(t.attributeStorageInfo[e].name,e);let s=!1;r.forEach(((n,r)=>{const i=t.getAttributeData(r);let a=!1;n.forEach(((n,r)=>{const u=e(i)?i[r]:null,c=o.get(r);for(const{featureIndex:e,value:o,featureId:i}of n)u&&(u[e]=o,a=!0,s=!0),t.attributeOverrides.updateValue(i,c,o)})),a&&t.setAttributeData(r,i,null)})),s&&t.clearMemCache()}function a(t,e){const n=e.edits.updateFeatures;if(!n||0===n.length)return new d;const o=f(e),s=new d,i=new Map;for(let r=0;r<t.attributeStorageInfo.length;r++)i.set(t.attributeStorageInfo[r].name,r);const a=t.fieldsIndex,c=t.objectIdField,l=n.filter((t=>{const e=r(a,t.attributes,c);return o.has(e)}));return t.forEachNode(((e,n)=>{const o=new Set(n);for(const i of l){const f=r(a,i.attributes,c);if(!o.has(f))continue;const l=n.indexOf(f);for(const n in i.attributes){const r=t.fieldsIndex.normalizeFieldName(n),o=u(s,e.index,r),a=i.attributes[n];o.push({featureIndex:l,featureId:f,value:a})}}})),s}function u(t,e,n){const r=c(t,e),o=r.get(n);if(o)return o;const s=new Array;return r.set(n,s),s}function c(t,e){const n=t.get(e);if(n)return n;const r=new l;return t.set(e,r),r}function f(t){const e=new Set;if(!t.updatedFeatures)return e;for(const n of t.updatedFeatures)null!=n.objectId&&null==n.error&&e.add(n.objectId);return e}const l=Map,d=Map;export{s as createInteractiveEditSession,i as processAttributeEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";import t from\"./LayerView.js\";class o extends t{constructor(){super(...arguments),this.layer=null,this.filter=null}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,r){throw new Error(\"Not implemented\")}queryObjectIds(e,r){throw new Error(\"Not implemented\")}queryFeatureCount(e,r){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,r){throw new Error(\"Not implemented\")}}e([r()],o.prototype,\"layer\",void 0),e([r()],o.prototype,\"availableFields\",null),e([r()],o.prototype,\"maximumNumberOfFeatures\",null),e([r({readOnly:!0})],o.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([r()],o.prototype,\"filter\",void 0);export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import s from\"./Accessor.js\";import e from\"./Logger.js\";import{runTracked as a}from\"./accessorSupport/tracking.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";import{SimpleTrackingTarget as n}from\"./accessorSupport/tracking/SimpleTrackingTarget.js\";const c=s=>{let a=class extends s{constructor(){super(...arguments),this.asyncUpdateState=new Map}autoUpdateAsync(t,s){return o((s=>this.updateAsync(t,s)),s)}async updateAsync(t,s){if(!this.startAsyncUpdate(t)){try{const e=await s();this._set(t,e)}catch(a){e.getLogger(this.declaredClass).warn(`Async update of \"${t}\" failed. Async update functions should not throw exceptions.`)}this.endAsyncUpdate(t)&&this.updateAsync(t,s)}}startAsyncUpdate(t){var s;const e=null!=(s=this.asyncUpdateState.get(t))?s:0;return 1&e?(this.asyncUpdateState.set(t,2|e),!0):(this.asyncUpdateState.set(t,1|e),!1)}endAsyncUpdate(t){var s;const e=-2&(null!=(s=this.asyncUpdateState.get(t))?s:0);return 2&e?(this.asyncUpdateState.set(t,-3&e),!0):(this.asyncUpdateState.set(t,e),!1)}};return a=t([r(\"esri.core.AsyncUpdate\")],a),a};function o(t,s){const e=()=>{o&&!p&&t(r)},r=()=>{if(!o||p)return s();o.clear(),p=!0;const t=a(o,s);return p=!1,t},c=()=>{o&&(o.destroy(),o=null)};let o=new n(e),p=!1;return t(r),{remove:c}}let p=class extends(c(s)){};p=t([r(\"esri.core.AsyncUpdate\")],p);export{p as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{AsyncUpdateMixin as r}from\"../../../../core/AsyncUpdate.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as d,collectLabelingFields as n,collectFilterFields as a}from\"../../../../layers/support/fieldUtils.js\";const p=t.getLogger(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\");let c=class extends(r(s)){constructor(e){super(e)}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:o}=this;return d(e,[...i(r,[]),...i(s,[]),...i(t,[]),...i(o,[])])}initialize(){const e=this.layerView.layer;this.layer=e,this.handles.add([this.autoUpdateAsync(\"rendererFields\",(()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?y((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(()=>{const{layer:e}=this;return e.labelsVisible?y((r=>n(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,filter:r}=this.layerView;return y((s=>a(s,e,r)))}))])}};async function y(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return p.error(s),null}}e([o()],c.prototype,\"layerView\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o()],c.prototype,\"requiredFields\",null),e([o()],c.prototype,\"rendererFields\",void 0),e([o()],c.prototype,\"labelingFields\",void 0),e([o()],c.prototype,\"viewFilterFields\",void 0),c=e([l(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],c);export{c as SceneLayerViewRequiredFields};\n"],"sourceRoot":""}