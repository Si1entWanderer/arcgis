{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/layers/support/FeatureFilter.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js","../node_modules/@arcgis/core/layers/support/capabilities.js","../node_modules/@arcgis/core/layers/support/SceneModification.js","../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js"],"names":["l","n","u","e","sublayer","parent","view","this","canResume","suspended","isUpdating","get","_override","_clearOverride","visible","i","t","s","r","EventedMixin","o","prototype","readOnly","type","Boolean","p","filterMode","mode","edgeMaterial","edges","c","color","pickable","colorMixMode","castShadows","lastMaterial","cachedMaterial","arguments","Error","q","getLogger","R","layerView","_elevationContext","_isIntegratedMesh","_supportsLabeling","lodFactor","progressiveLoadFactor","_queryEngine","layer","uid","updatingHandles","add","_updateRequiredFields","_rendererChange","_filterChange","_updateSymbologyOverride","addResolvingPromise","modelName","filterExpressions","map","a","create","fieldsIndex","error","isStandardized","fieldNames","v","fields","missingFields","length","join","filter","viewFilter","F","checkSupport","layerFieldsIndex","loadAsyncModule","_loadAsyncModule","applyFilters","_applyFilters","addSqlFilter","logError","parsedFilterExpressions","_setSymbologyOverride","testFeature","f","filterExpressionFields","reduce","concat","requiredFields","outFields","d","sourceLayer","_controller","rootNodeVisible","_validateFetchPopupFeatures","Promise","reject","clientGraphics","associatedLayer","load","j","I","Set","push","resolve","catch","warn","whenGraphicAttributes","Array","from","then","renderer","getRequiredFields","definitionExpressionFields","_set","popupEnabled","parsedDefinitionExpression","addFilters","crsIndex","_collection","returnGeometry","outSpatialReference","spatialReference","createQuery","y","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","signal","executeQueryForCount","executeQuery","features","executeQueryForIds","_createQueryEngine","m","renderSpatialReference","g","priority","Q","FEATURE_QUERY_ENGINE","spatialIndex","w","featureAdapter","b","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","id","index","meta","sourceSpatialReference","E","viewSpatialReference","_addDefinitionExpressionToQuery","_","h","x","aliasOf","S","String","O","sublayerViews","V","C","_abortController","_loadingComponents","activeFilterId","filters","find","filterBlocks","filterExpression","toArray","updatingProgress","some","updating","viewingMode","initializeSubLayerViews","sublayers","forEach","destroy","abort","isEmpty","geometryType","handles","notifyChange","url","items","sublayerUid","getGraphicFromIntersectorMetadata","_findComponent","fetchPopupFeatures","whenGraphicBounds","isArray","Map","set","highlight","getUsedMemory","getUnloadedMemory","dependsOn","popupTemplate","lastEditInfoEnabled","typeIdField","globalIdField","relationships","includes","has","indexOf","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","where","geometry","spatialRelationship","hiddenIds","distance","objectIds","units","timeExtent","enabled","types","json","read","write","source","reader","target","writer","Number","overridePolicy","getComponentAabb","getObjectTransform","rotationScale","position","Float64Array","featureExtents","featureIds","POSITIVE_INFINITY","buffer","BYTES_PER_ELEMENT","objectHandle","_textureRep","_textureId","_textureRef","acquire","release","glTexture","bindTexture","setUniform2f","descriptor","width","height","usage","size","pbrMetallicRoughness","baseColorFactor","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","alphaMode","baseColorTextureId","baseColorTexture","metallicRoughnessTextureId","alphaCutoff","doubleSided","cullFace","normalTextureId","emissiveTextureId","occlusionTextureId","metallicRoughness","wrapTextures","hasParametersFromSource","formats","name","format","encoding","encodings","material","textures","sort","ktx2","basis","dds","png","jpg","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","materialDefinitions","Object","keys","textureDefinitions","params","diffuse","transparency","useVertexColorAlpha","wrap","channels","images","split","pop","href","data","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","downsampled","mipmap","maxAnisotropy","components","noUnpackFlip","rendererTextureUsage","baseColor","usePBR","mrrFactors","isIntegratedMesh","alphaDiscardMode","emissionTexture","commonMaterialParameters","slicePlaneEnabled","ellipsoidMode","T","Blob","jpeg","bmp","gif","txt","xml","svg","zip","pbf","gz","origins","resources","P","verifyItemRelativeUrls","writtenUrls","rootPath","origin","originIdOf","portalItem","resourceFromPath","path","toUpdate","U","toKeep","resource","pendingOperations","itemRelativeUrl","toAdd","content","finish","JSON","stringify","toJSON","default","responseType","nodesPerPage","rootIndex","lodSelectionMetricType","factor","opaque","mask","blend","none","back","front","atlas","Float32","UInt64","UInt32","UInt16","UInt8","draco","offset","triangle","toLowerCase","D","L","nodePages","textureSetDefinitions","geometryDefinitions","serviceUpdateTimeStamp","listMode","definitionExpression","layerType","parsedUrl","query","associatedFeatureServiceItem","associatedLayerID","layerId","displayField","createPopupTemplate","_fetchService","indexInfo","rootNode","apiKey","token","getFeatureType","feature","domains","getField","domain","capabilities","supportsZ","supportsM","isVersioned","returnZ","sqlFormat","_getAssociatedLayerForQuery","queryExtent","queryFeatureCount","queryFeatures","queryObjectIds","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","loaded","_loadAssociatedLayerForQuery","LoadableMixin","service","value","allowNull","Point","title","opacity","alias","ignoreOrigin","attachment","supportsContentType","supportsExifInfo","supportsKeywords","supportsName","supportsSize","supportsAttachment","editing","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsUpdateWithoutM","supportsUploadWithItemId","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAttachments","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","queryRelated","supportsCount","supportsOrderBy","supportsPagination","maxRecordCount","maxRecordCountFactor","standardMaxRecordCount","supportsCacheHint","supportsCentroid","supportsDisjointSpatialRelationship","supportsDistance","supportsDistinct","supportsExtent","supportsFormatPBF","supportsGeometryProperties","supportsHavingClause","supportsHistoricMoment","supportsMaxRecordCountFactor","supportsPercentileStatistics","supportsQuantization","supportsQuantizationEditMode","supportsQueryByOthers","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsStatistics","tileMaxRecordCount","equals","messages","modification","context","nonNullable","_map","clear","emit","added","removed","objectId","refCount","delete","values","referenceCount","callbacks","runIndex","handle","registerTask","I3S_CONTROLLER","remove","needsUpdate","numIndexLoading","numNodesLoading","done","update","unshift","mbs","renderMbs","imModificationImpact","childCount","level","version","lodMetric","maxError","numFeatures","failed","hasModifications","cacheState","vertexCount","memory","nodeHasLOD","isChosen","lodLevel","childOffset","visibilityCache","ref","node","useAsHole","filterImpact","streamDataController","viewportQueries","logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","lodConversion","urlPrefix","_loading","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","NEGATIVE_INFINITY","_maxProcessingPrio","_nodeTraversalState","_version","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","layerHasModifications","_layerHasFilter","logLayer","lastUpdate","_maxLodLevel","maxLodLevel","init","pageSize","M","addPage","N","rootPage","nodes","children","parents","makeRefNode","_validateNode","addNode","request","obb","center","halfSize","mesh","attribute","hasSharedResource","hasFeatureData","attributes","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","updateParentsAndLevel","getPage","getNode","getChildIndex","Math","max","populateChildren","getParent","metricType","lodSelection","getNodeInternal","serviceObbInRenderSR","forAllNodes","getIndexById","getParentIndex","invalidateNodeVisibilityCacheInternal","geometryObb","traverse","isNodeVisible","isGeometryVisible","delta","coverage","_traverseCoverage","prune","invalidateGeometryVisibility","invalidateVisibilityCache","invalidateNodeVisibilityCache","reset","traverseVisible","entryPriority","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","cancel","madeProgress","filterInPlace","_computeFeatureEstimate","updateScreenSpaceErrorBias","_updateFeatureEstimate","min","_load","_loadNode","loadPage","getLodLevel","hasLOD","requestUpdate","nodeTraversalState","sharedResource","geometryData","attributeData","featureData","hasOwnProperty","featureRange","textureData","distToPOI","_traverseVisible","traverseChildren","_traverseChildren","prio","updateElevationInfo","sqrt","PI","_lodGlobalDirty","_index","_isNodeInScaleBounds","_removeNodes","isChosenMaxLOD","_childrenRequireLoading","requiresLODGlobalHandling","resourceController","memoryController","usedMemory","floor","_lodGlobalHandling","isNodeLoaded","nodeCrossfadingEnabled","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","_removeChildrenRecursive","isNodeReloading","geometries","featureDataPosition","vertexRegions","vertexAttributes","region","bufferDefinition","bufferIndex","geometryBuffers","compressedAttributes","defaultGeometrySchema","requiredAttributes","options","layerUrl","materialAndTextures","key","loadAttribute","loadAttributes","loadGeometry","loadShared","A","$","loadFeatureData","loadTextures","k","loadedAttributes","attributeDataInfo","geometryBuffer","geometryDescriptor","requiredTextures","pointData","fixTextureEncodings","addAbsoluteHrefTexture","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","all","textureEncodings","loadTexture","hrefConcat","substring","requester","activeRequests","busy","response","abortController","abortHandle","indexSR","_renderCoordsHelper","extent","elevationProvider","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmp1","_tmp2","_tmp3","_tmp0","screenspaceErrorBias","updateCamera","engineSR","tmpPoint","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","z","_computeRenderObb","getRenderMbs","isMBSinExtent","getVisibilityObb","_updateMinMaxDistance","MAX_VALUE","calcCameraDistanceToCenter","abs","getDistanceGlobeMode","getDistancePlanarMode","evaluateLODmetric","getDistance","screenSpaceDiameterMbs","angleDependentLoD","calcAngleDependentLoD","calcCameraDistance","screenSizeFactor","featureTarget","fixedFeatureTarget","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","profile","store","lodType","createStreamDataRequester","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","i3slayer","_defaultGeometrySchema","when","destroyed","_setClippingArea","clippingArea","_pointOfInterestChanged","events","on","_setCameraDirty","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","watch","state","_elevationInfoChanged","_scaleBoundsChanged","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","renderCoordsHelper","contentCamera","fixedContentCamera","isGraphics3D","_clippingArea","elevationInfo","_getProgressiveLoadFactor","lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","modifications","imModificationsChanged","_startNodeLoading","_tmpPoint","updateNodeModificationStatus","forAll","_nodeLoader","H","availableFields","field","_getRequiredAttributes","setPointOfInterest","K","distancePenalty","distCameraToPOI","updateExtent","setLodGlobalDirty","_evaluateUpdating","invalidateBoundingVolumeCache","areScaleBoundsActive","basemapTerrain","_scaleUpdateHandler","_updateScaleInBoundingRect","scale","minScale","maxScale","getUnloadedMemoryEstimate","lodDropFactor","maxLevel","_processLogError","getPriority","_process","_removeInvisibleNodes","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","process","_prefetchIndex","getIndexLoading","lodGlobalHandling","dirty","pushArray","updates","featureEstimate","isLoading","_get","prefetch","baseLOD","getIndexMissing","checkFeatureTarget","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","dataStreamController","pointsOfInterest","focus","renderLocation","memoryFactor","minQuality","invalidateVisibilityObbs","shouldLoadNode","_shouldDropNode","supportedTextureEncodings","isMeshPyramid","startNodeLoading","isNodeLoading","cancelAll","_cancelAllNodes","getLoadedNodeIndices","nodeFadeoutEnabled","getLoadedAttributes","getAttributeData","schedule","updateAttributes","_loadAndAddNode","_loadUncached","_loadCached","useNodeAsHole","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","loadCachedNodeData","addCachedNodeData","reschedule","loadNodeData","resetFailedNodes","getScale","_getScale","detail","updateStats","layerFilterChanged","constructOnly","every","factorIM","factor3dObject","J","clone","start","num","queryFeaturesJSON","exceededTransferLimit","MAX_MAX_RECORD_COUNT_FACTOR","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","getMemCache","pendingFetchChangedObjectIds","fetchChangedObjectIds","rollback","commit","updateValue","getOverridesFromCache","queryOverridesFromAssociatedLayer","processOverridesFromAssociatedLayer","cacheValue","put","getCacheKey","memCacheValueSize","fromCache","fromInteractiveEditingSession","logMaximumObjectsExceededWarning","cacheHint","ok","portal","getFetchChangedObjectIdsServerGen","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","serverGen","timeout","edits","serverGens","minServerGen","isActive","pageError","nodeError","result","transferList","byteLength","_malloc","Uint8Array","HEAPU8","dracoDecompressPointCloudData","_free","positions","setLegacySchema","jsonSchema","setModifications","isGeodetic","localOrigin","globalTrafo","elevationOffset","indexToVertexProjector","vertexToRenderProjector","byteOffset","quaternion","isDraco","isLegacy","layouts","normal","needNormals","uv0","uvRegion","featureIndex","normalReferenceFrame","discarded","componentOffsets","B","interleavedVertedData","indicesType","Uint16Array","indices","Uint32Array","positionIndicesType","positionIndices","layout","interleavedVertexData","hasColors","positionData","transformedGeometry","filterOBBs","locateFile","onRuntimeInitialized","transform","_definitionExpressionErrors","_maxDefinitionExpressionErrors","_limit","_all","_active","_pending","_handle","_handleChanges","addMany","removeManyByObjectId","removeMany","sample","addAndRemove","percentage","last","_parent","loadedGraphics","_renderingInfo","symbol","_graphicsByNode","_scaleVisibility","_graphicsCore","owner","preferredUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","hasZ","hasM","layerScaleEnabled","setup","queryGraphicUIDsInExtent","labeler","addGraphicsOwner","emptySymbolLabelSupported","elevationInfoOverride","disablePlacement","logEntityDescription","deconflictor","scaleVisibility","startCreateGraphics","updateLabelingInfo","filteredIds","collection","fromRenderCoords","generateUID","graphic","property","oldValue","newValue","graphicUpdateHandler","effectiveUpdatePolicy","unprocessedMemoryEstimate","graphicsCore","hasInitialize","isGeographic","broadcast","rings","getItemAt","ids","paused","forAllFeaturesOfNode","highlights","releaseSet","pause","resume","initializeSet","addComponentHighlight","removeComponentHighlight","clearHighlights","lodCrossfadeSignedDuration","_preRenderFrameTaskHandle","_currentFrameStartTime","_numFadingNodes","lodCrossfadeProgress","notifyLODUpdate","notifyUpdate","preRender","_updateAllNodeFading","foreachCrossfadeNode","fullOpacity","deltaTime","stopNodeFading","markNodeToRemove","setNodeOpacityByIndex","removeMarkedNodes","Date","now","lodCrossfadeinDuration","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","getNodeOpacityByIndex","_startNodeFading","getNodeCrossfadeMetaData","tmpEvent","intersector","fullExtent","zmin","zmax","intersectionHandler","isGround","toRenderCoords","setAltitude","intersect","results","getIntersectionPoint","getAltitude","computeLayerExtent","computeObjectExtent","_expandExtent","getVisibleNodes","layerUid","slicePlane","ray","direction","tolerance","verticalOffset","applyToMbs","applyToObb","nodeIndex","componentIndex","dist","triangleNr","ground","isFiltered","_db","_quotaReductionPromise","_gcCounter","_hit","_miss","_destroyed","gcFrequency","maxByteSize","quotaReductionFactor","_dbName","_storeName","indexedDB","open","onupgradeneeded","transaction","objectStoreNames","contains","objectStore","createObjectStore","indexNames","createIndex","unique","oldVersion","close","_put","_getCacheSize","_removeLeastRecentlyAccessed","byteSize","date","openCursor","onsuccess","primaryKey","continue","openKeyCursor","oncomplete","onerror","onabort","readyState","Ge","Le","Be","cachedRendererVersion","cachedEdgeMaterials","cachedSymbology","ne","ze","_elevationProvider","_intersectionHandler","_nodeId2Meta","_nodeId2MetaReloading","_i3sWasmLoaded","_hasLoadedPBRTextures","_asyncModuleLoading","_addTasks","_rendererVersion","_colorVariable","_opacityVariable","_rendererFields","_symbologyFields","_symbologyOverride","_symbologyOverrideFields","_symbolInfos","_idbCache","Fe","_hasColors","_hasTextures","_hasData","_modifications","_layerUrl","_cacheKeySuffix","_arcade","_tmpAttributeOnlyGraphic","_crossfadeHelper","ae","lastIndex","fe","_currentRenderer","_usePBR","unit","ce","_stage","renderView","qualitySettings","sceneService","preLoadBasis","attributeOverrides","oe","_worker","X","promise","be","ye","gpuMemoryEstimate","texMemoryEstimate","geoMemoryEstimate","componentObjectCollection","_highlights","re","_forAllFeaturesOfNode","_hasSymbolColors","featureAttributes","faceRange","_hasVertexColors","cachedDrawingInfo","_edgeView","ensureEdgeView","_memCache","_deleteComponentObject","he","le","_clippingAreaChanged","_opacityChange","_slicePlaneEnabledChange","_reloadAll","_updatePBR","clearMemCache","_suspendedChange","_labelingChanged","_modificationsChanged","Re","_treeDebugger","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","_showModifications","ve","_clearAddTasks","layerChanged","unregister","sceneIntersectionHelper","removeIntersectionHandler","destroyContext","_removeAllNodeDataFromStage","_labeler","_visibleGeometryChangedSchedulerHandle","estimatedTexMemRequired","getObjectGPUMemoryUsage","unloadedMemoryEstimate","_addMetaToLabeler","_hasModifications","Z","Y","ee","modificationsChanged","_modificationGraphics","graphics","I3S_SHOW_MODIFICATIONS","clip","replace","outline","addNodeMeta","_createAttributes","register","addIntersectionHandler","_attributeValuesChanged","apply","_getInvalidRendererVersion","setNodeMetaAttributes","_updateEngineObject","Ue","hasTexture","Ye","hasNormals","hasRegions","Pe","He","_getGeometryParameters","De","_getObjectIdField","_findGraphicNodeAndIndex","de","boundingBox","screenSpaceObjects","Ie","_createGraphic","_getMemCacheKey","indexDepth","ue","_idbCacheEnabled","_getCacheKey","nodeVersion","loadMissingTextures","initialized","tt","et","it","Ze","_addData","_transformNode","_safeReschedule","_addCachedNodeData","ge","Te","extents","orientation","slice","call","Me","_getVertexBufferLayout","crsVertex","pe","invoke","supportsNodeCrossFading","_setNodeOpacity","Ve","getComponentObb","_addNodeMeta","setObjectVisibility","_updateMaterial","_setNewNodeOpacity","objectCreated","_cacheGPUData","_removeNodeStageData","_materialParameters","stride","vertices","count","layoutParameters","geometryParams","transformation","G","createObject","toMapSpace","textureCoordinates","_initMaterialAndTextures","memEstimateGeometryAdded","memEstimateTextureAdded","W","isOpaque","_addOrUpdateEdgeRendering","updateObjectVisibility","_setObjectSymbolColors","_applyFiltersToNode","_visibleGeometryChanged","ot","_e","updateMaterial","me","textureRepository","_updateMaterialOverlay","colors","normals","Ne","updateClippingArea","geometryFilterChanged","hasGeometryFilter","_filters","getFilters","_boundingboxFilter","_sqlFilter","_createLayerGraphic","Ce","xe","Xe","Oe","We","_boundingboxNodeTest","getComponentCount","invisible","_transformAABB","$e","_boundingboxFeatureTest","hasObject","_getFilteredEdgeMaterials","hasEdges","perFeatureEdgeMaterials","getNodeOpacity","updateAllComponentMaterials","addEdges","removeObject","_applyFiltersToNodeComponents","applyFilterChange","setAllComponentVisibilities","_updateCachedFilteredIds","_computeFilteredComponentIndices","appliedFilters","_computeFilteredIds","_removeEdgeRendering","removeNodeMeta","objectDeleted","memEstimateGeometryRemoved","destroyObject","memEstimateTextureRemoved","polygonOffsetEnabled","je","_invalidateAllSymbols","_updateSymbologyFields","arcadeRequired","visualVariables","getSymbols","_updateCachedRendererData","externalColor","externalColorMixMode","getSymbol","arcade","we","Je","Se","_getSymbolInfo","Qe","se","alpha","objectTransparency","round","_getCachedEdgeMaterials","_getSymbolColors","setComponentData","setNeedsRender","stopAllNodeFading","objectOpacity","_updateEdgeRendering","physicallyBasedRenderingEnabled","_forVisibleFeaturesOfNode","_forAllFeaturesOfNodeInClippingArea","forEachVisibleComponent","Ee","acquireSet","setFeatureIds","rt","objectChanged","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","toFixed","performanceInfo","shown","hidden","MemCache","hitRate","IDBCache","getHitRate","controller","getMaterial","_setNodeEdgeOpacity","updateAllComponentOpacities","Ke","st","te","ie","Ae","forEachSublayer","sublayersProperty","readSublayers","_projectionEngineLoaded","_geometryEngine","sortedObjectIds","parsedWhereClause","parsedGeometry","warnOnce","startIndex","endIndex","intersects","disjoint","object","maskSR","renderSR","aabbCache","triangleTest","geometryTest","getComponentPositions","_geVersion","isWGS84","geodesicBuffer","WGS84","wkid","aabr","splice","isWebMercator","_dataQueryEngineInstance","ensureDataQueryEngine","dataQueryEngine","_ensureQueryJSON","fromJSON","returnCentroid","defaultQueryJSON","timeInfo","featureStore"],"mappings":"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","file":"static/js/46.1cbae48d.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import{HandleOwnerMixin as t}from\"../../../core/HandleOwner.js\";import{IdentifiableMixin as s}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";const l=(l,n)=>{let u=class extends(i(t(s(r.EventedMixin(l))))){constructor(e){super(e),this.sublayer=null,this.parent=null,this.view=null}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!0===this.get(\"sublayer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.get(\"sublayer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.visible||!1}isUpdating(){return!1}};return e([o()],u.prototype,\"sublayer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"visible\",null),e([o()],u.prototype,\"fullOpacity\",null),u=e([p(\"esri.views.3d.layers.BuildingSublayerView3D\")],u),u};export{l as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{d as r}from\"../../../../chunks/vec4f64.js\";import{createMaterialFromEdges as o}from\"../support/edgeUtils.js\";const a=.15,t=.5*a;function l(e){switch(e.filterMode.type){case\"solid\":return{mode:0};case\"wire-frame\":return{mode:1,edgeMaterial:o(e.filterMode.edges,{})};case\"x-ray\":return{mode:2}}}function c(r,o){if(e(o))return r.color[3]=0,r.edgeMaterial=null,void(r.pickable=!1);switch(o.mode){case 0:return;case 1:return r.color[3]=0,r.edgeMaterial=o.edgeMaterial,void(r.pickable=!1);case 2:return r.color[0]=1,r.color[1]=1,r.color[2]=1,r.color[3]*=a,r.colorMixMode=3,r.castShadows=!1,r.pickable=!1,void(r.edgeMaterial=i(r.edgeMaterial))}}function i(r){return e(r)?null:(s.lastMaterial!==r&&(s.cachedMaterial=n(r),s.lastMaterial=r),s.cachedMaterial)}function n(e){const o=r(e.color);return o[3]*=t,{...e,color:o}}const s={cachedMaterial:null,lastMaterial:null};export{c as applyFilterMode,l as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";class o extends r{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(e){throw new Error(\"Not implemented\")}queryFeatures(e,r){throw new Error(\"Not implemented\")}queryObjectIds(e,r){throw new Error(\"Not implemented\")}queryFeatureCount(e,r){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,r){throw new Error(\"Not implemented\")}highlight(e){throw new Error(\"Not implemented\")}}e([t()],o.prototype,\"sublayer\",void 0),e([t()],o.prototype,\"availableFields\",null),e([t()],o.prototype,\"filter\",null);export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{isSome as s,isNone as l}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as a}from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{fixFields as u,unpackFieldNames as d,populateMissingFields as p}from\"../../../layers/support/fieldUtils.js\";import y from\"../../../rest/support/Query.js\";import{BuildingSublayerView3DMixin as h}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as c}from\"./I3SMeshView3D.js\";import{applyFilterMode as f}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as m}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as F}from\"./i3s/I3SMeshViewFilter.js\";import g from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as b}from\"./i3s/I3SQueryFeatureAdapter.js\";import w from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as v,getIndexCrs as E}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as _}from\"./support/DefinitionExpressionSceneLayerView.js\";import x from\"../../layers/BuildingComponentSublayerView.js\";import S from\"../../layers/support/FeatureFilter.js\";import{getRequiredFields as j,getFetchPopupTemplate as I}from\"../../layers/support/popupUtils.js\";import{TaskPriority as Q}from\"../../support/Scheduler.js\";const q=i.getLogger(\"esri.views.3d.layers.BuildingComponentSublayerView3D\");let R=class extends(_(c(h(x)))){constructor(){super(...arguments),this.type=\"building-component-sublayer-3d\",this.layerView=null,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!1,this.lodFactor=1,this.progressiveLoadFactor=1,this._queryEngine=null}get layerUid(){return this.sublayer.layer.uid}get sublayerUid(){return this.sublayer.uid}initialize(){this.updatingHandles.add(this,\"sublayer.renderer,definitionExpressionFields,filterExpressionFields\",(()=>this._updateRequiredFields())),this.updatingHandles.add(this.sublayer,\"renderer\",(e=>this._rendererChange(e)),2);for(const e of[\"parsedDefinitionExpression\",\"filter\",\"viewFilter.parsedWhereClause\",\"viewFilter.parsedGeometry\",\"viewFilter.sortedObjectIds\"])this.updatingHandles.add(this,e,(()=>this._filterChange()));this.updatingHandles.add(this,\"parsedFilterExpressions\",(()=>this._updateSymbologyOverride()),2),this.addResolvingPromise(this._updateRequiredFields())}get parsedFilterExpressions(){return\"Overview\"===this.sublayer.modelName?[]:this.layerView.filterExpressions.map((([e,r])=>{let t;try{t=a.create(e,this.sublayer.fieldsIndex)}catch(l){return q.error(\"Failed to parse filterExpression: \"+l),null}if(!t.isStandardized)return q.error(\"filterExpression is using non standard function\"),null;const i=[],s=t.fieldNames;return v(s,this.sublayer.fields,{missingFields:i}),i.length>0?(q.error(`filterExpression references unknown fields: ${i.join(\", \")}`),null):[t,r]})).filter((e=>null!=e))}get filter(){return s(this.viewFilter)?this.viewFilter.filter:null}set filter(e){!l(e)&&F.checkSupport(e)?s(this.viewFilter)?this.viewFilter.filter=e:this.viewFilter=new F({filter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),applyFilters:()=>this._applyFilters(!0),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError)}):this.viewFilter=null}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride(((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return f(t,l)}catch(i){this.logError(i)}return f(t,null)}),this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return u(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce(((e,[r])=>e.concat(r.fieldNames)),[]))}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...d(r,i),...t]}return u(r,t)}_createLayerGraphic(e){const t=new r(null,null,e);return t.layer=this.sublayer.layer,t.sourceLayer=this.sublayer,t}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);if(!s(r)||!r.clientGraphics||0===r.clientGraphics.length)return[];const i=[],l=[],o=s(this.sublayer.associatedLayer)?await this.sublayer.associatedLayer.load():this.sublayer,n=d(this.sublayer.fieldsIndex,await j(o,I(this.sublayer,r))),a=new Set;for(const s of r.clientGraphics)p(n,s,a)?l.push(s):i.push(s);return 0===l.length?Promise.resolve(i):(s(this.sublayer.associatedLayer)&&await this.sublayer.associatedLayer.load().catch((()=>q.warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))),this.whenGraphicAttributes(l,Array.from(a)).catch((()=>l)).then((e=>i.concat(e))))}async _updateRequiredFields(){const e=u(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields||[],...this.filterExpressionFields||[]]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?I(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),s(this.viewFilter)&&this.viewFilter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return s(this.filter)?this.filter.createQuery(e):new y(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),null==r?void 0:r.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),null==r?void 0:r.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),null==r?void 0:r.signal).then((e=>{if(null==e||!e.features)return e;const r=this.sublayer,t=r.layer;for(const i of e.features)i.layer=t,i.sourceLayer=r;return e}))}queryObjectIds(e,r){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),null==r?void 0:r.signal)}_ensureQueryEngine(){return l(this._queryEngine)&&(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=m(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new g({layerView:this,priority:Q.FEATURE_QUERY_ENGINE,spatialIndex:new w({featureAdapter:new b({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures(((r,t,i)=>e({id:r,index:t,meta:i})),r,2),getFeatureExtent:e,sourceSpatialReference:E(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(l(e)?this.createQuery():y.from(e))}};e([o({aliasOf:\"sublayer\"})],R.prototype,\"i3slayer\",void 0),e([o()],R.prototype,\"layerView\",void 0),e([o()],R.prototype,\"suspended\",void 0),e([o({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.3dObject.lodFactor\"})],R.prototype,\"lodFactor\",void 0),e([o({readOnly:!0})],R.prototype,\"parsedFilterExpressions\",null),e([o({type:S})],R.prototype,\"filter\",null),e([o()],R.prototype,\"viewFilter\",void 0),e([o({type:[String],readOnly:!0})],R.prototype,\"filterExpressionFields\",null),e([o({type:[String],readOnly:!0})],R.prototype,\"requiredFields\",void 0),e([o({type:[String],readOnly:!0})],R.prototype,\"availableFields\",null),R=e([n(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],R);var O=R;export default O;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/tracking.js\";import o from\"./LayerView.js\";class s extends o{constructor(){super(...arguments),this.layer=null,this.sublayerViews=null}highlight(r){throw new Error(\"Not implemented\")}}r([e()],s.prototype,\"layer\",void 0),r([e()],s.prototype,\"sublayerViews\",void 0);export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import i from\"../../../core/Accessor.js\";import s from\"../../../core/Collection.js\";import{handlesGroup as t}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{isSome as n,isNone as l}from\"../../../core/maybe.js\";import{createAbortController as a,isAbortError as u}from\"../../../core/promiseUtils.js\";import{init as p}from\"../../../core/watchUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import y from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as d}from\"./BuildingSublayerView3D.js\";import{LayerView3D as g}from\"./LayerView3D.js\";import{parseFilterMode as m}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as f}from\"./i3s/I3SUtil.js\";import{updatingProgress as b}from\"../support/updatingProperties.js\";import w from\"../../layers/BuildingSceneLayerView.js\";const V=o.getLogger(\"esri.views.3d.layers.BuildingSceneLayerView3D\"),j=d(i);let C=class extends(g(w)){constructor(){super(...arguments),this.type=\"building-scene-3d\",this.sublayerViews=new s,this._abortController=a(),this._loadingComponents=0}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null,i=null!=r?r.filterBlocks.find((e=>\"solid\"===e.filterMode.type)):null;return i?i.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null;return r&&r.filterBlocks?r.filterBlocks.toArray().map((e=>[e.filterExpression,m(e)])):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce(((e,r)=>e+r.updatingProgress),0)/r}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some((e=>e.updating))}initialize(){f(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this.initializeSubLayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach((e=>e.destroy())),this.sublayerViews=null),this._abortController.abort(),this._abortController=null}initializeSubLayerViews(e,r){const i=this,s=this.view;e.forEach((e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const i=new j({sublayer:e,view:s,parent:r});this.initializeSubLayerViews(e.sublayers,i)}else\"mesh\"===e.geometryType&&(this._loadingComponents++,e.load({signal:this._abortController.signal}).then((()=>{const t=new y({sublayer:e,layerView:i,view:s,parent:r});this.sublayerViews.push(t),this.handles.add([p(t,\"updating\",(()=>this.notifyChange(\"updating\")),!0),p(t,\"updatingProgress\",(()=>this.notifyChange(\"updatingProgressValue\")),!0)])})).catch((r=>{u(r)||V.error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r)})).then((()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})))}))}getGraphicFromIntersectorMetadata(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getGraphicFromIntersectorMetadata(e);return null}async fetchPopupFeatures(e,r){if(!n(r)||!r.clientGraphics||0===r.clientGraphics.length)return;const i=this._findComponent(r.clientGraphics[0].sourceLayer);return l(i)?void 0:i.fetchPopupFeatures(e,r)}whenGraphicBounds(e){const r=this._findComponent(e.sourceLayer);return l(r)?Promise.reject():r.whenGraphicBounds(e)}_findComponent(e){return this.sublayerViews.find((r=>e===r.sublayer))}highlight(e){e instanceof r?e=[e]:e instanceof s&&(e=e.toArray());const i=[];if(Array.isArray(e)&&e.length>0&&e[0]instanceof r){const r=e,s=new Map;for(const e of r){let r=s.get(e.sourceLayer);null==r&&(r=[],s.set(e.sourceLayer,r)),r.push(e)}this.sublayerViews.forEach((e=>{const r=s.get(e.sublayer);r&&i.push(e.highlight(r))}))}return t(i)}getUsedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUsedMemory()),0)}getUnloadedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUnloadedMemory()),0)}ignoresMemoryFactor(){return!1}};e([c()],C.prototype,\"sublayerViews\",void 0),e([c({readOnly:!0})],C.prototype,\"filterExpression\",null),e([c({readOnly:!0})],C.prototype,\"filterExpressions\",null),e([c(b)],C.prototype,\"updatingProgress\",void 0),e([c({readOnly:!0,dependsOn:[]})],C.prototype,\"updatingProgressValue\",null),C=e([h(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],C);var v=C;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../../geometry.js\";import r from\"../../../TimeExtent.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{clone as o}from\"../../../core/lang.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../../core/accessorSupport/decorators/writer.js\";import{fromJSON as l}from\"../../../geometry/support/jsonUtils.js\";import c from\"../../../rest/support/Query.js\";var d;const m=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let h=d=class extends s{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.hiddenIds=new Set,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null,this.enabled=!1}writeWhere(e,t){t.where=e||\"1=1\"}enable(){this._set(\"enabled\",!0)}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:a,distance:p}=this;return new c({geometry:o(r),objectIds:o(n),spatialRelationship:i,timeExtent:o(s),where:t,units:a,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,hiddenIds:i,timeExtent:s,objectIds:n,units:a,distance:p}=this,l=new Set;return i.forEach((e=>l.add(e))),new d({geometry:o(t),hiddenIds:l,objectIds:o(n),spatialRelationship:r,timeExtent:o(s),where:e,units:a,distance:p})}};e([n({type:String})],h.prototype,\"where\",void 0),e([p(\"where\")],h.prototype,\"writeWhere\",null),e([n({types:t,json:{read:l,write:!0}})],h.prototype,\"geometry\",void 0),e([n({type:String,json:{read:{source:\"spatialRel\",reader:m.read},write:{target:\"spatialRel\",writer:m.write}}})],h.prototype,\"spatialRelationship\",void 0),e([n({json:{write:(e,t,r)=>t[r]=Array.from(e),read:e=>new Set(e)}})],h.prototype,\"hiddenIds\",void 0),e([n({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],h.prototype,\"distance\",void 0),e([n({type:[Number],json:{write:!0}})],h.prototype,\"objectIds\",void 0),e([n({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],h.prototype,\"units\",void 0),e([n({type:r,json:{write:!0}})],h.prototype,\"timeExtent\",void 0),e([n({readOnly:!0})],h.prototype,\"enabled\",void 0),h=d=e([a(\"esri.views.layers.support.FeatureFilter\")],h);var y=h;export default y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{t as e,b as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as n}from\"../../../../geometry/projection.js\";import{set as a,NEGATIVE_INFINITY as m,expandWithBuffer as s,ZERO as c,create as f}from\"../../../../geometry/support/aaBoundingBox.js\";function i(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=4&c?m[2]:m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[3*c]=b[0],a[3*c+1]=b[1],a[3*c+2]=b[2];return a}function u(e,o,r){const f=new Float64Array(24);return u=>{let l=u.meta.featureExtents;if(t(l)){l=new Float64Array(6*u.meta.featureIds.length),u.meta.featureExtents=l;for(let t=0;t<l.length;t+=6)l[t]=Number.POSITIVE_INFINITY}const p=new Float64Array(l.buffer,6*u.index*Float64Array.BYTES_PER_ELEMENT,6);return p[0]===Number.POSITIVE_INFINITY&&(i(u.index,r,u.meta.objectHandle,f),n(f,o,0,f,e,0,8)?(a(p,m),s(p,f,0,8)):a(p,c)),p}}function l(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);a[0]=0,a[1]=0,a[2]=0;for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[0]+=b[0],a[1]+=b[1],a[2]+=b[2];return a[0]/=8,a[1]/=8,a[2]/=8,a}const p=f(),b=r();export{i as boundingBoxCornerPoints,l as boundingBoxTop,u as createGetFeatureExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{applySome as e,isSome as t}from\"../../../../../core/maybe.js\";class r{constructor(t,r){this._textureRep=t,this._textureId=r,this._textureRef=e(this._textureId,(e=>this._textureRep.acquire(e)))}dispose(){this._textureRef=e(this._textureId,(e=>{this._textureRep.release(e)}))}bind(e,r,i){if(t(this._textureRef)){const t=this._textureRef.glTexture;e.bindTexture(t,r),e.setUniform2f(i,t.descriptor.width,t.descriptor.height)}}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as t}from\"../../../../core/maybe.js\";import{RenderTexture as s}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as n}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as l}from\"../../webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{getEllipsoidMode as i}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";function u(e,a){const r=new Map,s=(e,a)=>{if(t(e))return-1;if(r.has(e.id)){const o=r.get(e.id);return o.usage|=a,o.id}const o=r.size;return r.set(e.id,{id:o,usage:a}),o},l=a.pbrMetallicRoughness,i=l&&l.baseColorFactor,c=a.emissiveFactor,u=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=u?n[0]:l?l.metallicFactor:1,p=u?n[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?33:1,f={baseColorFactor:i?[i[0],i[1],i[2],i[3]]:[1,1,1,1],baseColorTextureId:s(l&&l.baseColorTexture,h),metallicRoughnessTextureId:s(l&&l.metallicRoughnessTexture,2),metallicFactor:g,roughnessFactor:p},b={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?0:\"back\"===a.cullFace?2:\"front\"===a.cullFace?1:void 0,normalTextureId:s(a.normalTexture,4),emissiveTextureId:s(a.emissiveTexture,16),occlusionTextureId:s(a.occlusionTexture,8),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:f,wrapTextures:!1,hasParametersFromSource:u},x=[];return r.forEach((({usage:a},r)=>{const t=o(e)&&e[r]&&e[r].formats,s=t?m(t.map((({name:e,format:a})=>({name:e,encoding:d[a]})))):[];x.push({id:r,usage:a,encodings:s})})),{material:b,textures:x}}function m(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const d={ktx2:1,basis:2,dds:4,png:8,jpg:16,\"ktx-etc2\":32},g={[c.KTX2_ENCODING]:2,[c.BASIS_ENCODING]:2,[c.DDS_ENCODING]:4,\"image/png\":8,\"image/jpg\":16,\"image/jpeg\":16,\"image/ktx\":32};function p(e){const r=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,o=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,t=r&&e.materialDefinitions[r],s=o&&e.textureDefinitions[o],n=h();if(null!=t){const e=t.params;e.diffuse&&(n.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(n.doubleSided=e.doubleSided,n.cullFace=e.doubleSided?0:2),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(n.cullFace=\"none\"===e.cullFace?0:\"back\"===e.cullFace?2:1),e.transparency&&(n.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||n.metallicRoughness.baseColorFactor[3]<1)&&(n.alphaMode=\"blend\")}const l=[];if(null!=s){const e=0;!s.wrap||\"repeat\"!==s.wrap[0]&&\"repeat\"!==s.wrap[1]||(n.wrapTextures=!0);let a=1;\"rgba\"===s.channels&&(n.alphaMode=\"blend\",a|=32);const r=s.images.length-1,o=s.images[r],t=e=>e&&e.split(\"/\").pop(),i=Array.isArray(s.encoding)?m(s.encoding.map(((e,a)=>({name:t(o.href[a]),encoding:g[e]||0})))):[{name:t(o.href),encoding:g[s.encoding]||0}];l.push({id:e,usage:a,encodings:i}),n.metallicRoughness.baseColorTextureId=e}return{material:n,textures:l}}const h=()=>({alphaMode:\"opaque\",alphaCutoff:l,doubleSided:!0,cullFace:0,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function f(e,a,o,s){if(t(e)||null==e.data)return null;const n=e.data,l=!(n instanceof HTMLImageElement)||r(n.width)&&r(n.height),i=s.renderingContext.parameters.maxMaxAnisotropy,u=o&&!s.has(2)?1:i,m=l&&!e.downsampled&&u>1,d=o||!a.wrapTextures?b:x,g=I(e.encoding),p=1&e.usage?\"opaque\"===a.alphaMode?3:4:3;return new c(n,{mipmap:m,maxAnisotropy:u,encoding:g,wrap:d,components:p,noUnpackFlip:!0})}const b={s:33071,t:33071},x={s:10497,t:10497};function F(e,r,o,t,n,c){const u=c.rendererTextureUsage,m=e=>w(t,o,e&u),d=r.metallicRoughness.baseColorFactor,g=a(r.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[d[0],d[1],d[2],g],e.hasParametersFromSource=!!r.hasParametersFromSource,e.usePBR=c.usePBR,e.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],e.emissiveFactor=r.emissiveFactor,e.isIntegratedMesh=c.isIntegratedMesh,e.alphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:l,e.alphaDiscardMode=\"opaque\"===r.alphaMode?1:\"mask\"===r.alphaMode?2:3;const p=m(33);p&&(e.baseColorTexture=new s(n,p));const h=m(2);h&&(e.metallicRoughnessTexture=new s(n,h));const f=m(16);f&&(e.emissionTexture=new s(n,f));const b=m(8);b&&(e.occlusionTexture=new s(n,b));const x=m(4);x&&(e.normalTexture=new s(n,x)),e.commonMaterialParameters.slicePlaneEnabled=c.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=r.doubleSided,e.commonMaterialParameters.cullFace=r.cullFace,e.ellipsoidMode=i(c.viewSpatialReference)}function T(a){const r=a.has(1),o=a.has(0),t=e(\"disable-feature:i3s-basis\")?0:3;return 24|(r?4|t:0)|(o?t:0)}function C(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,r){if(t(e)||0===r)return null;for(let t=0;t<e.length;t++){const s=e[t];if(o(s)&&0!=(s.usage&r))return a[t].id}return null}function I(e){switch(e){case 1:return c.KTX2_ENCODING;case 2:return c.BASIS_ENCODING;case 4:return c.DDS_ENCODING;case 8:return\"image/png\";case 16:return\"image/jpeg\";case 32:return\"image/ktx\";default:return\"\"}}export{F as configureMaterial,f as createTexture,u as getMaterialAndTextures,p as getMaterialAndTexturesFromShared,T as getSupportedEncodings,C as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=w(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=P(s),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(d)&&!i(d)?g?j(this,u,s,d,a,l,f,e):I(d,a,l,f):f&&f.portalItem&&(r(d)||t(h(d))||n(d)||g)?U(this,u,s,d,a,l,f,e):a[l]=d}}}}function U(t,r,o,i,u,a,c,l){const m=p(),y=S(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===u(a.path)?(O(t,r,a,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,p)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{enumeration as r}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([o({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([o({type:Number})],s.prototype,\"rootIndex\",void 0),e([o({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([p(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends t{constructor(){super(...arguments),this.factor=1}};e([o({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([o({type:Number})],i.prototype,\"factor\",void 0),i=e([p(\"esri.layer.support.I3SMaterialTexture\")],i);let a=class extends t{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([o({type:[Number]})],a.prototype,\"baseColorFactor\",void 0),e([o({type:i})],a.prototype,\"baseColorTexture\",void 0),e([o({type:i})],a.prototype,\"metallicRoughnessTexture\",void 0),e([o({type:Number})],a.prototype,\"metallicFactor\",void 0),e([o({type:Number})],a.prototype,\"roughnessFactor\",void 0),a=e([p(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],a);let l=class extends t{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([r({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],l.prototype,\"alphaMode\",void 0),e([o({type:Number})],l.prototype,\"alphaCutoff\",void 0),e([o({type:Boolean})],l.prototype,\"doubleSided\",void 0),e([r({none:\"none\",back:\"back\",front:\"front\"})],l.prototype,\"cullFace\",void 0),e([o({type:i})],l.prototype,\"normalTexture\",void 0),e([o({type:i})],l.prototype,\"occlusionTexture\",void 0),e([o({type:i})],l.prototype,\"emissiveTexture\",void 0),e([o({type:[Number]})],l.prototype,\"emissiveFactor\",void 0),e([o({type:a})],l.prototype,\"pbrMetallicRoughness\",void 0),l=e([p(\"esri.layer.support.I3SMaterialDefinition\")],l);let n=class extends t{};e([o({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([r({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\",ktx2:\"ktx2\",basis:\"basis\"})],n.prototype,\"format\",void 0),n=e([p(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends t{constructor(){super(...arguments),this.atlas=!1}};e([o({type:[n]})],u.prototype,\"formats\",void 0),e([o({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([p(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends t{};e([r({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([o({type:Number})],y.prototype,\"component\",void 0),y=e([p(\"esri.layer.support.I3SGeometryAttribute\")],y);let d=class extends t{};e([r({draco:\"draco\"})],d.prototype,\"encoding\",void 0),e([o({type:[String]})],d.prototype,\"attributes\",void 0),d=e([p(\"esri.layer.support.I3SGeometryCompressedAttributes\")],d);let c=class extends t{constructor(){super(...arguments),this.offset=0}};e([o({type:Number})],c.prototype,\"offset\",void 0),e([o({type:y})],c.prototype,\"position\",void 0),e([o({type:y})],c.prototype,\"normal\",void 0),e([o({type:y})],c.prototype,\"uv0\",void 0),e([o({type:y})],c.prototype,\"color\",void 0),e([o({type:y})],c.prototype,\"uvRegion\",void 0),e([o({type:y})],c.prototype,\"featureId\",void 0),e([o({type:y})],c.prototype,\"faceRange\",void 0),e([o({type:d})],c.prototype,\"compressedAttributes\",void 0),c=e([p(\"esri.layer.support.I3SGeometryBuffer\")],c);let m=class extends t{};e([r({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([o()],m.prototype,\"geometryBuffers\",void 0),m=e([p(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,c as I3SGeometryBuffer,d as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,l as I3SMaterialDefinition,a as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{webSceneRendererTypes as t}from\"../../renderers/support/types.js\";import o from\"../../request.js\";import s from\"../../core/Error.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import a from\"../../core/Loadable.js\";import p from\"../../core/Logger.js\";import{isSome as n,isNone as l}from\"../../core/maybe.js\";import{EsriPromiseMixin as d}from\"../../core/Promise.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{enumeration as u}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as c}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../geometry/Extent.js\";import f from\"../../geometry/SpatialReference.js\";import g from\"../FeatureLayer.js\";import j from\"./BuildingSublayer.js\";import{zeroCapabilities as v}from\"../support/capabilities.js\";import{popupEnabled as b}from\"../support/commonProperties.js\";import{defineFieldProperties as L}from\"../support/fieldProperties.js\";import F from\"../support/FieldsIndex.js\";import{fetchIndexInfo as S}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as I,I3SMaterialDefinition as O,I3STextureSetDefinition as w,I3SGeometryDefinition as x}from\"../support/I3SLayerDefinitions.js\";import T from\"../../rest/support/Query.js\";import{createPopupTemplate as q}from\"../../support/popupUtils.js\";import P from\"../../symbols/support/ElevationInfo.js\";const D=p.getLogger(\"esri.layers.buildingSublayers.BuildingComponentSublayer\"),Q=L();let R=class extends(a.LoadableMixin(d(j))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.fields=null,this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl.path}/sublayers/${this.id}`,query:this.layer.parsedUrl.query}:null}get fieldsIndex(){return new F(this.fields)}readAssociatedLayer(e,r){const t=this.layer.associatedFeatureServiceItem,o=r.associatedLayerID;return n(t)&&\"number\"==typeof o?new g({portalItem:t,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return null}get displayField(){return n(this.associatedLayer)?this.associatedLayer.displayField:null}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const r=n(e)?e.signal:null,t=this._fetchService(r).then((()=>{this.indexInfo=S(this.parsedUrl.path,this.rootNode,this.nodePages,this.apiKey,D,r)}));return this.addResolvingPromise(t),Promise.resolve(this)}createPopupTemplate(e){return q(this,e)}async _fetchService(e){const r=(await o(this.parsedUrl.path,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,r){var t,o,s,i;const a=null==(t=this.getFeatureType(null==r?void 0:r.feature))||null==(o=t.domains)?void 0:o[e];return a&&\"inherited\"!==a.type?a:null!=(s=null==(i=this.getField(e))?void 0:i.domain)?s:null}getFeatureType(e){return e&&n(this.associatedLayer)?this.associatedLayer.getFeatureType(e):null}get types(){return n(this.associatedLayer)?this.associatedLayer.types:[]}get typeIdField(){return n(this.associatedLayer)?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=n(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:v,{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}=e;return{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}}createQuery(){const e=new T;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryExtent(e||this.createQuery(),r)))}queryFeatureCount(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatureCount(e||this.createQuery(),r)))}queryFeatures(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatures(e||this.createQuery(),r))).then((e=>{if(null!=e&&e.features)for(const r of e.features)r.layer=this.layer,r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryObjectIds(e||this.createQuery(),r)))}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:n(this.associatedLayer)}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return n(e)&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),l(this.associatedLayer))throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([y({readOnly:!0})],R.prototype,\"parsedUrl\",null),e([y({type:I,readOnly:!0})],R.prototype,\"nodePages\",void 0),e([y({type:[O],readOnly:!0})],R.prototype,\"materialDefinitions\",void 0),e([y({type:[w],readOnly:!0})],R.prototype,\"textureSetDefinitions\",void 0),e([y({type:[x],readOnly:!0})],R.prototype,\"geometryDefinitions\",void 0),e([y({readOnly:!0})],R.prototype,\"serviceUpdateTimeStamp\",void 0),e([y({readOnly:!0})],R.prototype,\"store\",void 0),e([y({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],R.prototype,\"rootNode\",void 0),e([y({readOnly:!0})],R.prototype,\"attributeStorageInfo\",void 0),e([y(Q.fields)],R.prototype,\"fields\",void 0),e([y({readOnly:!0})],R.prototype,\"fieldsIndex\",null),e([y({readOnly:!0,type:g})],R.prototype,\"associatedLayer\",void 0),e([c(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],R.prototype,\"readAssociatedLayer\",null),e([y(Q.outFields)],R.prototype,\"outFields\",void 0),e([y({type:String,readOnly:!0})],R.prototype,\"objectIdField\",null),e([y({readOnly:!0,type:String,json:{read:!1}})],R.prototype,\"displayField\",null),e([y({readOnly:!0,type:String,aliasOf:\"layer.apiKey\"})],R.prototype,\"apiKey\",void 0),e([y({readOnly:!0,type:h,aliasOf:\"layer.fullExtent\"})],R.prototype,\"fullExtent\",void 0),e([y({readOnly:!0,type:f,aliasOf:\"layer.spatialReference\"})],R.prototype,\"spatialReference\",void 0),e([y({readOnly:!0,aliasOf:\"layer.version\"})],R.prototype,\"version\",void 0),e([y({readOnly:!0,type:P,aliasOf:\"layer.elevationInfo\"})],R.prototype,\"elevationInfo\",void 0),e([y({readOnly:!0,type:Number,aliasOf:\"layer.minScale\"})],R.prototype,\"minScale\",void 0),e([y({readOnly:!0,type:Number,aliasOf:\"layer.maxScale\"})],R.prototype,\"maxScale\",void 0),e([y({type:[\"hide\",\"show\"],json:{write:!0}})],R.prototype,\"listMode\",void 0),e([y({types:t,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],R.prototype,\"renderer\",void 0),e([y({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],R.prototype,\"definitionExpression\",void 0),e([y(b)],R.prototype,\"popupEnabled\",void 0),e([y({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],R.prototype,\"popupTemplate\",void 0),e([y({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],R.prototype,\"normalReferenceFrame\",void 0),e([y({readOnly:!0,json:{read:!1}})],R.prototype,\"defaultPopupTemplate\",null),e([y()],R.prototype,\"types\",null),e([y()],R.prototype,\"typeIdField\",null),e([y({json:{write:!1}}),u(new i({\"3DObject\":\"3d-object\",Point:\"point\"}))],R.prototype,\"layerType\",void 0),e([y()],R.prototype,\"geometryType\",null),e([y()],R.prototype,\"profile\",null),e([y({readOnly:!0,json:{read:!1}})],R.prototype,\"capabilities\",null),R=e([m(\"esri.layers.buildingSublayers.BuildingComponentSublayer\")],R);var E=R;export default E;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{IdentifiableMixin as r}from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as o}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as a}from\"../support/commonProperties.js\";let l=class extends(r(o)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.visible=!0,this.opacity=1}readTitle(e,r){return\"string\"==typeof r.alias?r.alias:\"string\"==typeof r.name?r.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:void 0}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],l.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],l.prototype,\"readTitle\",null),e([t()],l.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],l.prototype,\"id\",void 0),e([s(\"service\",\"id\")],l.prototype,\"readIdOnlyOnce\",null),e([t(a(String))],l.prototype,\"modelName\",void 0),e([t(a(Boolean))],l.prototype,\"isEmpty\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],l.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],l.prototype,\"opacity\",void 0),l=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],l);var n=l;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst s={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,tileMaxRecordCount:0}};export{s as zeroCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import t from\"../../core/Warning.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import{canProjectWithoutEngine as c,projectPolygon as m}from\"../../geometry/projection.js\";import n from\"../../geometry/Polygon.js\";var l;let y=l=class extends r{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!c(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new n;m(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new l({geometry:o(this.geometry),type:this.type})}};e([s({type:n}),a()],y.prototype,\"geometry\",void 0),e([i([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([s({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),a()],y.prototype,\"type\",void 0),y=l=e([p(\"esri.layers.support.SceneModification\")],y);var f=y;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this.sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this.sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this.sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{b as s}from\"../../../../chunks/vec4f64.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=s([0,0,0,-1]),this.imModificationImpact=4}}class i extends t{constructor(s,t,i,e,h,o,r,c,n,a){super(s,i),this.index=t,this.childCount=e,this.level=h,this.resources=o,this.version=r,this.lodMetric=c,this.maxError=n,this.numFeatures=a,this.failed=!1,this.hasModifications=!1,this.cacheState=0,this.vertexCount=0,this.memory=0}}class e{constructor(s,t,i,e){this.nodeHasLOD=s,this.isChosen=t,this.lodLevel=i,this.version=e}}export{i as Node,t as NodeBase,e as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{l as n}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{NodeBase as a,Node as d,NodeTraversalState as l}from\"./I3SNode.js\";import{addWraparound as h}from\"./I3SUtil.js\";import{clone as u}from\"../../support/orientedBoundingBox.js\";class c{constructor(e,t,i,s,r){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=r,this.useAsHole=0,this.filterImpact=2}}class g{constructor(e,t,i,r,n,o,a,d,l,h,u,c,g,m){this.streamDataController=i,this.viewportQueries=r,this.logger=n,this.holeFilling=o,this._isLoaded=a,this._isReloading=d,this._isSelected=l,this._enable=h,this._needsUpdate=u,this._canRequest=c,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=0,this.lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=b(0),this._visibilityCacheVersion=b(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new f,this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this.init(t)}init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=1;break;case\"maxScreenThresholdSQ\":this.lodMetric=1,this.lodConversion=M}this.addPage(N(this.rootIndex,this.nodesPerPage),e.rootPage)}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this.makeRefNode(new a(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this.addNode(t,0)}}loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._loading.delete(e),this.addPage(e,t)})).catch((t=>{this._loading.delete(e),r(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}addPage(e,t){for(let n=this._nodePages.length;n<e;n++)this._nodePages[n]=null;const i=[],s=[],r=t.nodes.map(((t,r)=>{const a=i.length,l=t.children?t.children.length:0;s.push(-1);for(let e=0;e<l;e++)i.push(t.children[e]);const h=`${t.index}`,g=u(t.obb),m=o([g.center[0],g.center[1],g.center[2],n(g.halfSize)]),f=t.mesh&&t.mesh.attribute,_=t.mesh&&t.mesh.geometry,b=t.mesh&&t.mesh.material,p={hasSharedResource:!1,hasFeatureData:!!_,attributes:f&&null!=f.resource?`${f.resource}`:null,geometry:_&&null!=_.resource?`${_.resource}`:null,texture:b&&null!=b.resource?`${b.resource}`:null,geometryDefinition:_?_.definition:-1,materialDefinition:b?b.definition:-1},y=new d(h,e*this.nodesPerPage+r,m,l,0,p,this.lastUpdate,this.lodMetric,this.lodConversion(t.lodThreshold),_?_.featureCount:null);return y.serviceObb=g,y.visibilityObb=this._computeVisibilityObb(y),y.vertexCount=_?_.vertexCount:0,new c(a,l,v(this._visibilityCacheVersion),null,y)}));this._nodePages[e]={nodes:r,children:i,parents:s},this.nodeCount+=r.length,this.updateParentsAndLevel()}updateParentsAndLevel(){const t=new Array,i=(i,s,r)=>{const n=this.getPage(i);if(e(n)){const o=x(i,this.nodesPerPage);n.parents[o]=s;const a=n.nodes[o].node;e(a)&&(a.level=r,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),r=this.getNode(s);if(e(r))for(let e=0;e<r.childCount;e++){i(this.getChildIndex(r,e),s,r.level+1),this._maxLevel=Math.max(this._maxLevel,r.level+1)}}}getPage(e){return this._nodePages[N(e,this.nodesPerPage)]}getNodeInternal(e){const i=this.getPage(e);return t(i)?null:i.nodes[x(e,this.nodesPerPage)]}addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const r=this.getParent(s),n=e(r)?r.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?n+1:n);const{lodMetric:a,maxError:l}=w(t.lodSelection),h=i(this.getNodeInternal(s));return h.node=new d(t.id,s,o(t.mbs),h.childCount,n,t.resources,t.version,a,l,t.numFeatures),t.obb&&(h.node.serviceObb=u(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}makeRefNode(t,i){const s=this._nodePages[0],r=s.nodes.length;return s.nodes.push(new c(0,0,v(this._visibilityCacheVersion),t,null)),this.nodeCount++,s.parents.push(i),t.renderMbs[3]=-1,e(t.serviceObbInRenderSR)&&(t.serviceObbInRenderSR.halfSize[0]=-1),r}populateChildren(e,t){const s=i(this.getNodeInternal(e)),r=i(this.getPage(e));s.childOffset=r.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this.makeRefNode(t[i],e);r.children.push(s)}}getNode(t){const i=this.getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this.forAllNodes(((s,r)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=r)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this.getPage(e.index);if(t(s))return-1;const r=s.nodes[x(e.index,this.nodesPerPage)];return s.children[r.childOffset+i]}getParentIndex(t){const i=this.getPage(t);return e(i)?i.parents[x(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this.getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}invalidateVisibilityCache(){this._visibilityCacheVersion=b(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this.getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=v(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this.getNodeInternal(t);e(i)&&(_(i),this.invalidateNodeVisibilityCacheInternal(i))}invalidateGeometryVisibility(t){const i=this.getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,i.node.renderMbs[3]=-1,e(i.node.serviceObbInRenderSR)&&(i.node.serviceObbInRenderSR.halfSize[0]=-1))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}isNodeVisible(i){const s=this.getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(!y(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,r=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&2===s.filterImpact){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):0}const n=e(i)&&1===s.filterImpact,o=!(e(i)&&2===i.imModificationImpact)&&(!r||this.viewportQueries.isNodeVisible(r))&&!n;return s.visibilityCache=p(o,this._visibilityCacheVersion),o}return P(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this.getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||4!==i.node.imModificationImpact))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,r,n,o,a){const d=this.getPage(s);if(t(d)||0===r.childCount)return;const l=r.childOffset+r.childCount,h=new Array;for(let t=r.childOffset;t<l;++t){const i=d.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,n),a.coverage+=o):this._traverseCoverage(t,e,n+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this.getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(y(i.useAsHole,this._version))return P(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const r=s.delta*s.coverage<=.5;return i.useAsHole=p(r,this._version),r}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=b(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this.forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=4,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this.forAllNodes((t=>{if(e(t)){t.filterImpact=2;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,r,n){if(!this._dirty)return;this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s,this._missing),m.clear();let o=!0;const a=new C,d=new C,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,c,g)=>{if(t(c)){let e=this.entryPriority(u);e===1/0&&(e=this.entryPriority(g));const t=N(u,this.nodesPerPage);return m.set(t,Math.max(e,m.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=c.node;if(this._updateNodeFeatureEstimate(f,d),t(f)){const e=this.entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),m.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=i(this.getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<c.childCount;t++){const i=_.children[c.childOffset+t],s=this.getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(m.set(i,this.entryPriority(i)),this._prefetch.push(i))}if(f.failed||!f.resources.hasFeatureData)return;if(h.add(f.id),this._isLoaded(u)){if(a.known+=f.memory,++a.knownNodes,this._isSelected(f)?c.childCount>0&&(o=!1):(a.unremoved+=f.memory,o=!1),this._needsUpdate(f)){const e=this.entryPriority(u);m.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(f.memory&&(a.known+=f.memory,++a.knownNodes),!this._isSelected(f))return void(this._isReloading(u)&&this._updates.remove.push(u));if(c.childCount>0&&(o=!1),f.memory?(a.missing+=f.memory,a.known+=f.memory,++a.knownNodes):++a.missingNodes,s.indexOf(f.index)>=0)return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this.entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==f.index)));if(!r.done&&this._enable(f))return void r.madeProgress();const v=this.entryPriority(u);m.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&n&&e(f)&&4===f.imModificationImpact&&l.push(u)};this.traverseVisible(u);const c=this._updates.add;c.length>0&&this.layerHasModifications&&(l.length>0&&n(l),c.filterInPlace((e=>{const i=this.getNodeInternal(e),s=t(i)||t(i.node)||2!==i.node.imModificationImpact;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>m.get(e)-m.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=m.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>m.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>m.get(e)-m.get(t))),this._updates.update.sort(((e,t)=>m.get(e)-m.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,m.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,r=t,n=i,o=10;for(;o--;){const i=new C;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;n=s,s=.5*(s+r)}else r=s,s=.5*(s+n)}return this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>m.get(e)-m.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this.loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&y(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),r=this.viewportQueries.hasLOD(e);let n=!0;if(r){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);n=e&&s>e.lodLevel}else n=s>0}else n=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=n,i.version=p(!0,this._version),i):(i=new l(r,n,s,p(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this.getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const n=s.id,o=this.urlPrefix+n,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(n,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this.addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),r(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,r=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,r=new a(`${t.id}`,t.mbs);return r.serviceObb=s,r.visibilityObb=this._computeVisibilityObb(r),r},n=Array.isArray(t.children)?t.children.map(r).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:n,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this.forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}entryPriority(i){const s=this.getNodeInternal(i),r=this.getParentIndex(i);if(t(s)||r<0&&null==s.node)return r<0?1/0:this.entryPriority(r);let n=0;if(s.node&&r>=0){const e=this._nodeTraversalState.get(r);null!=e&&(n=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-n*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this.getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,r,n){if(r.node&&0===r.childCount)return void(this.isGeometryVisible(t)&&n(t,r,s));if(!this.isNodeVisible(t))return;if(n(t,r,s),null==r.node)return;const o=this.nodeTraversalState(r.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this.getPage(t));for(let i=0;i<r.childCount;i++){const s=a.children[r.childOffset+i],o=this.getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,n):n(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,r=this.getNodeInternal(s);e(r)&&this._traverseChildren(s,r,i)}_traverseChildren(i,s,r){const n=this.getPage(i);if(t(n))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=n.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&r(s.node)&&this._traverseChildren(i,s,r)}}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(e){this.forAllNodes(_),this.viewportQueries.updateElevationInfo(e)}forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this.addNode(e,t)}}}const m=new Map;class f{constructor(){this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e,t){this.add.clear(),this.update.clear(),this.cancel=e,this.missing=t}}function _(t){e(t.node)&&(t.node.renderMbs[3]=-1,e(t.node.serviceObbInRenderSR)&&(t.node.serviceObbInRenderSR.halfSize[0]=-1)),e(t.ref)&&(t.ref.renderMbs[3]=-1,e(t.ref.serviceObbInRenderSR)&&(t.ref.serviceObbInRenderSR.halfSize[0]=-1))}function v(e){return h(e,-2)}function b(e){return h(e,2)}function p(e,t){return t+(e?1:0)}function y(e,t){return(-2&e)===t}function P(e){return 1==(1&e)}function N(e,t){return 0===t?0:e/t|0}function x(e,t){return 0===t?e:e%t}const I=[[\"maxScreenThreshold\",1],[\"screenSpaceRelative\",2],[\"removedFeatureDiameter\",3],[\"distanceRangeFromDefaultCamera\",4]];function w(e){if(e)for(let t=0;t<e.length;t++)for(const i of I)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:0,maxError:0}}class C{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function M(e){return Math.sqrt(e*(4/Math.PI))}export{g as I3SIndex,w as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import o from\"../../../../core/PooledArray.js\";class s{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,o,s){this._maxLodLevel=s.maxLodLevel,this._index=o,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const o=this._index.nodeTraversalState(i);return!!this.isChosenMaxLOD(o)||!!o.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,o=Math.max(0,Math.floor(10*(i-1)));t.clear(),this._lodGlobalHandling(this._index.rootNode,o,!1);const s=t.length;this._removeNodes(t,e);const d=t.length<s;return 0!==t.length&&(this._lodGlobalDirty=!0),t.clear(),d}_lodGlobalHandling(o,s,d){if(e(o))return!1;const l=o.index,n=this._index,r=this.layerView,a=n.nodeTraversalState(o),h=this.isChosenMaxLOD(a),u=r.isNodeLoaded(l),c=r.nodeCrossfadingEnabled;if(c&&u&&h){const e=!d&&this.hasNoVisibleChildren(o);r.fadeNode(l,0,!e)}const x=u&&(!r.isNodeFullyFadedIn||r.isNodeFullyFadedIn(l));if(u&&(r.updateNodeState(l,h?1:0),h))return x&&this._removeChildrenRecursive(o),x;const _=o.childCount>0;let L=_;if(_)for(let e=0;e<o.childCount;e++){const t=n.getChildIndex(o,e),l=n.getNode(t);if(i(l)){!(!n.isGeometryVisible(t)||this._lodGlobalHandling(l,s,d||x))&&this._isNodeInScaleBounds(l)&&(L=!1)}else n.isNodeVisible(t)&&(L=!1)}const N=u&&!h&&(L||t.length<s);N&&t.push(l),!c||N||!u||d||L||r.fadeNode(l,0,!1);const b=!o.resources.hasFeatureData;return L||x&&!N||b}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&t.push(e.index),!0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(!this.layerView.isNodeLoaded(e.index)||(i=!1,!1)))),i}_childrenRequireLoading(e){let i=!1,o=!0;return this._index.traverseChildren(e,(e=>{if(!o||!this._index.isNodeVisible(e.index))return!1;const s=this._index.nodeTraversalState(e);return this.isChosenMaxLOD(s)&&this._index.isGeometryVisible(e.index)&&(i=!0),!this.layerView.isNodeLoaded(e.index)||(o=!1,!1)})),o&&i}isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const t=new o({deallocator:null});export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}load(e,t,r){return this.streamDataController.request(e,t,r)}loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this.load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this.loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=p(this.geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this.loadGeometry(r.resources.geometry,u,i)):null,m=r.resources.hasSharedResource?await this.loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,x=h&&h.material,A=h&&h.textures,$=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this.loadFeatureData($,i):null,j=w?y(T):g(x),I=o(j)&&b(T),U=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let S=null,q=null;if(d){S=t(await d);const e=D(this.defaultGeometrySchema,m);q=f(a,e)}const v=U?t(await U):null,P=s?t(await s):{},k=P?{attributeData:P,loadedAttributes:this.requiredAttributes}:null;return n(j)?{geometryData:j,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:n(I)?{pointData:I,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:Promise.reject()}static addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this.load(r,\"json\",t).then((e=>(h.fixTextureEncodings(e),h.addAbsoluteHrefTexture(e,r),e)))}loadTexture(e,t,r,i,o,n){let s=!1;return 4===o||1===o||2===o?this.load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this.load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this.loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this.load(r,\"json\",t)}loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this.load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function y(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function D(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function p(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{createAbortController as e,onAbortOrThrow as t,always as r}from\"../../../../core/promiseUtils.js\";class s{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(s,l,o){const a=e(),n=t(o,(()=>a.abort())),u={signal:a.signal,query:{token:this.apiKey}},i=this.requester.request(s,l,u),c={response:i,abortController:a,abortHandle:n};return this.activeRequests.add(c),r(i,(()=>{var e;c.abortController=null,null==(e=c.abortHandle)||e.remove(),c.abortHandle=null,this.activeRequests.delete(c)})),i}cancelAll(){this.activeRequests.forEach((e=>{var t,r;null==(t=e.abortController)||t.abort(),e.abortController=null,null==(r=e.abortHandle)||r.remove()})),this.activeRequests.clear()}}export default s;export{s as I3SStreamDataController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{h as s,i,l as r,a as n,d as a,p as o,f as h,b as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as _,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as M}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as v,extractExpressionInfo as D}from\"../graphics/featureExpressionInfoUtils.js\";import{transformObb as C,intersectBoundingBoxWithMbs as P}from\"./I3SUtil.js\";import{create as R,isVisible as S}from\"../../support/orientedBoundingBox.js\";const E=1e5;class L{constructor(t,e,s,i,r,n,a,o={}){this.indexSR=t,this._renderCoordsHelper=e,this.extent=r,this.elevationProvider=n,this.options=o,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this.screenspaceErrorBias=o.screenspaceErrorBias||1,this.progressiveLoadFactor=o.progressiveLoadFactor||1,this.updateCamera(s,i),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this.tmpPoint=f(0,0,0,t)}updateElevationInfo(t){null!=t?(this._elevationContext=M.fromElevationInfo(t),this._elevationContext.updateFeatureExpressionInfoContext(v(D(t,!1)))):this._elevationContext=null}updateCamera(t,e){this._useFrustumCulling=e,e&&_(t.viewMatrix,t.projectionMatrix,this._frustum),this._screenSizeFactor=1/(t.perScreenPixelRatio/2),this._camPos=t.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(t){this._poi=t}updateScreenSpaceErrorBias(t){const e=this.screenspaceErrorBias;return this.screenspaceErrorBias=t,e}updateExtent(t){this.extent=t}getRenderMbs(t){const e=t.renderMbs;return e[3]<0&&(u(e,t.mbs),this._elevationContext&&e[3]<E&&(this.tmpPoint.x=e[0],this.tmpPoint.y=e[1],this.tmpPoint.z=e[2],e[2]=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)),p(e,this.indexSR,e,this.engineSR)),e}getVisibilityObb(s){if(t(s.visibilityObb))return s.visibilityObb;const i=s.serviceObb;return e(i)||i.halfSize[0]<0?void 0:(s.serviceObbInRenderSR=this._computeRenderObb(i,s.serviceObbInRenderSR,s.mbs[3]),s.serviceObbInRenderSR)}_computeRenderObb(t,s,i){if(e(s)&&(s=R()),s.halfSize[0]<0){let e=0;this._elevationContext&&i<E&&(this.tmpPoint.x=t.center[0],this.tmpPoint.y=t.center[1],this.tmpPoint.z=t.center[2],e=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)-t.center[2]),C(t,this.indexSR,s,this.engineSR,e)}return s}isNodeVisible(e){const s=this.getRenderMbs(e);if(!this.isMBSinExtent(s))return!1;if(!this._useFrustumCulling)return!0;const i=this.getVisibilityObb(e);return t(i)?S(i,this._frustum):b(this._frustum,x(s))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const s=e.geometryObb;return t(s)?S(s,this._frustum):this.isNodeVisible(e)}isMBSinExtent(t){return!this.extent||0!==P(this.extent,t)}screenSpaceDiameterMbs(t,e){const i=this.getRenderMbs(t),r=Math.sqrt(s(i,this._camPos)),n=r-i[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:e/n*this._screenSizeFactor}calcCameraDistance(t){return this.calcCameraDistanceToCenter(t)-this.getRenderMbs(t)[3]}calcCameraDistanceToCenter(t){const e=this.getRenderMbs(t),s=i(e,this._camPos);return this._updateMinMaxDistance(s),s}calcAngleDependentLoD(t){const e=this.getRenderMbs(t),s=e[3],n=(Math.abs(e[0]*(e[0]-this._camPos[0])+e[1]*(e[1]-this._camPos[1])+e[2]*(e[2]-this._camPos[2]))/r(e)+s)/i(e,this._camPos);return Math.min(1,n)}hasLOD(t){return 0!==t.lodMetric}getDistancePlanarMode(t,e){const s=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],n=s*s+i*i,a=e[3];if(n<=a*a)return Math.abs(r);const o=Math.sqrt(n)-a;return Math.sqrt(r*r+o*o)}getDistanceGlobeMode(t,e){const m=r(e),u=r(t)-m;n(this._tmp0,t,a(t,e)/o(t));const p=s(e,this._tmp0),l=e[3];if(p<=l*l)return Math.abs(u);{const s=n(this._tmp0,e,1/m),o=m,p=l*l/2/o,d=n(this._tmp1,s,o-p),_=t,b=h(this._tmp2,_,d),x=h(this._tmp2,b,n(this._tmp3,s,a(s,b))),f=c(this._tmp2,d,n(this._tmp2,x,l/r(x)));let g=i(_,f);if(u>=2e5){const t=h(this._tmp1,_,f);let e=a(t,s)/r(t);e<.08&&(e=1e-4),g/=e}return g}}getDistance(t,e){return this.engineSR===l(this.engineSR)?this.getDistanceGlobeMode(t,e):this.getDistancePlanarMode(t,e)}_updateMinMaxDistance(t){t>0?(this.minDistance=Math.min(this.minDistance,t),this.maxDistance=Math.max(this.maxDistance,t)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-t))}getLodLevel(t){if(0===t.lodMetric||!t.resources.hasFeatureData)return 0;if(0===t.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this.progressiveLoadFactor<1){const e=this.progressiveLoadFactor*this.screenspaceErrorBias,s=this.screenspaceErrorBias;return this.evaluateLODmetric(t,e)?this.evaluateLODmetric(t,s)?2:1:0}return this.evaluateLODmetric(t,this.screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(t,e){switch(t.lodMetric){case 2:{const s=this.getRenderMbs(t),i=this.getDistance(this._camPos,s),r=2*i/this._screenSizeFactor,n=i+s[3];return this._updateMinMaxDistance(n),t.maxError*e<=r}case 1:{let s=this.screenSpaceDiameterMbs(t,t.mbs[3]*e);return this.options.angleDependentLoD&&(s*=this.calcAngleDependentLoD(t)),s<t.maxError}case 3:return this.screenSpaceDiameterMbs(t,t.maxError)*e<10;case 4:return this.calcCameraDistance(t)>t.maxError*e}return!1}distToPOI(t){const e=this.getRenderMbs(t);return i(e,this._poi)-e[3]}distCameraToPOI(){return i(this._camPos,this._poi)}}export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import a from\"../../../core/Logger.js\";import{isSome as r,isNone as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{createAbortController as h,isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as m,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import f from\"../../support/PromiseQueue.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as w}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import N from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import v from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as C}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as D,getIndexCrs as L,findIntersectingNodes as S}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import V from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{projectToBoundingBox as I}from\"../../../views/3d/support/extentUtils.js\";import{maxDownloadSlots as A}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as F,scaleBoundsPredicate as P}from\"../../../views/support/layerViewUtils.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";const O=a.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),M=100,q=2,G=1e4,Q=1e-4,j=1.2,T=500,B=1.5;let E=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(2);return new C(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(3);return new C(e,this.layer.apiKey)}get crsVertex(){return D(this.layer)}get crsIndex(){return L(this.layer)}get rootNodeVisible(){if(r(this._index)){const e=this._index.rootNode;if(r(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}initialize(){this._disableMemCache=!this.layerView.loadCachedGPUData||!this.layerView.addCachedGPUData,this._lodHandling=new N(this.layerView);const e=this.layerView.i3slayer;this.layer=e,this._defaultGeometrySchema=e.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in e&&(this._fields=e.fields,this._attributeStorageInfo=e.attributeStorageInfo),this.addResolvingPromise(Promise.all([this.layer.indexInfo,this.layer.when(),this.layerView.when()]).then((([t])=>{var i;if(this.destroyed||!this.layerView||this.layerView.destroyed)return;const s=this.layerView.view;this._setClippingArea(s.clippingArea);const a=this.layerView.view.resourceController;this._handles.add([u(s,\"pointsOfInterest.focus.renderLocation\",(e=>this._pointOfInterestChanged(e))),a.memoryController.events.on(\"quality-changed\",(()=>this._setCameraDirty())),u(this.layerView,\"suspended\",(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=a.scheduler.registerIdleStateCallbacks(t,i)})),b(this.layerView.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),this.watch(\"uncompressedTextureDownsamplingEnabled\",(()=>this.restartNodeLoading())),this.watch([\"featureTarget\",\"fixedFeatureTarget\"],(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),s.state.watch(\"contentCamera\",(()=>this._setCameraDirty())),this.layer.watch(\"elevationInfo\",(()=>this._elevationInfoChanged())),this.layer.watch([\"minScale\",\"maxScale\"],(()=>this._scaleBoundsChanged())),this.layerView.watch(\"lodFactor\",(()=>this._setCameraDirty())),this.layerView.watch(\"availableFields?\",(()=>this._requiredFieldsChange())),this.layerView.watch(\"holeFilling\",(e=>r(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new V(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,s.elevationProvider,this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new w(e,t,this.indexStreamController,this._viewportQueries,O,this.layerView.holeFilling,(e=>this.layerView.isNodeLoaded(e)),(e=>this.layerView.isNodeReloading(e)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,1)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(e=>this.layerView.computeVisibilityObb?this.layerView.computeVisibilityObb(e):null),null!=(i=this.layerView)&&i.computeNodeFiltering?e=>this.layerView.computeNodeFiltering(e):void 0);const d=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(d),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;r(t)&&i&&i.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);r(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,H.prune(),r(k)&&(k.remove(),k=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=z(e,i),a=z(t,i);return s>=0&&a>=0?{index:s,name:t[a].name,field:t[a],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();R(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();I(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){r(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),r(this._index)&&(this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),r(this._viewportQueries)&&r(this._index)&&(this._viewportQueries.updateExtent(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this.notifyChange(\"rootNodeVisible\"),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(d(i))return;const s=i.rootNode;if(d(s))return;const a=this._elevationUpdateNodes;a.clear(),S(e,t,s,this.crsIndex,i,(e=>a.push(e.index))),a.forAll((e=>{i.invalidateBoundingVolumeCache(e),e===s.index&&this.notifyChange(\"rootNodeVisible\")})),a.length&&this.restartNodeLoading()}getParentIndex(e){return r(this._index)&&this._index.getParentIndex(e)}_elevationInfoChanged(){r(this._index)&&this._index.updateElevationInfo(this.layer.elevationInfo),this._setCameraDirty()}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.scale,e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t,i){const s=this._index;if(d(s))return;const a=s.rootNode;!d(a)&&p(t,i,$,this.crsIndex)&&this._loadedNodeScales.forEach(((t,i)=>{const a=s.getNode(i);r(a)&&m($,a.mbs)&&this._loadedNodeScales.set(i,e)}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=F(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return d(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return r(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||d(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?O.error(\"Error during processing: \"+i):50===this._errorCount&&O.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){if(this._restartNodeLoading&&this._startNodeLoading(),null!=this._nodeLoader&&!d(this._index)){for(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t)));!e.done&&this._idleQueue.process();)e.madeProgress();e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating()}}_processIndex(e){if(d(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update([...this._loadingNodes.keys()],e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(d(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.isGraphics3D||d(this._index)||d(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>T){if(this._featureLOD<=Q)return;this._featureLOD/=B,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=G||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,a=this._index.checkFeatureTarget(t,s);a!==s&&(this._featureLOD=a/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*j||e&&i.estimate>t))return;if(this._featureLOD<=Q)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(G,Math.max(Q,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(d(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);r(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,0)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(d(this._index))return!1;let i=(this._isIdle?M:q)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());r(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(d(a)||2!==a.cacheState&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=q)&&(this._downloadingCount<A&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(r(this._index)?this._index.getIndexMissing():0)+3*(r(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.length>0||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||d(this._index)||d(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return r(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){r(this._index)&&this._index.invalidateNodeVisibilityCache(e)}updateBoundingVolume(e){r(this._index)&&this._index.invalidateBoundingVolumeCache(e)}invalidateGeometryVisibility(e){r(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){r(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){if(r(this._index)){const e=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(e)}this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e)||!this._isNodeInScaleBounds(e))&&(!!r(this._index)&&this._index.isGeometryVisible(e.index))}_shouldDropNode(e){if(d(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||d(e)||d(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:!this.isMeshPyramid};this._nodeLoader=new v(this.layer,this.dataStreamController,O,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,1)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(d(t)||d(this._viewportQueries))return!1;H.clear(),this.layerView.getLoadedNodeIndices(H);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return H.filterInPlace((e=>{const i=t.getNode(e);return d(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),H.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(H,e,0),!(i&&this.lodDropFactor<1)&&(0===H.length||(H.clear(),!1))}markNodeToRemove(e){H.push(e)}removeMarkedNodes(){this._removeNodes(H,U,0)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(r(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),a=this._index;1===i&&this.layerView.nodeFadeoutEnabled&&r(a)&&a.isGeometryVisible(s)?this.layerView.fadeNode(s,1,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=h();this._updatingNodes.set(e.index,t);(R(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!l(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void O.error(\"already loading node \"+e.index);const t=h();this._loadingNodes.set(e.index,t);const i=()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()};this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then(i).catch((e=>{if(i(),!l(e))throw e}))}_loadAndAddNode(e,t){return 1===e.cacheState?this._loadUncached(e,t):this._loadCached(e,t).then((t=>{t||(e.cacheState=1,r(this._index)&&this._index.updates.add.push(e.index))})).catch((t=>{if(!l(t))throw e.cacheState=1,t}))}_enableFromGPUCache(e,t){if(this._disableMemCache||d(this._index))return!1;if(0===t&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return r(t)&&r(t.attributeInfo)&&R(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){r(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}_loadCached(e,t){if(this._enableFromGPUCache(e,1))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(d(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=2})).catch((t=>{if(!l(t))throw O.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,r(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&r(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=this.layerView.view.basemapTerrain.getScale(this._tmpPoint);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=F(this.layer);return P(t,i,s)}updateStats(e){e.index=r(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),r(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){r(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),r(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;r(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([c({readOnly:!0})],E.prototype,\"isMeshPyramid\",null),e([c({readOnly:!0})],E.prototype,\"isGraphics3D\",null),e([c({readOnly:!0})],E.prototype,\"indexStreamController\",null),e([c({readOnly:!0})],E.prototype,\"dataStreamController\",null),e([c({readOnly:!0})],E.prototype,\"crsVertex\",null),e([c({readOnly:!0})],E.prototype,\"crsIndex\",null),e([c()],E.prototype,\"screenSizeFactor\",void 0),e([c()],E.prototype,\"featureTarget\",void 0),e([c()],E.prototype,\"fixedFeatureTarget\",void 0),e([c()],E.prototype,\"layerView\",void 0),e([c()],E.prototype,\"layer\",void 0),e([c({})],E.prototype,\"updating\",void 0),e([c({})],E.prototype,\"updatingProgress\",void 0),e([c({readOnly:!0})],E.prototype,\"leavesReached\",void 0),e([c({constructOnly:!0})],E.prototype,\"scaleVisibilityEnabled\",void 0),e([c({readOnly:!0,dependsOn:[]})],E.prototype,\"rootNodeVisible\",null),E=e([_(\"esri.layers.graphics.controllers.I3SOnDemandController\")],E);const H=new o({deallocator:null});let k;function R(e,t){return r(e)&&e.length===t.length&&e.every((e=>z(t,e.name)>=0))}function z(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const K={factorIM:.2,factor3dObject:.05,distancePenalty:10},$=y();var J=E;export default J;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{splitIntoChunks as t,remove as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{createAbortController as m,whenOrAbort as u}from\"../../../../core/promiseUtils.js\";import{formatNumber as g}from\"../../../../intl/number.js\";import{getMaximumQuerySize as b,queryAllJSON as p}from\"../../../../layers/support/featureQueryAll.js\";const f=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class y{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=m(),this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=v,this.memCache=t.getMemCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this.fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const t=this.interactiveEditingSessions,i=new O(e,{rollback:()=>{s(t,i),0===t.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return t.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await u(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this.getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this.queryOverridesFromAssociatedLayer(o,d,s);c(h)||this.processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this.cacheValue(e,t,s)}cacheValue(e,t,s){this.memCache.put(this.getCacheKey(e,t),s,this.memCacheValueSize(s))}getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this.fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}fromCache(e,t){const s=this.fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this.getCacheKey(e,t);return this.memCache.get(i)}fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}getCacheKey(e,t){return`${e}-${t}`}async queryOverridesFromAssociatedLayer(e,s,r){if(0===e.length||0===s.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this.logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...s],n.cacheHint=!0,n.objectIds=e;const o=b(a),c=e.length>o?t(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(p(a,t,{signal:r}))})):[i(p(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${g(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,f.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this.cacheValue(e,i,a)}}}memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async fetchChangedObjectIds(t){var s,i,a;const n=this.layer;if(await n.load({signal:t}),this.changedObjectIds.clear(),c(n.associatedLayer)||null==(s=n.associatedLayer.capabilities)||null==(i=s.operations)||!i.supportsChangeTracking)return;const o=this.getFetchChangedObjectIdsServerGen();if(c(o))return null;const d=n.associatedLayer.layerId,m=await r(e(`${n.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${d}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:d,serverGen:o}])},timeout:j,signal:t})),u=m.ok&&null!=(a=m.value.data)&&a.edits?h(m.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(u)){const e=Math.min(this._maximumNumberOfEditOVerrides,u.length);e<u.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=u.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class O{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=0}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=2,this.options.rollback())}commit(){this.isActive&&(this.state=1,this.options.commit(this.updates),this.updates.clear())}get isActive(){return 0===this.state}}const j=1e4,v=5e4;export{y as I3SAttributeOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";function t(){return i||(i=new Promise((e=>import(\"../../chunks/i3s.js\").then((function(e){return e.i})).then((({default:t})=>{const i=t({locateFile:n,onRuntimeInitialized:()=>e(i)});delete i.then})))).catch((e=>Promise.reject(e)))),i}function n(t){return e(`esri/libs/i3s/${t}`)}let i;export{t as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{slice as t}from\"../../../core/typedArrayUtil.js\";import{get as r}from\"../../../libs/i3s/I3SModule.js\";async function n(e){await h();const t=[e.geometryBuffer];return{result:y(e,t),transferList:t}}async function o(e){var r;await h();const n=[e.geometryBuffer],{geometryBuffer:o}=e,s=o.byteLength,f=c._malloc(s),i=new Uint8Array(c.HEAPU8.buffer,f,s);i.set(new Uint8Array(o));const a=c.dracoDecompressPointCloudData(f,i.byteLength);if(c._free(f),a.error.length>0)throw`i3s.wasm: ${a.error}`;const u=(null==(r=a.featureIds)?void 0:r.length)>0?t(a.featureIds):null,l=t(a.positions);u&&n.push(u.buffer),n.push(l.buffer);return{result:{positions:l,featureIds:u},transferList:n}}async function s(e){await h(),m(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function f(e){await h(),l(e)}async function i(e){await h(),c.setLegacySchema(e.context,e.jsonSchema)}function a(e){d(e)}let u,c;function l(e){const t=e.modifications,r=c._malloc(8*t.length),n=new Float64Array(c.HEAPU8.buffer,r,t.length);for(let o=0;o<t.length;++o)n[o]=t[o];c.setModifications(e.context,r,t.length,e.isGeodetic),c._free(r)}function y(r,n){if(!c)return null;const{context:o,localOrigin:s,globalTrafo:f,mbs:i,obb:a,elevationOffset:u,geometryBuffer:l,geometryDescriptor:y,indexToVertexProjector:b,vertexToRenderProjector:m}=r,d=c._malloc(l.byteLength),h=33,p=c._malloc(h*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(c.HEAPU8.buffer,d,l.byteLength);g.set(new Uint8Array(l));const w=new Float64Array(c.HEAPU8.buffer,p,h);E(w,s);let A=w.byteOffset+3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A);E(_,f),A+=16*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,i),A+=4*w.BYTES_PER_ELEMENT,e(a)&&(_=new Float64Array(w.buffer,A),E(_,a.center),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.halfSize),A+=3*w.BYTES_PER_ELEMENT,_=new Float64Array(w.buffer,A),E(_,a.quaternion));const L=y,T={isDraco:!1,isLegacy:!1,color:r.layouts.some((e=>e.some((e=>\"color\"===e.name)))),normal:r.needNormals&&r.layouts.some((e=>e.some((e=>\"normalCompressed\"===e.name)))),uv0:r.layouts.some((e=>e.some((e=>\"uv0\"===e.name)))),uvRegion:r.layouts.some((e=>e.some((e=>\"uvRegion\"===e.name)))),featureIndex:L.featureIndex},I=c.process(o,!!r.obb,d,g.byteLength,L,T,p,u,b,m,r.normalReferenceFrame);if(c._free(p),c._free(d),I.error.length>0)throw`i3s.wasm: ${I.error}`;if(I.discarded)return null;const P=I.componentOffsets.length>0?t(I.componentOffsets):null,U=I.featureIds.length>0?t(I.featureIds):null,B=t(I.interleavedVertedData).buffer,F=1===I.indicesType?t(new Uint16Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/2)):t(new Uint32Array(I.indices.buffer,I.indices.byteOffset,I.indices.byteLength/4)),v=t(I.positions),x=1===I.positionIndicesType?t(new Uint16Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/2)):t(new Uint32Array(I.positionIndices.buffer,I.positionIndices.byteOffset,I.positionIndices.byteLength/4)),M={layout:r.layouts[0],interleavedVertexData:B,indices:F,hasColors:I.hasColors,hasModifications:I.hasModifications,positionData:{data:v,indices:x}};return U&&n.push(U.buffer),P&&n.push(P.buffer),n.push(B),n.push(F.buffer),n.push(v.buffer),n.push(x.buffer),{componentOffsets:P,featureIds:U,transformedGeometry:M,obb:I.obb}}function b(e){return 0===e?0:1===e?1:2===e?2:3}function m(e){const{context:t,buffer:r}=e,n=c._malloc(r.byteLength),o=r.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(c.HEAPU8.buffer,n,o),f=new Float64Array(r);s.set(f),c.filterOBBs(t,n,o),f.set(s),c._free(n)}function d(e){c&&c.destroy(e)}function E(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}function h(){return c?Promise.resolve():(u||(u=r().then((e=>{c=e,u=null}))),u)}const p={transform:y,destroy:d};export{a as destroyContext,o as dracoDecompressPointCloudData,s as filterObbsForModifications,m as filterObbsForModificationsSync,h as initialize,b as interpretObbModificationResults,n as process,i as setLegacySchema,f as setModifications,l as setModificationsSync,p as test};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=e.getLogger(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\"),p=e=>{let p=class extends e{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&t.error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&t.error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return t.error(\"definitionExpression is using non standard function\"),null;const e=[],i=r.fieldNames;return n(i,this.i3slayer.fields,{missingFields:e}),e.length>0?(t.error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return t.error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],p.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{p as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{GraphicsMap as s}from\"./GraphicsMap.js\";class i extends e{constructor(e){super(),this._limit=e,this._all=new s,this._active=new a(this),this._pending=new Map,this._handle=this._all.on(\"change\",(e=>this._handleChanges(e)))}destroy(){this._handle.remove()}get length(){return this._active.length}toArray(){return this._active.toArray()}find(e){return this._active.find(e)}forEach(e){this._active.forEach(e)}addMany(e){this._all.addMany(e)}removeManyByObjectId(e){this._all.removeManyByObjectId(e)}_handleChanges(e){let t=e.removed;if(this._pending.size>0){t=new Array;for(const s of e.removed)this._pending.delete(s.objectId)||t.push(s)}let s=this._limit-this._active.length+t.length;s<e.added.length&&(this._active.removeMany(t),t=[],h.reset(1-this._limit/(this._active.length+e.added.length)),this._active.forEach((e=>{h.sample()&&(t.push(e),this._pending.set(e.objectId,e))})),s=this._limit-this._active.length+t.length);let i=e.added;if(s<e.added.length){i=new Array,h.reset(s/e.added.length);for(const t of e.added)h.sample()?i.push(t):this._pending.set(t.objectId,t)}const n=s-i.length;n>0&&this._pending.size>0&&(h.reset(n/this._pending.size),this._pending.forEach((e=>{h.sample()&&(i.push(e),this._pending.delete(e.objectId))}))),this._active.addAndRemove(i,t)}}class n{constructor(){this.percentage=1,this.last=-1,this.index=0}reset(e){this.percentage=e,this.last=-1}sample(){const e=Math.floor(this.index*this.percentage);return++this.index,e!==this.last&&(this.last=e,!0)}}const h=new n;class a{constructor(e){this._parent=e,this._map=new Map}get length(){return this._map.size}forEach(e){this._map.forEach((t=>e(t)))}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}toArray(){return[...this._map.values()]}addAndRemove(e,t){for(const s of e)this._map.set(s.objectId,s);for(const s of t)this._map.delete(s.objectId);(e.length>0||t.length>0)&&this._parent.emit(\"change\",{added:e,removed:t})}removeMany(e){for(const t of e)this._map.delete(t.objectId);e.length>0&&this._parent.emit(\"change\",{added:[],removed:e})}}export{i as LimitGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import\"../../../symbols.js\";import r from\"../../../core/Accessor.js\";import s from\"../../../core/Handles.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as l}from\"../../../core/accessorSupport/diffUtils.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{makeDehydratedPoint as c}from\"../../../layers/graphics/dehydratedFeatures.js\";import{Graphics3DCore as h}from\"./graphics/Graphics3DCore.js\";import n from\"./graphics/Graphics3DScaleVisibility.js\";import{boundingBoxTop as d}from\"./i3s/I3SGeometryUtil.js\";import{LimitGraphicsMap as y}from\"../support/LimitGraphicsMap.js\";import g from\"../../../symbols/PointSymbol3D.js\";let u=class extends r{constructor(e){super(e),this.loadedGraphics=new y(5e4),this.slicePlaneEnabled=!1,this._renderingInfo={symbol:new g},this._handles=new s,this._graphicsByNode=new Map,this._scaleVisibility=null}initialize(){this._graphicsCore=new h({owner:this,layer:this.layer,preferredUpdatePolicy:0,elevationFeatureExpressionEnabled:!1,graphicSymbolSupported:!1,getRenderingInfoWithoutRenderer:!0,hasZ:!0,hasM:!1});const e=this.view.basemapTerrain;this._scaleVisibility=new n({layerScaleEnabled:!1}),this._scaleVisibility.setup(this,this.layer,((e,i,r)=>this._graphicsCore.spatialIndex.queryGraphicUIDsInExtent(e,i,r)),this._graphicsCore,e);const i=this.view.labeler.addGraphicsOwner(this._graphicsCore,this._scaleVisibility,{emptySymbolLabelSupported:!0,elevationInfoOverride:{mode:\"absolute-height\",offset:0},disablePlacement:{logEntityDescription:\"3D Object Scene Layer features\"}}),r=this.view.deconflictor.addGraphicsOwner(this._graphicsCore);this._graphicsCore.setup({labeler:i,deconflictor:r,scaleVisibility:this._scaleVisibility}).then((()=>{this._graphicsCore.startCreateGraphics()})).catch((()=>{})),this._handles.add([this.layer.watch(\"labelingInfo\",((e,i)=>{l(e,i)&&this._graphicsCore.updateLabelingInfo()}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null),null!=this._scaleVisibility&&(this._scaleVisibility.destroy(),this._scaleVisibility=null),null!=this._graphicsCore&&(this._graphicsCore.destroy(),this._graphicsCore=null),this.loadedGraphics.destroy(),this.view=null}addNodeMeta(e,r){let s=0;const o=e.filteredIds,a=e.featureIds.map(((a,l)=>{d(l,this.collection,e.objectHandle,f);const p=c(0,0,0,this.view.spatialReference);this.view.renderCoordsHelper.fromRenderCoords(f,p);const h=r(l,e);let n=!1;return t(o)?n=!0:s<o.length&&a===o[s]&&(n=!0,s++),{objectId:a,uid:i.generateUID(),attributes:h,visible:n,geometry:p}}));this.loadedGraphics.addMany(a),this._graphicsByNode.set(e.node.index,a)}setNodeMetaAttributes(e,i){const r=this._graphicsByNode.get(e.node.index),s=new Array(r.length);for(let t=0;t<r.length;t++){const o=r[t];o.attributes=i(t,e),s[t]=o.uid}this._graphicsCore.updateLabelingInfo(s)}applyFilterChange(e){const i=this._graphicsByNode.get(e.node.index);if(i)if(t(e.filteredIds))for(const r of i)r.visible||(r.visible=!0,m.graphic=r,m.property=\"visible\",m.oldValue=!1,m.newValue=!0,this._graphicsCore.graphicUpdateHandler(m));else{let r=0;for(const s of i){const i=s.visible;r<e.filteredIds.length&&s.objectId===e.filteredIds[r]?(s.visible=!0,r++):s.visible=!1,i!==s.visible&&(m.graphic=s,m.property=\"visible\",m.oldValue=i,m.newValue=s.visible,this._graphicsCore.graphicUpdateHandler(m))}}}removeNodeMeta(e){this.loadedGraphics.removeManyByObjectId(e.featureIds)}getRenderingInfo(){return this._renderingInfo}notifyGraphicGeometryChanged(){}notifyGraphicVisibilityChanged(){}get updatePolicy(){return this._graphicsCore.effectiveUpdatePolicy}get usedMemory(){return this._graphicsCore.usedMemory}get unloadedMemoryEstimate(){return this._graphicsCore.unprocessedMemoryEstimate}get test(){return{graphicsCore:this._graphicsCore}}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"collection\",void 0),e([o()],u.prototype,\"loadedGraphics\",void 0),e([o({aliasOf:\"_graphicsCore.updating\"})],u.prototype,\"updating\",void 0),e([o()],u.prototype,\"slicePlaneEnabled\",void 0),e([o()],u.prototype,\"_graphicsCore\",void 0),u=e([a(\"esri.views.3d.layers.I3SMeshViewLabeler\")],u);const m={graphic:null,property:null,oldValue:null,newValue:null},f=p();var b=u;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import t from\"../../../core/PooledArray.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r,projectVectorToVector as s}from\"../../../geometry/projection.js\";const n=e.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\");class i extends o{constructor(e){super(\"SceneLayerWorker\",\"process\",e,{hasInitialize:!0})}getTransferList(e){return[e.geometryBuffer]}setModifications(e,t,o){const r={context:e,modifications:f(t,o),isGeodetic:o.isGeographic};this.broadcast(r,\"setModifications\")}setLegacySchema(e,t){const o=JSON.stringify(t);this.broadcast({context:e,jsonSchema:o},\"setLegacySchema\")}destroyContext(e){return this.broadcast(e,\"destroyContext\")}}const c=new t({deallocator:null}),a=[0,0,0];function f(e,t){c.clear();for(const i of e){const e=\"clip\"===i.type?2:\"mask\"===i.type?1:0,o=i.geometry;let f=e=>e;if(o.spatialReference){if(!r(o.spatialReference,t)){n.warn(\"Can't project modification polygon into layer spatial reference, ignoring modification\");continue}f=e=>(s(e,o.spatialReference,a,t),a)}else o.hasZ||(a[2]=0,f=e=>(a[0]=e[0],a[1]=e[1],a));c.push(e),c.push(o.rings.length);for(const t of o.rings){c.push(t.length);for(const e of t){const t=f(e);c.push(t[0]),c.push(t[1]),c.push(t[2])}}}c.push(3);const o=new Float64Array(c.length);for(let r=0;r<c.length;++r)o[r]=c.getItemAt(r);return o}export{i as I3SMeshWorkerHandle,f as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";class t{constructor(){this.ids=new Set,this.paused=!1}}class s{constructor({collection:e,forAllFeatures:t,forAllFeaturesOfNode:s}){this.highlights=[],this.collection=e,this.forAllFeatures=t,this.forAllFeaturesOfNode=s}destroy(){this.highlights.forEach((e=>this.releaseSet(e))),this.highlights=null}acquireSet(){const s=new t;this.highlights.push(s);const i={remove:()=>{this.releaseSet(s),e(this.highlights,s)},pause:()=>{this.releaseSet(s),s.paused=!0},resume:()=>{s.paused=!1,this.initializeSet(s)}};return{set:s,handle:i}}setFeatureIds(e,t){t.forEach((t=>e.ids.add(t))),this.initializeSet(e)}initializeSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.addComponentHighlight(i.objectHandle,s),1)))}releaseSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.removeComponentHighlight(i.objectHandle,s),1)))}objectCreated(e){this.highlights.forEach((t=>{t.paused||this.forAllFeaturesOfNode(e,((s,i)=>(t.ids.has(s)&&this.collection.addComponentHighlight(e.objectHandle,i),1)))}))}objectDeleted(e){this.collection.clearHighlights(e.objectHandle)}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e,isSome as s}from\"../../../../core/maybe.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";class d{constructor(){this.lodCrossfadeSignedDuration=0}}class i{constructor(e){this.view=e,this._preRenderFrameTaskHandle=null,this._currentFrameStartTime=null,this._numFadingNodes=0}get updating(){return this._numFadingNodes>0}stopNodeFading(s){null!=s.lodCrossfadeProgress&&(this._numFadingNodes--,s.lodCrossfadeProgress=null,0===this._numFadingNodes&&(null!=this._preRenderFrameTaskHandle&&(this._preRenderFrameTaskHandle=e(this._preRenderFrameTaskHandle)),this.view.notifyLODUpdate(),this.view.notifyUpdate()))}_startNodeFading(e,s,d){0===this._numFadingNodes&&(this._preRenderFrameTaskHandle=o({preRender:e=>this._updateAllNodeFading(e)}),this.view.notifyLODUpdate()),null==e.lodCrossfadeProgress&&(this._numFadingNodes++,this.view.notifyUpdate()),e.lodCrossfadeSignedDuration=d,e.lodCrossfadeProgress=s}_updateAllNodeFading(e){const o=this.view.nodeCrossfadingEnabled;this.view.foreachCrossfadeNode(((d,i)=>{if(s(i)&&s(i.lodCrossfadeProgress)){const s=i.lodCrossfadeSignedDuration,t=s>0?this.view.fullOpacity:0,a=e.deltaTime/s,r=i.lodCrossfadeProgress+Math.abs(a),n=!o||r>=1||0===s,l=t-(n?0:s>0?1:-1)*(1-r);n?(this.stopNodeFading(i),s<0&&this.view.markNodeToRemove(d)):i.lodCrossfadeProgress=r,this.view.setNodeOpacityByIndex(d,l)}})),this.view.removeMarkedNodes()}stopAllNodeFading(){this.view.foreachCrossfadeNode(((e,o)=>{if(s(o)&&s(o.lodCrossfadeProgress)){this.stopNodeFading(o);const s=o.lodCrossfadeSignedDuration;s<0&&this.view.markNodeToRemove(e);const d=s>0?this.view.fullOpacity:0;this.view.setNodeOpacityByIndex(e,d)}})),this.view.removeMarkedNodes()}fadeNode(e,s,o,d){null==this._currentFrameStartTime&&(this._currentFrameStartTime=Date.now());const i=this.view,a=i.nodeCrossfadingEnabled,r=0===o?i.fullOpacity:0,n=a?d?0===o?i.lodCrossfadeinDuration:i.lodCrossfadeoutDuration:i.lodCrossfadeUncoveredDuration:0,l=this.view.getNodeOpacityByIndex(e);if(a&&l!==r&&n>0){const e=1-Math.abs(r-l);this._startNodeFading(s,e,t(o)*n)}else this.stopNodeFading(s),this.view.setNodeOpacityByIndex(e,r),1===o&&this.view.removeNode(e)}isNodeFullyFadedIn(e){const o=this.view.getNodeCrossfadeMetaData(e);return s(o)&&null==o.lodCrossfadeProgress&&this.view.getNodeOpacityByIndex(e)===this.view.fullOpacity}}function t(e){return 0===e?1:-1}export{i as I3SCrossfadeHelper,d as NodeCrossfadeMetaData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{w as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{m as l,g as p}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{empty as d,expand as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{Intersector as f}from\"../../webgl-engine/lib/Intersector.js\";const u=d(),v=c(),y=h(),x=h(),E=h(),g=s.getLogger(\"esri.views.3d.layers.i3s.I3SElevationProvider\");let j=class extends(r.EventedMixin(t)){constructor(e){super(e),this.tmpEvent={spatialReference:null,extent:u,context:\"scene\"}}initialize(){this.view=this.layerView.view,this.renderCoordsHelper=this.view.renderCoordsHelper,this.intersector=new f(this.view.state.viewingMode),this.intersector.options.store=0;const e=this.layerView.i3slayer.fullExtent;this.zmin=e.zmin,this.zmax=e.zmax,this.tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}getElevation(e,t,r,s){if(y[0]=e,y[1]=t,y[2]=r,!this.renderCoordsHelper.toRenderCoords(y,s,y))return g.error(\"could not project point to compute elevation\"),null;const i=this.layerView.elevationOffset,o=this.zmin+i,n=this.zmax+i;return this.renderCoordsHelper.setAltitude(x,n,y),this.renderCoordsHelper.setAltitude(E,o,y),this.intersector.reset(x,E),this.intersectionHandler.intersect(this.intersector,null,x,E),this.intersector.results.min.getIntersectionPoint(y)?this.renderCoordsHelper.getAltitude(y):null}layerChanged(){this.spatialReference&&(this.tmpEvent.extent=this.computeLayerExtent(),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}objectChanged(e){this.spatialReference&&(this.tmpEvent.extent=this.computeObjectExtent(e),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}computeObjectExtent(e){return d(u),this._expandExtent(e,u),u}computeLayerExtent(){d(u);for(const e of this.layerView.getVisibleNodes())this._expandExtent(e,u);return u}_expandExtent(e,t){const r=e.visibilityObb||e.serviceObbInRenderSR;if(i(r)){a(v,r.quaternion),v[12]=r.center[0],v[13]=r.center[1],v[14]=r.center[2];for(let e=0;e<8;++e)y[0]=1&e?r.halfSize[0]:-r.halfSize[0],y[1]=2&e?r.halfSize[1]:-r.halfSize[1],y[2]=4&e?r.halfSize[2]:-r.halfSize[2],l(y,y,v),this.renderCoordsHelper.fromRenderCoords(y,y,this.spatialReference),m(t,y)}else{const r=e.renderMbs[3],s=p(x,e.renderMbs);s[0]-=r,s[1]-=r,s[2]-=r;const i=p(E,e.renderMbs);i[0]+=r,i[1]+=r,i[2]+=r;for(let e=0;e<8;++e)y[0]=1&e?s[0]:i[0],y[1]=2&e?s[1]:i[1],y[2]=4&e?s[2]:i[2],this.renderCoordsHelper.fromRenderCoords(y,y,this.spatialReference),m(t,y)}}};e([o({constructOnly:!0})],j.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],j.prototype,\"intersectionHandler\",void 0),e([o()],j.prototype,\"view\",void 0),e([o({readOnly:!0,aliasOf:\"view.elevationProvider.spatialReference\"})],j.prototype,\"spatialReference\",void 0),j=e([n(\"esri.views.3d.layers.i3s.I3SElevationProvider\")],j);var b=j;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{g as t}from\"../../../../chunks/vec3.js\";import{intersectLine as i}from\"../../support/orientedBoundingBox.js\";import{IntersectorResult as r}from\"../../webgl-engine/lib/intersectorUtils.js\";import{getVerticalOffsetI3S as s}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";class n{constructor(e){this.type=\"I3S\",this.layerUid=e.layerUid,this.sublayerUid=e.sublayerUid,this.collection=e.collection,this.forEach=e.forEach,this.slicePlane=e.slicePlaneEnabled,this.isGround=e.isGround}intersect(n,l,a,d){const c=n.results,u=2===n.options.store,b=n.ray.direction,f=n.tolerance;let m=e=>e,h=e=>e;const p=s(n.verticalOffset);e(p)&&(m=e=>p.applyToMbs(e),h=e=>p.applyToObb(e)),this.forEach(((s,y)=>{if(e(s.geometryObb)){if(!i(h(s.geometryObb),a,b,f))return}else if(e(s.serviceObbInRenderSR)){if(!i(h(s.serviceObbInRenderSR),a,b,f))return}else if(!o(m(s.renderMbs),a,b,f))return;this.collection.intersect(y,a,d,f,p,((e,i,o,b)=>{if(i>=0){if(null!=l&&!l(a,d,i))return;const f=r=>{r.intersector=this.type,r.target={type:\"external\",metadata:{layerUid:this.layerUid,sublayerUid:this.sublayerUid,nodeIndex:s.index,componentIndex:e}},r.dist=i,t(r.normal,o),r.triangleNr=b};if(this.isGround&&(null==c.ground.dist||i<c.ground.dist)&&f(c.ground),n.options.isFiltered)return;if((null==c.min.dist||i<c.min.dist)&&f(c.min),(null==c.max.dist||i>c.max.dist)&&f(c.max),u){const e=new r(n.ray);f(e),n.results.all.push(e)}}}))}))}get intersectionHandlerId(){return this.layerUid}}function o(e,t,i,r=0){const s=e[3]+r,n=t[0]-e[0],o=t[1]-e[1],l=t[2]-e[2],a=i[0],d=i[1],c=i[2],u=a*n+d*o+c*l;return u*u-(a*a+d*d+c*c)*(n*n+o*o+l*l-s*s)>=0}export{n as I3SIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{onAbort as s,throwIfAborted as r}from\"../../../../core/promiseUtils.js\";const i=14;class o{constructor(e,t,s=i){this._version=s,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=1073741824,this.quotaReductionFactor=.2,this._dbName=e,this._storeName=t}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,i=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),o=s.objectStoreNames.contains(\"last_access\")?r.objectStore(\"last_access\"):s.createObjectStore(\"last_access\");o.indexNames.contains(\"date\")||o.createIndex(\"date\",\"date\",{unique:!1}),o.indexNames.contains(\"byteSize\")||o.createIndex(\"byteSize\",\"byteSize\",{unique:!1}),t.oldVersion<this._version&&(i.clear(),o.clear())},c(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(t,s){if(null==this._db)return Promise.reject(new e(\"indexedb:not-initialized\",\"IndexedDB Cache is not initialized\"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(t,s))).catch((e=>{if(e&&\"QuotaExceededError\"===e.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(t,s)));throw e})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,i){if(null==this._db)return Promise.resolve(null);let o=null;return Promise.resolve().then((()=>{const t=this._db.transaction(this._storeName,\"readonly\");o=s(i,(()=>{t.abort()}));return c(t.objectStore(this._storeName).get(e))})).then((s=>{if(null==s)++this._miss;else if(this._db){++this._hit;this._db.transaction(\"last_access\",\"readwrite\").objectStore(\"last_access\").put({date:Date.now(),byteSize:s.byteSize},e)}return t(o)&&o.remove(),s})).catch((()=>(++this._miss,r(i),t(o)&&o.remove(),null)))}remove(e){return null==this._db?Promise.resolve():Promise.resolve().then((async()=>{const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\"),i=s.delete(e),o=r.delete(e);await Promise.all([c(i),c(o),n(t)])}))}_put(e,t){const s=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),r=s.objectStore(this._storeName),i=s.objectStore(\"last_access\"),o=r.put(t,e),a=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([c(o),c(a),n(s)])}_removeLeastRecentlyAccessed(e){if(e<=0)return;const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\");let i=0;const o=r.index(\"date\").openCursor(null,\"next\");return o.onsuccess=()=>{const t=o.result;null!=t&&(null!=t.value.byteSize&&(i+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),i<e&&t.continue())},n(t)}_getCacheSize(){const e=this._db.transaction(\"last_access\"),t=e.objectStore(\"last_access\");let s=0;const r=t.index(\"byteSize\").openKeyCursor();return r.onsuccess=()=>{const e=r.result;if(!e)return;const t=e.key;null!=t&&(s+=t),e.continue()},n(e).then((()=>s))}}function n(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function c(e){return new Promise(((t,s)=>{\"done\"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}export{o as IDBCache,c as whenRequest,n as whenTransaction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../Graphic.js\";import s from\"../../../core/Collection.js\";import r from\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{someMap as a}from\"../../../core/MapUtils.js\";import{unwrapOr as n,isSome as l,destroyMaybe as d,isNone as h,applySome as c,unwrap as u}from\"../../../core/maybe.js\";import _ from\"../../../core/PooledArray.js\";import{throwIfAborted as m,createResolver as g}from\"../../../core/promiseUtils.js\";import{schedule as p}from\"../../../core/scheduling.js\";import{isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as b}from\"../../../core/unitUtils.js\";import{init as y}from\"../../../core/watchUtils.js\";import{property as v}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as I}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as M}from\"../../../chunks/mat3.js\";import{c as C}from\"../../../chunks/mat3f32.js\";import{m as x,u as O}from\"../../../chunks/mat4.js\";import{b as j,c as w}from\"../../../chunks/mat4f64.js\";import{m as S,g as E}from\"../../../chunks/vec3.js\";import{c as F}from\"../../../chunks/vec3f64.js\";import{s as D}from\"../../../chunks/vec4.js\";import{projectBuffer as R,getProjectorName as N,localLinearScaleFactors as T,projectVectorToVector as V,projectBoundingSphere as A}from\"../../../geometry/projection.js\";import{create as P,empty as H,expandWithBuffer as U,intersects as G}from\"../../../geometry/support/aaBoundingBox.js\";import L from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{fixFields as B}from\"../../../layers/support/fieldUtils.js\";import{areLabelsVisible as k}from\"../../../layers/support/layerUtils.js\";import q from\"../../../layers/support/SceneModification.js\";import{getColor as z,getOpacity as W}from\"../../../renderers/visualVariables/support/visualVariableUtils.js\";import{loadArcade as $}from\"../../../support/arcadeOnDemand.js\";import K from\"../../../symbols/Symbol3D.js\";import{getMetersPerUnit as J}from\"../../../symbols/support/unitConversionUtils.js\";import Q from\"./I3SMeshViewLabeler.js\";import{I3SMeshWorkerHandle as X,toWasmModification as Y}from\"./I3SMeshWorkerHandle.js\";import{initialize as Z,setModificationsSync as ee,filterObbsForModificationsSync as te,interpretObbModificationResults as ie}from\"./SceneLayerWorker.js\";import{overrideColor as se}from\"./graphics/graphicUtils.js\";import re from\"./i3s/Highlights.js\";import{I3SAttributeOverrides as oe}from\"./i3s/I3SAttributeOverrides.js\";import{I3SCrossfadeHelper as ae,NodeCrossfadeMetaData as ne}from\"./i3s/I3SCrossfadeHelper.js\";import le from\"./i3s/I3SElevationProvider.js\";import{boundingBoxCornerPoints as de}from\"./i3s/I3SGeometryUtil.js\";import{I3SIntersectionHandler as he}from\"./i3s/I3SIntersectionHandler.js\";import{getSupportedEncodings as ce,selectEncoding as ue,createTexture as _e,configureMaterial as me}from\"./i3s/I3SMaterialUtil.js\";import{computeGlobalTransformation as ge,getLocalOrigin as pe}from\"./i3s/I3SProjectionUtil.js\";import{rendererNeedsTextures as fe,checkSceneLayerValid as be,checkSceneLayerCompatibleWithView as ye,getCacheKeySuffix as ve,whenGraphicAttributes as Ie,computeVisibilityObb as Me,filterInPlace as Ce,getCachedAttributeValue as xe,intersectBoundingBoxWithMbs as Oe,addWraparound as je,getSymbolInfo as we,transparentEdgeMaterial as Se,getClipAABB as Ee}from\"./i3s/I3SUtil.js\";import{IDBCache as Fe}from\"./i3s/IDBCache.js\";import{attributeLookup as De}from\"./support/attributeUtils.js\";import Re from\"../support/debugFlags.js\";import{projectToBoundingBox as Ne}from\"../support/extentUtils.js\";import{create as Te,clone as Ve}from\"../support/orientedBoundingBox.js\";import{updatingProgress as Ae}from\"../support/updatingProperties.js\";import{glLayout as Pe}from\"../support/buffer/glUtil.js\";import{createVertexBufferLayout as He}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{loadBasis as Ue}from\"../webgl-engine/lib/BasisUtil.js\";const Ge=o.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),Le=[1,1,1,1];class Be extends ne{constructor(e,t,i,s,r,o,a){super(),this.node=e,this.featureIds=t,this.objectHandle=i,this.cachedRendererVersion=s,this.attributeInfo=r,this.material=o,this.textures=a,this.cachedEdgeMaterials=new Array,this.cachedSymbology=null}}const ke=18,qe=104857600,ze=t=>{var o;let f=o=class extends t{constructor(...e){super(e),this._elevationProvider=null,this._intersectionHandler=null,this._nodeId2Meta=new Map,this._nodeId2MetaReloading=new Map,this._i3sWasmLoaded=!1,this._hasLoadedPBRTextures=!1,this._asyncModuleLoading=0,this._addTasks=new Map,this._rendererVersion=0,this._colorVariable=null,this._opacityVariable=null,this._rendererFields=null,this._symbologyFields=null,this._symbologyOverride=null,this._symbologyOverrideFields=null,this._symbolInfos=new Map,this._idbCache=new Fe(\"esri-scenelayer-cache\",\"geometries\"),this.holeFilling=\"auto\",this._hasColors=!1,this._hasTextures=!1,this._hasData=!1,this.slicePlaneEnabled=!1,this._modifications=new Array,this._layerUrl=\"\",this._cacheKeySuffix=null,this._arcade=null,this._tmpAttributeOnlyGraphic=new i(null,null,{}),this._crossfadeHelper=new ae(this),this.index=o.lastIndex++}get lodCrossfadeoutDuration(){return 0}get lodCrossfadeinDuration(){return 0}get lodCrossfadeUncoveredDuration(){return 0}get layerUid(){return this.i3slayer&&this.i3slayer.uid}get sublayerUid(){return null}get hasTexturesOrVertexColors(){return this._hasData?this._hasTextures||this._hasColors?\"yes\":\"probably-not\":\"unknown\"}get rendererTextureUsage(){return fe(this._currentRenderer)?this._usePBR()||this._hasLoadedPBRTextures?63:37:this._usePBR()||this._hasLoadedPBRTextures?44:36}get elevationOffset(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null!=e&&\"absolute-height\"===e.mode){const t=b(this.i3slayer.spatialReference),i=J(e.unit);return n(e.offset,0)*i/t}return 0}get supportedTextureEncodings(){return ce(this.view._stage.renderView)}get uncompressedTextureDownsamplingEnabled(){var e;const t=null==(e=this.view)?void 0:e.qualitySettings.sceneService.uncompressedTextureDownsamplingEnabled,i=0==(4&this.supportedTextureEncodings);return t&&i}initialize(){this.preLoadBasis(),this.addResolvingPromise(this.i3slayer.indexInfo);const e=this.view.resourceController;if(this.attributeOverrides=new oe(this.i3slayer,e.memoryController),this._worker=new X((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._worker.setLegacySchema(this.layerUid,this.i3slayer.store.defaultGeometrySchema),be(this.i3slayer),ye(this.i3slayer,this.view),this._layerUrl=this.i3slayer.parsedUrl.path,this._controller=new L({layerView:this}),this.gpuMemoryEstimate=0,this.texMemoryEstimate=0,this.geoMemoryEstimate=0,this._stage=this.view._stage,this._collection=this._stage.renderView.componentObjectCollection,this._highlights=new re({collection:this._collection,forAllFeatures:e=>this._forAllFeatures(e,null,1),forAllFeaturesOfNode:(e,t)=>this._forAllFeaturesOfNode(e,t)}),this._isIntegratedMesh||!this.i3slayer.store.defaultGeometrySchema)this._hasSymbolColors=!1;else{const e=this.i3slayer.store.defaultGeometrySchema.featureAttributes;this._hasSymbolColors=!!(e&&e.faceRange&&e.id)}this._hasVertexColors=null!=this.i3slayer.store.defaultGeometrySchema.vertexAttributes.color&&(null==this.i3slayer.cachedDrawingInfo||!this.i3slayer.cachedDrawingInfo.color),this._isIntegratedMesh||(this._edgeView=this._stage.renderView.ensureEdgeView()),this._memCache=this.view.resourceController.memoryController.getMemCache(this.i3slayer.uid,(e=>this._deleteComponentObject(e))),this._intersectionHandler=new he({layerUid:this.layerUid,sublayerUid:this.sublayerUid,collection:this._collection,slicePlaneEnabled:this.slicePlaneEnabled,isGround:this._isIntegratedMesh,forEach:e=>{this._nodeId2Meta.forEach((t=>l(t)&&e(t.node,t.objectHandle))),this._nodeId2MetaReloading.forEach((t=>l(t)&&e(t.node,t.objectHandle)))}}),this._elevationProvider=new le({layerView:this,intersectionHandler:this._intersectionHandler}),this._hasLoadedPBRTextures=this._usePBR(),this.updatingHandles.add(this,\"view.clippingArea\",(()=>this._clippingAreaChanged()),2),this.updatingHandles.add(this,\"fullOpacity\",(e=>this._opacityChange(e))),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._slicePlaneEnabledChange(e))),this.updatingHandles.add(this,\"elevationOffset\",((e,t)=>{this._reloadAll(t),this._controller.invalidateVisibilityObbs()})),this.updatingHandles.add(this,\"filter\",(()=>this._filterChange()),2),this.updatingHandles.add(this,\"view.qualitySettings.physicallyBasedRenderingEnabled\",(()=>this._updatePBR()));const t=()=>{this._reloadAll(),this.clearMemCache()};this.updatingHandles.add(this,\"rendererTextureUsage\",t),this.updatingHandles.add(this,\"uncompressedTextureDownsamplingEnabled\",t),this.updatingHandles.add(this,\"suspended\",(e=>this._suspendedChange(e)),2),this.updatingHandles.add(this.i3slayer,\"labelsVisible\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this.i3slayer,\"labelingInfo\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this,\"_modifications\",(()=>this._modificationsChanged()),2),this.handles.add([y(Re,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Re.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||Re.I3S_TREE_SHOW_TILES||(this._treeDebugger=d(this._treeDebugger))})),y(Re,\"I3S_SHOW_MODIFICATIONS\",(()=>this._showModifications()))]),this._cacheKeySuffix=ve(this.i3slayer.spatialReference,this.view.renderSpatialReference),this._idbCache.init().catch((e=>Ge.warn(`Failed to initialize IndexedDB cache: ${e}`)))}destroy(){this._clearAddTasks(),this.attributeOverrides=d(this.attributeOverrides),this._elevationProvider&&(this._elevationProvider.layerChanged(),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this._intersectionHandler&&(this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null);const e=this._worker;e&&(e.destroyContext(this.i3slayer.uid).then((()=>e.destroy())),this._worker=null),this._removeAllNodeDataFromStage(),this._memCache=d(this._memCache),this._collection=null,this._stage=null,this._edgeView=null,this._labeler=d(this._labeler),this._treeDebugger=d(this._treeDebugger),this._controller=d(this._controller),this._highlights.destroy(),this._nodeId2Meta.clear(),this._nodeId2MetaReloading.clear(),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}memEstimateTextureAdded(e){const t=e.estimatedTexMemRequired;return this.gpuMemoryEstimate+=t,this.texMemoryEstimate+=t,t}memEstimateTextureRemoved(e){const t=e.estimatedTexMemRequired;this.gpuMemoryEstimate-=t,this.texMemoryEstimate-=t}memEstimateGeometryAdded(e){const t=this._collection.getObjectGPUMemoryUsage(e);return this.gpuMemoryEstimate+=t,this.geoMemoryEstimate+=t,t}memEstimateGeometryRemoved(e){const t=this._collection.getObjectGPUMemoryUsage(e);this.gpuMemoryEstimate-=t,this.geoMemoryEstimate-=t}isNodeLoaded(e){return this._nodeId2Meta.has(e)}isNodeReloading(e){return this._nodeId2MetaReloading.has(e)}getUsedMemory(){let e=l(this._labeler)?this._labeler.usedMemory:0;return this._nodeId2Meta.forEach((t=>e+=l(t)?t.node.memory:0)),this._nodeId2MetaReloading.forEach((t=>e+=l(t)?t.node.memory:0)),e}getUnloadedMemory(){return(l(this._controller)?this._controller.unloadedMemoryEstimate:0)+(l(this._labeler)?this._labeler.unloadedMemoryEstimate:0)}ignoresMemoryFactor(){return!1}_labelingChanged(){if(!(k(this.i3slayer)&&this._supportsLabeling))return void(l(this._labeler)&&(this._labeler.destroy(),this._labeler=null));if(l(this._labeler))return;const e=new Q({view:this.view,layer:this.i3slayer,collection:this._collection});this._nodeId2Meta.forEach((t=>l(t)&&this._addMetaToLabeler(e,t))),this._labeler=e}_loadAsyncModule(e){return++this._asyncModuleLoading,e.then((e=>(--this._asyncModuleLoading,e)),(e=>{throw--this._asyncModuleLoading,e}))}_modificationsChanged(){if(!this._i3sWasmLoaded&&this._hasModifications)return this._i3sWasmLoaded=Z().then((()=>{this._i3sWasmLoaded=!0,this._modificationsChanged(),this.notifyUpdate()})),void this.notifyUpdate();if(!0!==this._i3sWasmLoaded)return;const e=this.i3slayer.uid,t=this.i3slayer.spatialReference;this._worker.setModifications(e,this._modifications,t);const i=Y(this._modifications,t);ee({context:e,modifications:i,isGeodetic:t.isGeographic}),this._controller.modificationsChanged();const s=this._hasModifications?new _:null;this._nodeId2Meta.forEach(((e,t)=>{h(e)?this._nodeId2Meta.delete(t):e.node.hasModifications?(this._nodeId2Meta.delete(t),this._nodeId2MetaReloading.set(t,e)):l(s)&&s.push(e.node)})),l(s)&&this._nodeId2MetaReloading.forEach((e=>s.push(e.node))),l(s)&&s.length>0&&(this.updateNodeModificationStatus(s),s.forAll((e=>{if(2!==e.imModificationImpact){const t=this._nodeId2Meta.get(e.index);this._controller.invalidateGeometryVisibility(e.index),this._nodeId2Meta.delete(e.index),l(t)&&this._nodeId2MetaReloading.set(e.index,t)}}))),this.clearMemCache(),this._controller.restartNodeLoading(),this._showModifications()}_showModifications(){if(l(this._modificationGraphics)&&(this.view.graphics.removeMany(this._modificationGraphics),this._modificationGraphics=null),!Re.I3S_SHOW_MODIFICATIONS||0===this._modifications.length)return;const e={clip:[227,227,79,.8],mask:[227,139,79,.8],replace:[139,227,79,.8]},t={type:\"simple-fill\",outline:{color:[255,255,255],width:1}};this._modificationGraphics=new Array;for(const s of this._modifications){s.geometry.spatialReference=this.i3slayer.spatialReference;const r={...t,color:e[s.type]};this._modificationGraphics.push(new i({geometry:s.geometry,symbol:r}))}this.view.graphics.addMany(this._modificationGraphics)}_addMetaToLabeler(e,t){e.addNodeMeta(t,((e,t)=>this._createAttributes(e,t)))}_suspendedChange(e){e?(this._removeAllNodeDataFromStage(),this.view.elevationProvider&&this.view.elevationProvider.unregister(this._elevationProvider),this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler)):(this.view.elevationProvider.register(this._elevationContext,this._elevationProvider),this._stage.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler))}getLoadedAttributes(e){const t=this._nodeId2Meta.get(e);if(l(t)&&l(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodeId2Meta.get(e);if(l(t)&&l(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const i=this._nodeId2Meta.get(e);l(i)&&l(i.attributeInfo)&&(i.attributeInfo.attributeData=t,this._attributeValuesChanged(i))}async updateAttributes(e,t,i){const s=this._nodeId2Meta.get(e);l(s)&&(await this.attributeOverrides.apply(s.featureIds,t,i),s.attributeInfo=t,this._attributeValuesChanged(s))}_attributeValuesChanged(e){e.cachedRendererVersion=this._getInvalidRendererVersion(),e.filteredIds=null,l(this._labeler)&&this._labeler.setNodeMetaAttributes(e,((e,t)=>this._createAttributes(e,t))),this._updateEngineObject(e)}clearMemCache(){l(this._memCache)&&this._memCache.clear()}getVisibleNodes(){const e=new Array;return this._nodeId2Meta.forEach((t=>l(t)&&e.push(t.node))),e}getLoadedNodeIndices(e){this._nodeId2Meta.forEach(((t,i)=>e.push(i))),this._nodeId2MetaReloading.forEach(((t,i)=>e.push(i)))}preLoadBasis(){!r(\"disable-feature:i3s-basis\")&&0!=(2&this.supportedTextureEncodings)&&c(this.i3slayer.textureSetDefinitions,(e=>e.some((e=>e.formats.some((e=>\"basis\"===e.format||\"ktx2\"===e.format))))))&&Ue()}_getVertexBufferLayout(e,t){const i={hasTexture:Ye(e.params.material),hasNormals:t.normal,hasRegions:t.uvRegion};return Pe(He(this._getGeometryParameters(i)))}_getObjectIdField(){return this.i3slayer.objectIdField||\"OBJECTID\"}_findGraphicNodeAndIndex(e){const t=De(this.i3slayer.fieldsIndex,e.attributes,this._getObjectIdField());let i=null;return a(this._nodeId2Meta,(e=>{if(h(e))return!1;const s=e.featureIds.indexOf(t);return-1!==s&&(i={node:e.node,index:s},!0)})),i}_getGraphicIndices(e,t){const i=this._nodeId2Meta.get(e.index);if(h(i))return[];const s=[],r=this._getObjectIdField(),o=this.i3slayer.fieldsIndex;for(const a of t){const e=De(o,a.attributes,r),t=i.featureIds.indexOf(e);-1!==t&&s.push(t)}return s}whenGraphicBounds(e){const t=this._findGraphicNodeAndIndex(e);if(!t)return Promise.reject();const i=this._nodeId2Meta.get(t.node.index);if(h(i))return Promise.reject();const s=i.objectHandle,r=de(t.index,this._collection,s,new Float64Array(24)),o=this.view.renderSpatialReference,a=this.view.spatialReference;if(R(r,o,0,r,a,0,8)){const e=H();return U(e,r,0,8),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}}whenGraphicAttributes(e,t){return Ie(this.i3slayer,e,this._getObjectIdField(),t,(()=>[...this._nodeId2Meta.values()].filter(l)))}getGraphicFromIntersectorMetadata(e){if(null==e.nodeIndex||null==e.componentIndex)return null;const t=this._nodeId2Meta.get(e.nodeIndex);return h(t)||null==t.featureIds||e.componentIndex>=t.featureIds.length?null:this._createGraphic(e.componentIndex,t)}_getCacheKey(e){return`${this._layerUrl}/v${ke}/${e.id}${this._cacheKeySuffix}`}_getMemCacheKey(e,t=this.elevationOffset){return e+\"#\"+t}get _idbCacheEnabled(){return!this._controller.disableIDBCache&&0===this._modifications.length&&0===this.elevationOffset&&null!=this._cacheKeySuffix}loadCachedGPUData(e){return l(this._memCache)?this._memCache.pop(this._getMemCacheKey(e.index)):null}deleteCachedGPUData(e){l(e)&&this._deleteComponentObject(e)}_cacheGPUData(e,t=this.elevationOffset){if(h(this._memCache))return void this._deleteComponentObject(e);const i=this._controller.indexDepth-e.node.level;this._memCache.put(this._getMemCacheKey(e.node.index,t),e,e.node.memory,i)}loadMissingTextures(e,t,i,s){const r=e.filter(((e,i)=>{if(0==(e.usage&this.rendererTextureUsage))return!1;if(h(t))return!0;const s=ue(e.encodings,this.supportedTextureEncodings),r=t[i];return!!(h(r)||null==r.data||s&&r.encoding!==s.encoding)}));return 0===r.length?Promise.resolve(!1):i(r,s).then((i=>{let s=0;for(let r=0;r<e.length;r++)s<i.length&&i[s].id===e[r].id&&(t[r]=i[s],s++);return!0}))}loadCachedNodeData(e,t,i){return this._idbCacheEnabled?this._idbCache.get(this._getCacheKey(e),t).then((s=>null==s?null:s.nodeVersion!==e.version?(this._idbCache.remove(this._getCacheKey(e)),null):(e.geometryObb=s.geometryObb,this.loadMissingTextures(s.requiredTextures,s.textureData,i,t).then((i=>(i&&this._idbCache.initialized&&l(s.textureData)&&(s.byteSize=tt(s.transformedGeometry,s.textureData),s.textureData.every(et)&&it(e,s)&&this._idbCache.put(this._getCacheKey(e),s).catch((t=>Ge.warn(`Failed to update node with textures in IndexedDB cache: ${e.id}: ${t}`)))),m(t),s)))))):Promise.resolve(null)}addNode(e,t,i){return Ze(t)?this._addData(e,t.attributeDataInfo,(()=>this._transformNode(e,t,i).then((s=>this._safeReschedule((()=>{if(h(s))return e.hasModifications=!1,this._addCachedNodeData(e,null,i);e.hasModifications=s.transformedGeometry.hasModifications;const{obb:r,componentOffsets:o,featureIds:a,transformedGeometry:n}=s,d=this._controller.crsIndex,c=this.view.renderSpatialReference,u=ge(e.mbs,this.elevationOffset,d,c);e.geometryObb=Te([r.center.x,r.center.y,r.center.z],[r.extents.x,r.extents.y,r.extents.z],[r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w]),S(e.geometryObb.center,e.geometryObb.center,u),t.geometryData.componentOffsets=o,a&&(t.geometryData.featureIds=Array.prototype.slice.call(a));const _={nodeVersion:e.version,geometryData:t.geometryData,requiredTextures:t.requiredTextures,textureData:t.textureData,transformedGeometry:n,globalTrafo:u,geometryObb:e.geometryObb,byteSize:tt(n,t.textureData)};if(this._idbCacheEnabled&&this._idbCache.initialized&&it(e,_)){const t=l(_.textureData)?_.textureData.map((e=>et(e)?e:null)):null;this._idbCache.put(this._getCacheKey(e),{..._,textureData:t}).catch((t=>Ge.warn(`Failed to store node in IndexedDB cache: ${e.id}: ${t}`)))}return this._addCachedNodeData(e,_,i)}),i))))):Promise.reject()}computeVisibilityObb(e){return Me(e,this.view.renderSpatialReference,this._controller.crsIndex,this.i3slayer.spatialReference,this.elevationOffset,this._modifications)}_transformNode(e,t,i){const s=t.geometryData.geometries,r=new Array(s.length);for(let h=0;h<s.length;++h)r[h]=this._getVertexBufferLayout(s[h],t.geometryDescriptor);const o=e.mbs,a=this.elevationOffset,n=this._controller.crsIndex,l=this._controller.crsVertex,d=this.view.renderSpatialReference,c=pe(o,a,n),u=ge(o,a,n,d),_=N(n,l),m=N(l,d);if(h(_)||h(m))return Promise.resolve(null);const g={context:this.i3slayer.uid,geometryBuffer:t.geometryBuffer,geometryData:t.geometryData,geometryDescriptor:t.geometryDescriptor,layouts:r,localOrigin:c,globalTrafo:u,mbs:o,obb:e.serviceObb,elevationOffset:a,needNormals:!this._isIntegratedMesh&&this._controller.isMeshPyramid,normalReferenceFrame:this.i3slayer.normalReferenceFrame||\"none\",indexToVertexProjector:_,vertexToRenderProjector:m};return this._worker.invoke(g,i)}get supportsNodeCrossFading(){var e,t;return!(null!=(e=this.view)&&null!=(t=e._stage)&&t.renderView.has(3))}get nodeCrossfadingEnabled(){return this.supportsNodeCrossFading&&(this.lodCrossfadeinDuration>0||this.lodCrossfadeoutDuration>0||this.lodCrossfadeUncoveredDuration>0)}get nodeFadeoutEnabled(){return this.supportsNodeCrossFading&&this.lodCrossfadeoutDuration>0}_setNewNodeOpacity(e){const t=this.nodeCrossfadingEnabled?0:this.fullOpacity;this._setNodeOpacity(e,t)}addCachedGPUData(e,t,i){if(e.geometryObb=Ve(this._collection.getComponentObb(t.objectHandle)),!this._controller.isGeometryVisible(e))return void this._cacheGPUData(t);l(this._labeler)&&this._addMetaToLabeler(this._labeler,t);const s=e.index;this._addNodeMeta(s,t),this.updateNodeState(s,i),this._collection.setObjectVisibility(t.objectHandle,!0),this._updateMaterial(t),this._setNewNodeOpacity(t),this._updateEngineObject(t),this._highlights.objectCreated(t),l(this._treeDebugger)&&this._treeDebugger.update()}addCachedNodeData(e,t,i,s){return this._addData(e,i,(()=>this._addCachedNodeData(e,t,s)))}async _addCachedNodeData(e,t,i){if(this.suspended||!this._controller.isGeometryVisible(e))return void this._removeNodeStageData(e.index,this.elevationOffset,this._nodeId2MetaReloading);if(h(t))return void this._addNodeMeta(e.index,null);const s=this._addTasks.get(e.index),{geometryData:o,transformedGeometry:a,globalTrafo:n}=t;await this.attributeOverrides.apply(o.featureIds,s.attributeInfo,i);const d=l(t.textureData)?t.textureData.filter((e=>l(e)&&0!=(e.usage&this.rendererTextureUsage))):[];!r(\"disable-feature:i3s-basis\")&&d.some((e=>l(e)&&(2===e.encoding||1===e.encoding)))&&await Ue(),e.memory=0;const{componentOffsets:c,geometries:_,featureIds:m}=o,g=this._collection,p=_[0],{layout:f,indices:b,interleavedVertexData:y,positionData:v,hasColors:I}=a,S=this._materialParameters(p,f),E=c||new Uint32Array([0,b?b.length:y.byteLength/f[0].stride]),D={vertices:{data:y,count:y.byteLength/f[0].stride,layoutParameters:S.geometryParams},positionData:{positions:v.data,indices:v.indices},indices:b,componentOffsets:E},R=p.transformation?j(p.transformation):w();x(R,n,R);const N=O(F(),R),A=M(C(),R),P=this.view.renderSpatialReference,H=this.view.basemapTerrain.spatialReference,U=F(),G=[1,1,1];T(N,P,G,H),V(N,P,U,H);const L=g.createObject({toMapSpace:[U[0],U[1],G[0],G[1]],geometry:D,obb:u(e.geometryObb),transform:{position:N,rotationScale:A},visible:!1}),B=2===S.geometryParams.textureCoordinates,k=this._initMaterialAndTextures(L,S.material,d,B);e.memory+=this.memEstimateGeometryAdded(L),e.memory+=k.reduce(((e,t)=>e+(l(t)?this.memEstimateTextureAdded(t):0)),0);const q=!!S.material.hasParametersFromSource,z=\"blend\"!==S.material.alphaMode&&S.material.metallicRoughness.baseColorFactor[3]>=1,W=new Be(e,m,L,this._getInvalidRendererVersion(),s.attributeInfo,{hasParametersFromSource:q,isOpaque:z},k);s.meta=W,!this._hasTextures&&t.requiredTextures.some((({usage:e})=>0!=(19&e)))&&(this._hasTextures=!0),this._hasData=!0,this._hasColors=this._hasColors||I,this._hasTextures=this._hasTextures||!!e.resources.texture,this.notifyChange(\"hasTexturesOrVertexColors\");const $=this.slicePlaneEnabled;return this._addOrUpdateEdgeRendering(W).then((t=>(l(t)&&t.updateObjectVisibility(W.objectHandle,!1),this._safeReschedule((()=>{const i=this._addTasks.get(e.index);if(!i)return;if(l(this._labeler)&&this._addMetaToLabeler(this._labeler,W),this._addNodeMeta(e.index,W),i.meta=null,this.suspended)return void this._removeNodeStageData(e.index,this.elevationOffset);g.setObjectVisibility(L,!0),l(t)&&t.updateObjectVisibility(W.objectHandle,!0),W.attributeInfo=i.attributeInfo;const s=W.cachedRendererVersion!==this._rendererVersion,r=$!==this.slicePlaneEnabled;this._setObjectSymbolColors(W);const o=this._applyFiltersToNode(W);(s||l(t)&&(r||o))&&this._addOrUpdateEdgeRendering(W),this._visibleGeometryChanged(W),this._highlights.objectCreated(W),this._updateMaterial(W),this._setNewNodeOpacity(W),l(this._treeDebugger)&&this._treeDebugger.update()}),i)))).catch((e=>{throw l(s.meta)&&(this._deleteComponentObject(s.meta),s.meta=null),e}))}_addNodeMeta(e,t){if(this._removeNodeStageData(e,this.elevationOffset,this._nodeId2MetaReloading),this._nodeId2Meta.has(e)){Ge.error(\"Removing duplicated node\");const t=this._nodeId2Meta.get(e);l(t)&&this._deleteComponentObject(t)}l(t)&&(t.lodCrossfadeProgress=null,this.nodeCrossfadingEnabled&&ot(t.cachedEdgeMaterials,0)),this._nodeId2Meta.set(e,t)}_safeReschedule(e,t){return m(t),this._controller.reschedule(e,t)}_materialParameters(e,t){const i=e.params.material,s=t.some((e=>\"uvRegion\"===e.name)),r=t.some((e=>\"normalCompressed\"===e.name)),o=Ye(i);return{geometryParams:this._getGeometryParameters({hasTexture:o,hasNormals:r,hasRegions:s}),material:i}}_initMaterialAndTextures(e,t,i,s){const r=this._stage.renderView,o=i.map((e=>_e(e,t,s,r)));for(const a of o)l(a)&&this._stage.add(a);return this._collection.updateMaterial(e,(e=>{me(e,t,o,i,this.view._stage.renderView.textureRepository,{rendererTextureUsage:this.rendererTextureUsage,usePBR:this._usePBR(),isIntegratedMesh:this._isIntegratedMesh,slicePlaneEnabled:this.slicePlaneEnabled,viewSpatialReference:this.view.spatialReference}),this._updateMaterialOverlay(e)})),o}_getGeometryParameters(e){return{textureCoordinates:e.hasTexture?e.hasRegions?2:1:0,colors:this._hasVertexColors,normals:e.hasNormals&&!this._isIntegratedMesh}}_addData(e,t,i){let s=this._addTasks.get(e.index);return s?s.attributeInfo=t:(s={...g(),attributeInfo:t,meta:null},this._addTasks.set(e.index,s),i().then(s.resolve,s.reject).then((()=>this._addTasks.delete(e.index))).catch((t=>{throw this._addTasks.delete(e.index),t}))),s.promise}_clearAddTasks(){this._addTasks.forEach((e=>{l(e.meta)&&(this._deleteComponentObject(e.meta),e.meta=null)})),this._addTasks.clear()}_clippingAreaChanged(){const e=P();Ne(this.view.clippingArea,e,this.view.renderSpatialReference)?this._clippingArea=e:this._clippingArea=null,this._filterChange(),this._controller&&this._controller.updateClippingArea(this.view.clippingArea)}_geometryFilterChange(){this._controller.geometryFilterChanged(this.hasGeometryFilter)}get hasGeometryFilter(){return!1}_filterChange(){this._applyFilters(!1)}_applyFilters(e){this._filters=this.getFilters(),e?this._controller&&this._controller.requestUpdate():this._nodeId2Meta.forEach((e=>{l(e)&&this._applyFiltersToNode(e)&&(this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e))}))}getFilters(){const e=[];return this._clippingArea&&e.push(((e,t)=>this._boundingboxFilter(e,t,this._clippingArea))),e}addSqlFilter(e,t,i){if(l(t)){const s=t.fieldNames;e.push(((e,r)=>this._sqlFilter(e,r,t,s,i)))}}_sqlFilter(e,t,i,s,r){const o={},a=this._createLayerGraphic(o),n=this.i3slayer.objectIdField,d=t.featureIds,h=l(t.attributeInfo)&&t.attributeInfo.attributeData;s.every((e=>null!=h[e]||e===n))&&Ce(e,d,(e=>{o[n]=d[e];for(const i of s)i!==n&&(o[i]=xe(h[i],e));try{return i.testFeature(a)}catch(t){return r(t),!1}}))}_boundingboxNodeTest(e,t){return A(e.node.mbs,this._controller.crsIndex,Xe,this.view.renderSpatialReference),Oe(t,Xe)}_boundingboxFeatureTest(e,t,i){return G(i,this._collection.getComponentAabb(e.objectHandle,t,We))}_boundingboxFilter(e,t,i){const s=this._collection,r=this._boundingboxNodeTest(t,i);if(3===r)return;if(0===r)return void(e.length=0);const o=s.getComponentCount(t.objectHandle);if(o.invisible+o.visible!==t.featureIds.length)return;const a=this._transformAABB($e,i,t.objectHandle);Ce(e,t.featureIds,(e=>this._boundingboxFeatureTest(t,e,a)))}_transformAABB(e,t,i){const s=this._collection.getObjectTransform(i),r=s.position,o=s.rotationScale;return e[0]=(t[0]-r[0])/o[0],e[1]=(t[1]-r[1])/o[4],e[2]=(t[2]-r[2])/o[8],e[3]=(t[3]-r[0])/o[0],e[4]=(t[4]-r[1])/o[4],e[5]=(t[5]-r[2])/o[8],e}_addOrUpdateEdgeRendering(e,t=!0){if(h(this._edgeView))return Promise.resolve(null);const i=e.objectHandle,s=this._edgeView.hasObject(i),{hasEdges:r,perFeatureEdgeMaterials:o}=this._getFilteredEdgeMaterials(e),a={slicePlaneEnabled:this.slicePlaneEnabled};if(r){if(s){if(this.nodeCrossfadingEnabled){ot(o,this.getNodeOpacity(e))}return this._edgeView.updateAllComponentMaterials(i,o,a,t),this._edgeView.updateObjectVisibility(i,!0),Promise.resolve(this._edgeView)}return this._collection.addEdges(i,this._edgeView,o,a).then((()=>this._edgeView))}return s&&this._edgeView.removeObject(i),Promise.resolve(null)}_removeEdgeRendering(e){l(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._edgeView.removeObject(e.objectHandle)}_applyFiltersToNode(e){return!!this._applyFiltersToNodeComponents(e)&&(l(this._labeler)&&this._labeler.applyFilterChange(e),!0)}_applyFiltersToNodeComponents(e){const t=this._collection,i=0===t.getComponentCount(e.objectHandle).invisible;if(t.setAllComponentVisibilities(e.objectHandle,\"all\"),0===this._filters.length)return e.filteredIds=null,!i;if(this._updateCachedFilteredIds(e),e.filteredIds===e.featureIds)return!i;const s=this._computeFilteredComponentIndices(e);return t.setAllComponentVisibilities(e.objectHandle,s),!0}_updateCachedFilteredIds(e){null!=e.filteredIds&&e.appliedFilters===this._filters||(e.filteredIds=this._computeFilteredIds(e),e.appliedFilters=this._filters)}_computeFilteredIds(e){const t=e.featureIds.slice();for(const i of this._filters)if(i(t,e),0===t.length)break;return t.length===e.featureIds.length?e.featureIds:t}_computeFilteredComponentIndices(e){const t=new Array;return e.featureIds.forEach(((i,s)=>{e.filteredIds[t.length]===i&&t.push(s)})),t}_removeAllNodeDataFromStage(e=this.elevationOffset){this._nodeId2Meta.forEach(((t,i)=>this._removeNodeStageData(i,e))),this._nodeId2MetaReloading.forEach(((t,i)=>this._removeNodeStageData(i,e,this._nodeId2MetaReloading)))}removeNode(e){const t=this.elevationOffset;this._removeNodeStageData(e,t),this._removeNodeStageData(e,t,this._nodeId2MetaReloading)}_removeNodeStageData(e,t,i=this._nodeId2Meta){const s=i.get(e);h(s)?i.delete(e):(this._collection.setObjectVisibility(s.objectHandle,!1),this._visibleGeometryChanged(s),this._removeEdgeRendering(s),l(this._labeler)&&this._labeler.removeNodeMeta(s),i.delete(e),this._highlights.objectDeleted(s),i===this._nodeId2Meta?(this._cacheGPUData(s,t),this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopNodeFading(s)):this._deleteComponentObject(s),l(this._treeDebugger)&&this._treeDebugger.update())}_deleteComponentObject(e){if(l(this._edgeView)&&this._edgeView.removeObject(e.objectHandle),this.memEstimateGeometryRemoved(e.objectHandle),this._collection.destroyObject(e.objectHandle),e.textures)for(const t of e.textures)this.memEstimateTextureRemoved(t),this._stage.remove(t)}updateNodeState(e,t){const i=this._nodeId2Meta.get(e);l(i)&&this._collection.updateMaterial(i.objectHandle,(e=>e.polygonOffsetEnabled=0===t))}_invalidateAllSymbols(){this._rendererVersion=je(this._rendererVersion,1),this._controller&&this._controller.requestUpdate()}_getInvalidRendererVersion(){return je(this._rendererVersion,-1)}async _rendererChange(e){if(this._currentRenderer=e,this.notifyChange(\"rendererTextureUsage\"),this._rendererVersion=je(this._rendererVersion,1),this._rendererFields=null,this._colorVariable=null,this._opacityVariable=null,this._invalidateAllSymbols(),e&&(this._rendererFields=await e.getRequiredFields(this.i3slayer.fieldsIndex)),this._updateSymbologyFields(),!this._arcade&&e&&\"arcadeRequired\"in e&&e.arcadeRequired&&(this._arcade=await $()),e&&\"visualVariables\"in e&&e.visualVariables)for(const t of e.visualVariables)\"color\"===t.type?this._colorVariable=t:\"opacity\"===t.type?this._opacityVariable=t:Ge.warn(`Unsupported visual variable type for 3D Object Scene Services: ${t.type}`);if(e)for(const t of e.getSymbols())\"mesh-3d\"!==t.type&&Ge.error(`Symbols of type '${t.type}' are not supported for 3D Object Scene Services.`);this._controller&&this._controller.requestUpdate()}_getCachedEdgeMaterials(e){return this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e),e.cachedEdgeMaterials}_getSymbolColors(e){this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e);const t=e.cachedSymbology;return(e,i)=>{const s=5*e;D(i.externalColor,t[s+0]/255,t[s+1]/255,t[s+2]/255,t[s+3]/255),i.externalColorMixMode=15&t[s+4],i.castShadows=0!=(16&t[s+4]),i.pickable=0!=(32&t[s+4])}}_getSymbolInfo(e,t){const i=e&&e.getSymbol(t,{arcade:this._arcade});if(!(i instanceof K))return null;const s=i.id;if(this._symbolInfos.has(s))return this._symbolInfos.get(s);const r=we(i);return this._symbolInfos.set(s,r),r}_setSymbologyOverride(e,t){this._symbologyOverride!==e&&(this._symbologyOverride=e,this._symbologyOverrideFields=t,this._invalidateAllSymbols(),this._updateSymbologyFields())}_updateSymbologyFields(){this._symbologyFields=l(this._symbologyOverrideFields)&&this._symbologyOverrideFields.length>0?l(this._rendererFields)&&this._rendererFields.length>0?B(this.i3slayer.fieldsIndex,[...this._rendererFields,...this._symbologyOverrideFields]):this._symbologyOverrideFields:this._rendererFields}_updateCachedRendererData(e){if(e.cachedRendererVersion=this._rendererVersion,!this._hasSymbolColors)return;const t=this._tmpAttributeOnlyGraphic,i={};t.attributes=i;const s=this._currentRenderer,r=l(e.attributeInfo)&&e.attributeInfo.attributeData,o=null!=e.featureIds?this.i3slayer.objectIdField:null,a=null!=r&&l(this._symbologyFields)&&this._symbologyFields.length>0,n=a?[]:null,d=a?[]:null;if(a&&l(this._symbologyFields))for(const l of this._symbologyFields){const e=r[l];e&&(n.push(l),d.push(e))}e.cachedSymbology||(e.cachedSymbology=new Uint8Array(5*e.featureIds.length));const c={color:Je,castShadows:!0,pickable:!0,colorMixMode:1,edgeMaterial:null},u=this.fullOpacity,_=this.nodeCrossfadingEnabled?this.getNodeOpacity(e):u;let m=null,g=2,p=Se,f=0;for(let b=0;b<e.featureIds.length;b++){if(null!=o&&(i[o]=e.featureIds[b]),a)for(let e=0;e<n.length;e++)i[n[e]]=xe(d[e],b);const r=this._getSymbolInfo(s,t);let u=null,y=null;if(s&&\"visualVariables\"in s){if(this._colorVariable){const e=z(this._colorVariable,t,{color:Qe,arcade:this._arcade});e&&(u=Je,u[0]=e.r/255,u[1]=e.g/255,u[2]=e.b/255,this._opacityVariable||null===e.a||(y=e.a))}this._opacityVariable&&(y=W(this._opacityVariable,t,{arcade:this._arcade}))}if(r&&r.material){const e=r.material;u=h(u)||h(y)?se(u,y,e.color,e.alpha,Le,Je):se(u,y,null,null,Le,Je)}if(h(u)&&(u=Je,u[0]=1,u[1]=1,u[2]=1,u[3]=1),c.pickable=!0,c.castShadows=!r||r.castShadows,c.colorMixMode=r&&r.material?r.material.colorMixMode:1,c.edgeMaterial=r?r.edgeMaterial:null,l(this._symbologyOverride)&&(c.color=u,this._symbologyOverride(t,c),u=c.color),l(c.edgeMaterial)){const t=u[3]<=0?0:u[3]>=1&&(e.material.isOpaque||3===c.colorMixMode)?2:1;c.edgeMaterial===m&&t===g||(p={...c.edgeMaterial,opacity:_,objectTransparency:t},m=c.edgeMaterial,g=t),e.cachedEdgeMaterials[b]=p}else e.cachedEdgeMaterials[b]=Se;e.cachedSymbology[f+0]=Math.round(255*u[0]),e.cachedSymbology[f+1]=Math.round(255*u[1]),e.cachedSymbology[f+2]=Math.round(255*u[2]),e.cachedSymbology[f+3]=Math.round(255*u[3]),e.cachedSymbology[f+4]=c.colorMixMode|+c.castShadows<<4|+c.pickable<<5,f+=5}}_getFilteredEdgeMaterials(e){const t=this._getCachedEdgeMaterials(e);if(this.nodeCrossfadingEnabled||ot(t,this.fullOpacity),h(e.filteredIds)){return{hasEdges:t.some((e=>e!==Se)),perFeatureEdgeMaterials:t}}let i=0,s=!1;const r=t.map(((t,r)=>e.featureIds[r]!==e.filteredIds[i]?Se:(s=s||t!==Se,i++,t)));return{hasEdges:s,perFeatureEdgeMaterials:r}}_setObjectSymbolColors(e){if(!this._hasSymbolColors)return;const t=e.objectHandle,i=this._getSymbolColors(e);this._collection.setComponentData(t,i),this._stage.renderView.setNeedsRender()}_reloadAll(e=this.elevationOffset){this._removeAllNodeDataFromStage(e),null!=this._controller&&this._controller.restartNodeLoading()}_opacityChange(e){this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopAllNodeFading(),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>t.objectOpacity=e)),ot(t.cachedEdgeMaterials,e),this._updateEdgeRendering(t))}))}_updateMaterial(e){this._collection.updateMaterial(e.objectHandle,(e=>{e.commonMaterialParameters.slicePlaneEnabled=this.slicePlaneEnabled,e.usePBR=this._usePBR(),this._updateMaterialOverlay(e)}))}_updateMaterialOverlay(e){}_updateEngineObject(e){this._setObjectSymbolColors(e),this._applyFiltersToNode(e),this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e)}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlane=e),l(this._labeler)&&(this._labeler.slicePlaneEnabled=e),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>{t.commonMaterialParameters.slicePlaneEnabled=e})),this._updateEdgeRendering(t,!1))}))}_updatePBR(){this._nodeId2Meta.forEach((e=>{h(e)||this._collection.updateMaterial(e.objectHandle,(e=>{e.usePBR=this._usePBR()}))})),this._hasLoadedPBRTextures=!0}_usePBR(){return!this._isIntegratedMesh&&this.view.qualitySettings.physicallyBasedRenderingEnabled}_updateEdgeRendering(e,t=!0){l(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._addOrUpdateEdgeRendering(e,t)}_forAllNodes(e){this._nodeId2Meta.forEach(e)}_forAllFeatures(e,t,i=0){a(this._nodeId2Meta,(s=>{if(h(s))return!1;if(l(t)){switch(t(s)){case 0:return!0;case 2:return!1}}let r=1;switch(i){case 1:r=this._forAllFeaturesOfNode(s,e);break;case 0:r=this._forVisibleFeaturesOfNode(s,e);break;case 2:r=this._forAllFeaturesOfNodeInClippingArea(s,e)}return 0===r}))}_forAllFeaturesOfNode(e,t){let i=1;const s=e.featureIds;for(let r=0;r<s.length;r++)if(i=t(s[r],r,e),0===i)return i;return i}_forVisibleFeaturesOfNode(e,t){let i=1;const s=e.featureIds;return this._collection.forEachVisibleComponent(e.objectHandle,(r=>(i=t(s[r],r,e),1===i))),i}_forAllFeaturesOfNodeInClippingArea(e,t){if(null==this._clippingArea)return this._forAllFeaturesOfNode(e,t);const i=this._boundingboxNodeTest(e,this._clippingArea);if(0===i)return 1;if(3===i)return this._forAllFeaturesOfNode(e,t);const s=1,r=e.featureIds,o=e.objectHandle,a=Ee(this._clippingArea,this._collection.getObjectTransform(o));for(let n=0;n<r.length;n++){if(!this._boundingboxFeatureTest(e,n,a))continue;const i=t(r[n],n,e);if(0===i)return i}return s}_createAttributes(e,t){const i={};null!=t.featureIds&&(i[this._getObjectIdField()]=t.featureIds[e]);const s=l(t.attributeInfo)&&t.attributeInfo.attributeData;if(l(s))for(const r of Object.keys(s))i[r]=xe(s[r],e);return i}_createGraphic(e,t){return this._createLayerGraphic(this._createAttributes(e,t))}highlight(e){const t=this._highlights;if(\"number\"==typeof e||e instanceof i?e=[e]:e instanceof s&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof i){const i=e,s=this.i3slayer.fieldsIndex,r=this._getObjectIdField(),o=i.map((e=>De(s,e.attributes,r))),{set:a,handle:n}=t.acquireSet();return t.setFeatureIds(a,o),n}if(\"number\"==typeof e[0]){const i=e,{set:s,handle:r}=t.acquireSet();return t.setFeatureIds(s,i),r}}return rt}_visibleGeometryChanged(e){this._elevationProvider&&(this._elevationProvider.objectChanged(e.node),null==this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle=p((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))))}get performanceInfo(){const e={displayedNumberOfFeatures:0,maximumNumberOfFeatures:0,totalNumberOfFeatures:0,core:null,index:0,nodes:this._nodeId2Meta.size,\"Total GPU Memory Estimate\":(this.gpuMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Geometry Memory Estimate\":(this.geoMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Texture Memory Estimate\":(this.texMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Unloaded Memory Estimate\":(this.getUnloadedMemory()/1048576).toFixed(1)+\"MB\",...this._collection?this._collection.performanceInfo:{shown:0,hidden:0}};return l(this._memCache)&&(e.MemCache=Math.round(100*this._memCache.hitRate)+\"% hit\"),this._controller&&(this._idbCacheEnabled&&(e.IDBCache=Math.round(100*this._idbCache.getHitRate())+\"% hit\"),this._controller.updateStats(e)),e}get test(){const e=this;return{controller:this._controller,labeler:this._labeler,get visibleObjectIds(){const t=[];return e._forAllFeatures((e=>(t.push(e),1)),null,0),t.sort(((e,t)=>e-t)),t},get numNodes(){return e._nodeId2Meta.size}}}getNodeOpacityByIndex(e){const t=this._nodeId2Meta.get(e);return this.getNodeOpacity(t)}getNodeOpacity(e){return l(e)?this._collection.getMaterial(e.objectHandle).objectOpacity:0}isNodeFullyFadedIn(e){return this._crossfadeHelper.isNodeFullyFadedIn(e)}getNodeCrossfadeMetaData(e){return this._nodeId2Meta.get(e)}markNodeToRemove(e){this._controller&&this._controller.markNodeToRemove(e)}removeMarkedNodes(){this._controller&&this._controller.removeMarkedNodes()}foreachCrossfadeNode(e){this._nodeId2Meta.forEach(((t,i)=>e(i,t)))}fadeNode(e,t,i){if(!this.nodeCrossfadingEnabled)return;const s=this._nodeId2Meta.get(e);l(s)&&this._crossfadeHelper.fadeNode(e,s,t,i)}setNodeOpacityByIndex(e,t){const i=this._nodeId2Meta.get(e);l(i)&&this._setNodeOpacity(i,t)}_setNodeOpacity(e,t){this._collection.updateMaterial(e.objectHandle,(e=>e.objectOpacity=t)),this._setNodeEdgeOpacity(e,t)}_setNodeEdgeOpacity(e,t){if(!l(this._edgeView)||!e.cachedEdgeMaterials)return;ot(e.cachedEdgeMaterials,t);const i=e.objectHandle;this._edgeView.hasObject(i)&&this._edgeView.updateAllComponentOpacities(i,t)}get _hasModifications(){return this._modifications&&this._modifications.length>0}updateNodeModificationStatus(e){const t=e.length;if(!this._hasModifications||t<=0||!0!==this._i3sWasmLoaded)return;const i=this.i3slayer.uid,s=st(e);if(l(s)){const t={context:i,buffer:s.buffer};te(t);const r=new Float64Array(s.buffer);e.forAll(((e,t)=>{const i=r[t],s=ie(i);e.imModificationImpact=s,0!==s&&this._controller.invalidateGeometryVisibility(e.index)}))}}notifyUpdate(){this.notifyChange(\"updating\")}notifyLODUpdate(){this._controller.notifyLODUpdate()}isUpdating(){return!(!this._controller||!this._controller.updating)||!!this._visibleGeometryChangedSchedulerHandle||l(this._labeler)&&this._labeler.updating||this._crossfadeHelper.updating||this._i3sWasmLoaded instanceof Promise||this._asyncModuleLoading>0}};return f.lastIndex=0,e([v()],f.prototype,\"_hasLoadedPBRTextures\",void 0),e([v()],f.prototype,\"_asyncModuleLoading\",void 0),e([v()],f.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([v()],f.prototype,\"view\",void 0),e([v()],f.prototype,\"i3slayer\",void 0),e([v()],f.prototype,\"_controller\",void 0),e([v()],f.prototype,\"_labeler\",void 0),e([v()],f.prototype,\"updating\",void 0),e([v()],f.prototype,\"suspended\",void 0),e([v()],f.prototype,\"holeFilling\",void 0),e([v(Ae)],f.prototype,\"updatingProgress\",void 0),e([v({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],f.prototype,\"updatingProgressValue\",void 0),e([v({readOnly:!0})],f.prototype,\"hasTexturesOrVertexColors\",null),e([v({readOnly:!0})],f.prototype,\"rendererTextureUsage\",null),e([v({readOnly:!0})],f.prototype,\"elevationOffset\",null),e([v({type:Boolean})],f.prototype,\"slicePlaneEnabled\",void 0),e([v()],f.prototype,\"supportedTextureEncodings\",null),e([v()],f.prototype,\"uncompressedTextureDownsamplingEnabled\",null),e([v({type:[q]})],f.prototype,\"_modifications\",void 0),f=o=e([I(\"esri.views.3d.layers.I3SMeshView3D\")],f),f},We=P(),$e=P(),Ke=Te(),Je=[0,0,0,0],Qe=new t([0,0,0,0]),Xe=[0,0,0,0];function Ye(e){const t=e.metallicRoughness;return t&&t.baseColorTextureId>=0||t&&t.metallicRoughnessTextureId>=0||e.normalTextureId>=0||e.emissiveTextureId>=0||e.occlusionTextureId>=0}function Ze(e){return\"geometryData\"in e}function et(e){return l(e)&&f(e.data)}function tt(e,t){let i=1024+e.interleavedVertexData.byteLength+(e.indices?e.indices.byteLength:0)+e.positionData.data.byteLength+e.positionData.indices.byteLength;if(l(t))for(const s of t)l(s)&&f(s.data)&&(i+=s.data.byteLength);return i}function it(e,t){return t.byteSize>qe?(Ge.warn(`Node is too big to store in IndexedDB cache: ${e.id} (${t.byteSize} bytes)`),!1):t.byteSize>0}function st(e){if(0===e.length)return null;const t=10*e.length,i=new Float64Array(t);return e.forAll(((e,t)=>{let s=e.serviceObb;h(s)&&(s=Ke,E(s.center,e.mbs),s.halfSize[0]=s.halfSize[1]=s.halfSize[2]=e.mbs[3]);const r=10*t;i[r+0]=s.center[0],i[r+1]=s.center[1],i[r+2]=s.center[2],i[r+3]=s.halfSize[0],i[r+4]=s.halfSize[1],i[r+5]=s.halfSize[2],i[r+6]=s.quaternion[0],i[r+7]=s.quaternion[1],i[r+8]=s.quaternion[2],i[r+9]=s.quaternion[3]})),i}const rt={remove(){},pause(){},resume(){}};function ot(e,t){e.forEach((e=>e.opacity=t))}export{ze as I3SMeshView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"./BuildingComponentSublayer.js\";import n from\"./BuildingSublayer.js\";var a;const p={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:l}}},read:!1}};function l(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}t&&t.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t}))})))}let c=a=class extends n{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:u}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(p)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=p,r.readSublayers=l,r.forEachSublayer=e}(c||(c={}));var d=c;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{indexOf as r,PositionHint as s}from\"../../../../core/arrayUtils.js\";import n from\"../../../../core/Logger.js\";import{isNone as i,isSome as o}from\"../../../../core/maybe.js\";import{getUnitString as a}from\"../../../../core/unitUtils.js\";import{whenOnce as c}from\"../../../../core/watchUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{t as u,b as f,s as d}from\"../../../../chunks/vec3.js\";import{WhereClause as g}from\"../../../../core/sql/WhereClause.js\";import{projectBoundingSphere as h,load as y,project as m,projectVectorToVector as j}from\"../../../../geometry/projection.js\";import{create as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{fromValues as S,expandWithNestedArray as R,expand as w}from\"../../../../geometry/support/aaBoundingRect.js\";import{canProject as F,project as E}from\"../../../../geometry/support/webMercatorUtils.js\";import{objectIdFilter as I,filterInPlace as x}from\"./I3SUtil.js\";import M from\"../../../layers/support/FeatureFilter.js\";import _ from\"../../../../geometry/SpatialReference.js\";const v=n.getLogger(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\");let O,k=class extends t{constructor(e){super(e),this._projectionEngineLoaded=!1}initialize(){c(this,\"filter.geometry\").then((()=>this.loadAsyncModule(W().then((e=>{this.destroyed||(this._geometryEngine=e,this.applyFilters())})))))}get sortedObjectIds(){if(i(this.filter.objectIds))return null;const e=new Float64Array(this.filter.objectIds);return e.sort(),e}get parsedWhereClause(){const e=o(this.filter)?this.filter.where:null;if(i(e)||!e)return null;try{return g.create(e,this.layerFieldsIndex)}catch(t){v.error(`Failed to parse filter where clause: ${t}`)}return null}addFilters(e,t,r,s){const n=this.sortedObjectIds;o(n)&&e.push((e=>I(n,!0,e))),this.addSqlFilter(e,this.parsedWhereClause);const i=this.parsedGeometry;if(o(i)){const n=this.spatialRelationship;e.push(((e,o)=>T(e,o,s,t,r,i,n)))}}isMBSGeoemtryVisible(e,t,r){const s=this.parsedGeometry;if(o(s)){const n=this.spatialRelationship,i=s[0].spatialReference||t;if(!h(e,r,V,i))return v.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"),!0;return A(V,s,i,n)}return!0}get parsedGeometry(){if(i(this.filter))return null;if(!this._geometryEngine)return null;const{geometry:e}=this.filter;if(i(e))return null;const{distance:t,units:r}=this.filter,s=this.spatialRelationship,n=\"mesh\"===e.type?e.extent:e;if(i(t)||0===t)return C(n,s);const o=r||a(n.spatialReference);if(n.spatialReference.isWGS84){return C(this._geometryEngine.geodesicBuffer(n,t,o),s)}if(F(n,_.WGS84)){return C(E(this._geometryEngine.geodesicBuffer(E(n,_.WGS84),t,o),n.spatialReference),s)}if(!this._projectionEngineLoaded&&(this.loadAsyncModule(y().then((()=>this._projectionEngineLoaded=!0))),!this._projectionEngineLoaded))return null;let c=null;try{c=m(n,_.WGS84)}catch(l){}if(c)try{c=m(this._geometryEngine.geodesicBuffer(c,t,o),n.spatialReference)}catch(l){c=null}return c||v.error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${n.spatialReference.wkid}) to WGS84.`),C(c,s)}get spatialRelationship(){return o(this.filter)?this.filter.spatialRelationship:\"intersects\"}static checkSupport(e){return e.timeExtent?(v.warn(\"Filters with a timeExtent are not supported for mesh scene layers\"),!1):!!L(e.spatialRelationship)||(v.warn(`Filters with spatialRelationship other than ${B.join(\", \")} are not supported for mesh scene layers`),!1)}};function G(){return!!O}async function W(){return G()||(O=await import(\"../../../../geometry/geometryEngine.js\")),O}e([l({type:M})],k.prototype,\"filter\",void 0),e([l()],k.prototype,\"layerFieldsIndex\",void 0),e([l()],k.prototype,\"loadAsyncModule\",void 0),e([l()],k.prototype,\"applyFilters\",void 0),e([l()],k.prototype,\"addSqlFilter\",void 0),e([l({readOnly:!0})],k.prototype,\"sortedObjectIds\",null),e([l({readOnly:!0})],k.prototype,\"parsedWhereClause\",null),e([l({readOnly:!0})],k.prototype,\"parsedGeometry\",null),e([l({readOnly:!0})],k.prototype,\"spatialRelationship\",null),e([l()],k.prototype,\"_projectionEngineLoaded\",void 0),e([l()],k.prototype,\"_geometryEngine\",void 0),k=e([p(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\")],k);const B=(e=>e)([\"contains\",\"intersects\",\"disjoint\"]);function L(e){return null!=e&&B.indexOf(e)>=0}function C(e,t){if(!e)return null;if(\"disjoint\"===t&&\"polygon\"===e.type){const t=new Array(e.rings.length);for(let r=0;r<e.rings.length;++r){const s=S(1/0,1/0,-1/0,-1/0);R(s,e.rings[r]),t[r]={type:\"polygon\",rings:[e.rings[r]],spatialReference:e.spatialReference,aabr:s}}t.sort(((e,t)=>e.aabr[0]-t.aabr[0]));const n=new Set,i=new s;for(let e=0;e<t.length;++e){const s=t[e];for(let r=e+1;r<t.length;++r){const e=t[r];if(e.aabr[0]>=s.aabr[2])break;n.add(e)}n.forEach((e=>{if(s!==e)if(e.aabr[2]<=s.aabr[0])n.delete(e);else if(O.intersects(s,e)){s.rings=s.rings.concat(e.rings),w(s.aabr,e.aabr),delete s._geVersion,n.delete(e);const o=r(t,e,t.length,i);t.splice(o,1)}})),n.add(s)}for(const e of t)delete e.aabr;return t}return[e]}function A(e,t,r,s){const n=q(e,r);return t.every((e=>1!==Z(e,n,s)))}function T(e,t,r,s,n,i,o){const a=i[0].spatialReference||s.spatialReference;if(!h(t.node.mbs,n,V,a))return void v.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter\");const c=q(V,a),l=U(o,s,a,r,t.objectHandle);for(const p of i){if(0===e.length)return;switch(Z(p,c,o)){case 1:return void(e.length=0);case 0:continue}x(e,t.featureIds,(e=>P(p,e,l)))}}const V=[0,0,0,0];function U(e,t,r,s,n){const i=t.renderSpatialReference,o=new Map,a={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:r};a.rings[0][3]=a.rings[0][0];const c={indices:null,data:null,stride:0,startIndex:0,endIndex:0};let l,p;switch(e){case\"intersects\":l=(e,t)=>O.intersects(e,t)?0:2,p=$;break;case\"contains\":l=(e,t)=>O.contains(e,t)?2:1,p=$;break;case\"disjoint\":default:l=(e,t)=>O.disjoint(e,t)?2:1,p=z}return{collection:s,object:n,type:e,maskSR:r,renderSR:i,aabbCache:o,triangle:a,positions:c,triangleTest:l,geometryTest:p}}function q(e,t){const r={x:e[0],y:e[1],hasZ:!1,hasM:!1,type:\"point\",spatialReference:t},s=!t.isWGS84&&!t.isWebMercator?O.buffer(r,e[3],1):O.geodesicBuffer(r,e[3],1);return s.type=\"polygon\",s}function Z(e,t,r){switch(r){case\"intersects\":case\"contains\":return $(e,t);case\"disjoint\":return z(e,t)}}function $(e,t){return O.intersects(e,t)?O.contains(e,t)?0:2:1}function z(e,t){return O.intersects(e,t)?O.contains(e,t)?1:2:0}const H=2**-32;function P(e,t,r){const{collection:s,object:n,renderSR:i,maskSR:o,geometryTest:a,aabbCache:c}=r;let l=c.get(t);if(!l){const e=s.getObjectTransform(n);s.getComponentAabb(n,t,D);const r=[[D[0],D[1],0],[D[0],D[4],0],[D[3],D[4],0],[D[3],D[1],0]];for(let t=0;t<4;++t)u(r[t],r[t],e.rotationScale),f(r[t],r[t],e.position),j(r[t],i,r[t],o);l={rings:[r],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:o},l.rings[0][4]=l.rings[0][0],c.set(t,l)}switch(a(e,l)){case 1:return!1;case 0:return!0}const{triangle:p,triangleTest:g,positions:h}=r,y=p.rings[0][0],m=p.rings[0][1],b=p.rings[0][2],S=s.getObjectTransform(n);s.getComponentPositions(n,t,h);const{indices:R,data:w,stride:F,startIndex:E,endIndex:I}=h;for(let x=E;x<I;x+=3){const t=F*R[x+0],r=F*R[x+1],s=F*R[x+2];d(y,w[t+0],w[t+1],w[t+2]),d(m,w[r+0],w[r+1],w[r+2]),d(b,w[s+0],w[s+1],w[s+2]),u(y,y,S.rotationScale),u(m,m,S.rotationScale),u(b,b,S.rotationScale),f(y,y,S.position),f(m,m,S.position),f(b,b,S.position),j(y,i,y,o),j(m,i,m,o),j(b,i,b,o);const n=m[0]-y[0],a=m[1]-y[1],c=b[0]-y[0],l=b[1]-y[1];if(!(Math.abs(n*l-a*c)<H))switch(delete p._geVersion,g(e,p)){case 1:return!1;case 0:return!0}}switch(r.type){case\"intersects\":return!1;case\"contains\":case\"disjoint\":default:return!0}}const D=b();export{k as I3SMeshViewFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Error.js\";import s from\"../../../../core/Handles.js\";import{isNone as n}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../../geometry/Extent.js\";import u from\"../../../../layers/graphics/data/QueryEngine.js\";import y from\"../../../../rest/support/FeatureSet.js\";import c from\"../../../../rest/support/Query.js\";const l=u;let p=class extends r{constructor(e){super(e),this._dataQueryEngineInstance=null,this._handles=new s}get defaultQueryJSON(){return new c({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this.ensureDataQueryEngine()}initialize(){this._handles.add(this.layerView.on(\"visible-geometry-changed\",(()=>this.spatialIndex.events.emit(\"changed\"))))}destroy(){this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null),this._handles&&(this._handles.destroy(),this._handles=null),this._set(\"layerView\",null)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:a.fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQuery(e,r){const s=this._ensureQueryJSON(e);if(s.returnGeometry)throw new t(\"feature-store:unsupported-query\",\"returnGeometry is not yet supported for mesh scene layer queries\");if(s.returnCentroid)throw new t(\"feature-store:unsupported-query\",\"returnCentroid is not yet supported for mesh scene layer queries\");const n=await this.dataQueryEngine.executeQuery(s,r),o=y.fromJSON(n);return o.features.forEach((e=>{e.geometry=null})),o}_ensureQueryJSON(e){if(n(e))return this.defaultQueryJSON;const r=e.toJSON();return r.outSpatialReference||(e.outSpatialReference=this.spatialReference),r}ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=this.layer.objectIdField||\"OBJECTID\",r=\"esriGeometryPolygon\",t=this.layer.fields.map((e=>e.toJSON())),s=this.layerView.view.resourceController.scheduler,n=this.spatialReference.toJSON(),o=this.priority,i=this.spatialIndex;return this._dataQueryEngineInstance=new l({hasZ:!0,hasM:!1,geometryType:r,fields:t,timeInfo:null,spatialReference:n,objectIdField:e,featureStore:i,scheduler:s,priority:o}),this._dataQueryEngineInstance}};e([o({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],p.prototype,\"priority\",void 0),e([o({constructOnly:!0})],p.prototype,\"spatialIndex\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.view.spatialReference\"})],p.prototype,\"spatialReference\",void 0),e([o({readOnly:!0,aliasOf:\"layerView.i3slayer\"})],p.prototype,\"layer\",void 0),e([o({readOnly:!0})],p.prototype,\"defaultQueryJSON\",null),p=e([i(\"esri.views.3d.layers.i3s.I3SQueryEngine\")],p);var d=p;export default d;export{p as I3SQueryEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{create as e}from\"../../../../geometry/support/aaBoundingBox.js\";import{getCentroidOptimizedGeometry as r}from\"../../../../layers/graphics/centroid.js\";import o from\"../../../../layers/graphics/OptimizedGeometry.js\";import{getCachedAttributeValue as i}from\"./I3SUtil.js\";class n{constructor(t){this.objectIdField=t.objectIdField,this.getFeatureExtent=t.getFeatureExtent}getObjectId(t){return t.id}getAttributes(e){const{meta:r,index:o}=e,n={};this.objectIdField&&(n[this.objectIdField]=e.id);const s=t(r.attributeInfo)&&r.attributeInfo.attributeData;if(t(s))for(const t of Object.keys(s))n[t]=i(s[t],o);return n}getAttribute(e,r){if(r===this.objectIdField)return e.id;const{meta:o,index:n}=e,s=t(o.attributeInfo)&&o.attributeInfo.attributeData;return t(s)?i(s[r],n):null}getGeometry(t){if(t.geometry)return t.geometry;const[e,r,i,n,a]=this.getFeatureExtent(t,s);return new o([5],[e,r,i,n,r,i,n,a,i,e,a,i,e,r,i])}getCentroid(t,e){if(t.geometry)return r(new o,t.geometry,e.hasZ,e.hasM);const[i,n,a,m,u,d]=this.getFeatureExtent(t,s);return new o([0],[(i+m)/2,(n+u)/2,(a+d)/2])}cloneWithGeometry(t,e){const{id:r,index:o,meta:i}=t;return{id:r,index:o,meta:i,geometry:e}}}const s=e();export{n as I3SQueryFeatureAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import t from\"../../../../core/Evented.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec4f64.js\";import{projectBoundingSphere as a}from\"../../../../geometry/projection.js\";import{toRect as n,create as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{intersects as i,create as u}from\"../../../../geometry/support/aaBoundingRect.js\";let m=class extends r{constructor(e){super(e),this.events=new t}destroy(){}forEach(e){this.forAllFeatures((r=>(e(r),1)))}forEachBounds(e,r,t){const o=this.getFeatureExtent;for(const s of e)r(o(s,t))}forEachInBounds(e,r){this.forAllFeatures((t=>{const o=this.getFeatureExtent(t,l);return i(e,n(o,d))&&r(t),1}),(r=>{if(a(r.node.mbs,this.sourceSpatialReference,f,this.viewSpatialReference),f[0]>=e[0]&&f[2]<=e[2]&&f[1]>=e[1]&&f[3]<=e[3])return 1;const t=Math.max(e[0],Math.min(f[0],e[2])),o=Math.max(e[1],Math.min(f[1],e[3])),s=f[0]-t,c=f[1]-o;return s*s+c*c<=f[3]*f[3]?1:2}))}};e([o({constructOnly:!0})],m.prototype,\"featureAdapter\",void 0),e([o({constructOnly:!0})],m.prototype,\"forAllFeatures\",void 0),e([o({constructOnly:!0})],m.prototype,\"getFeatureExtent\",void 0),e([o({constructOnly:!0})],m.prototype,\"sourceSpatialReference\",void 0),e([o({constructOnly:!0})],m.prototype,\"viewSpatialReference\",void 0),m=e([s(\"esri.views.3d.layers.i3s.I3SQueryFeatureStore\")],m);const f=c(),l=p(),d=u();var y=m;export default y;export{m as I3SQueryFeatureStore};\n"],"sourceRoot":""}